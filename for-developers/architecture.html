
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A visual ETL tool combining drag-and-drop workflow building with Polars dataframes">
      
      
      
        <link rel="canonical" href="https://edwardvaneechoud.github.io/Flowfile/for-developers/architecture.html">
      
      
        <link rel="prev" href="design-philosophy.html">
      
      
        <link rel="next" href="flowfile-core.html">
      
      
      <link rel="icon" href="../assets/images/logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>Architecture - Flowfile</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.e53b48f4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CSource+Code+Pro:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Source Code Pro"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#technical-architecture" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="Flowfile" class="md-header__button md-logo" aria-label="Flowfile" data-md-component="logo">
      
  <img src="../assets/images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Flowfile
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Architecture
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/edwardvaneechoud/Flowfile" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../index.html" class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../quickstart.html" class="md-tabs__link">
        
  
  
    
  
  Quickstart

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../users/index.html" class="md-tabs__link">
          
  
  
  User Guides

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="index.html" class="md-tabs__link">
          
  
  
  For Developers

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="Flowfile" class="md-nav__button md-logo" aria-label="Flowfile" data-md-component="logo">
      
  <img src="../assets/images/logo.png" alt="logo">

    </a>
    Flowfile
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/edwardvaneechoud/Flowfile" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../quickstart.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quickstart
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    User Guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            User Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Visual Editor
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Visual Editor
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/building-flows.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Building Flows
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_3" >
        
          
          <label class="md-nav__link" for="__nav_3_2_3" id="__nav_3_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Node Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_3">
            <span class="md-nav__icon md-icon"></span>
            Node Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/nodes/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/nodes/input.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Input Nodes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/nodes/transform.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Transform Nodes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/nodes/combine.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Combine Nodes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/nodes/aggregate.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Aggregate Nodes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/nodes/output.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Output Nodes
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_4" >
        
          
          <label class="md-nav__link" for="__nav_3_2_4" id="__nav_3_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_4">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/tutorials/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/tutorials/database-connectivity.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Connect to PostgreSQL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/tutorials/cloud-connections.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Manage Cloud Storage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/tutorials/code-generator.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Export to Python
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Python API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Python API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/quickstart.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quick Start
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3_3" id="__nav_3_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Core Concepts
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_3">
            <span class="md-nav__icon md-icon"></span>
            Core Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/concepts/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/concepts/design-concepts.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FlowFrame & FlowGraph
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/concepts/expressions.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Formula Syntax
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_3_4" id="__nav_3_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_4">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/reference/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/reference/reading-data.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reading Data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/reference/writing-data.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Writing Data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/reference/data-types.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/reference/flowframe-operations.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DataFrame Operations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/reference/aggregations.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Aggregations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/reference/joins.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Joins
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/reference/cloud-connections.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cloud Storage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/reference/visual-ui.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Visual UI Integration
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_3_5" id="__nav_3_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_5">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/tutorials/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/tutorials/flowfile_frame_api.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Building Flows with Code
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    For Developers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            For Developers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="design-philosophy.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Design Philosophy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="architecture.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#core-components" class="md-nav__link">
    <span class="md-ellipsis">
      Core Components
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Core Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#three-service-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Three-Service Architecture
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-technical-features" class="md-nav__link">
    <span class="md-ellipsis">
      Key Technical Features
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Technical Features">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#real-time-schema-prediction" class="md-nav__link">
    <span class="md-ellipsis">
      Real-time Schema Prediction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-directed-acyclic-graph-dag-the-foundation-of-workflows" class="md-nav__link">
    <span class="md-ellipsis">
      The Directed Acyclic Graph (DAG): The Foundation of Workflows
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#execution-modes" class="md-nav__link">
    <span class="md-ellipsis">
      Execution Modes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#efficient-data-exchange" class="md-nav__link">
    <span class="md-ellipsis">
      Efficient Data Exchange
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-power-of-lazy-evaluation" class="md-nav__link">
    <span class="md-ellipsis">
      The Power of Lazy Evaluation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="flowfile-core.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Core Internals
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="python-api-reference.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Internal API Reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="creating-custom-nodes.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Create Custom Nodes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="custom-node-tutorial.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Building more custom Nodes
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#core-components" class="md-nav__link">
    <span class="md-ellipsis">
      Core Components
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Core Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#three-service-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Three-Service Architecture
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-technical-features" class="md-nav__link">
    <span class="md-ellipsis">
      Key Technical Features
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Technical Features">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#real-time-schema-prediction" class="md-nav__link">
    <span class="md-ellipsis">
      Real-time Schema Prediction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-directed-acyclic-graph-dag-the-foundation-of-workflows" class="md-nav__link">
    <span class="md-ellipsis">
      The Directed Acyclic Graph (DAG): The Foundation of Workflows
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#execution-modes" class="md-nav__link">
    <span class="md-ellipsis">
      Execution Modes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#efficient-data-exchange" class="md-nav__link">
    <span class="md-ellipsis">
      Efficient Data Exchange
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-power-of-lazy-evaluation" class="md-nav__link">
    <span class="md-ellipsis">
      The Power of Lazy Evaluation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="technical-architecture">Technical Architecture</h1>
<p>Flowfile's architecture integrates visual design with high-performance data processing through three interconnected services and utilizes Polars' lazy evaluation. This design provides real-time feedback, processes large datasets efficiently, and maintains UI responsiveness during intensive computations. On this page, the three-service architecture, key technical features such as real-time schema prediction and efficient data exchange, and the role of Polars' lazy evaluation are explained.</p>
<p><img alt="Flowfile Architecture" src="../assets/images/architecture/flowfile_architecture.png" /></p>
<h2 id="core-components">Core Components</h2>
<h3 id="three-service-architecture">Three-Service Architecture</h3>
<p><strong>Designer (Electron + Vue)</strong> The visual interface where data pipelines are build through drag-and-drop operations. It communicates with the Core service to provide real-time feedback and displays data previews.</p>
<p><strong>Core Service (FastAPI)</strong> The orchestration engine that manages workflows, predicts schemas, and coordinates execution. It maintains the Directed Acyclic Graph (DAG) structure and handles all UI interactions and overall flow logic.</p>
<p><strong>Worker Service (FastAPI)</strong> Handles heavy data computations in isolated processes. It executes Polars transformations, materializes data, and manages data caching using Apache Arrow IPC format, preventing large datasets from overwhelming the Core service.</p>
<h2 id="key-technical-features">Key Technical Features</h2>
<h3 id="real-time-schema-prediction">Real-time Schema Prediction</h3>
<p>When you add or configure a node, Flowfile immediately shows how your data structure will change — <strong>without executing any transformations</strong>. This continuous feedback significantly reduces user errors and increases predictability. This happens through:</p>
<ul>
<li><strong>Schema Callbacks</strong>: Custom functions, defined per node type, that calculate output schemas based on node settings and input schemas.</li>
<li><strong>Lazy Evaluation</strong>: Leveraging Polars' ability to determine the schema of a planned transformation (<code>LazyFrame</code>) without processing the full dataset.</li>
</ul>
<details>
<summary>View Schema Prediction Python Example</summary>
<div class="highlight"><pre><span></span><code><span class="c1"># Example: Schema prediction for a Group By operation</span>
<span class="k">def</span><span class="w"> </span><span class="nf">schema_callback</span><span class="p">():</span>
    <span class="n">output_columns</span> <span class="o">=</span> <span class="p">[(</span><span class="n">c</span><span class="o">.</span><span class="n">old_name</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">new_name</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">output_type</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">group_by_settings</span><span class="o">.</span><span class="n">groupby_input</span><span class="o">.</span><span class="n">agg_cols</span><span class="p">]</span>
    <span class="n">depends_on</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">input_schema_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="n">s</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">s</span><span class="o">.</span><span class="n">data_type</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">depends_on</span><span class="o">.</span><span class="n">schema</span><span class="p">}</span>
    <span class="n">output_schema</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">old_name</span><span class="p">,</span> <span class="n">new_name</span><span class="p">,</span> <span class="n">data_type</span> <span class="ow">in</span> <span class="n">output_columns</span><span class="p">:</span>
        <span class="n">data_type</span> <span class="o">=</span> <span class="n">input_schema_dict</span><span class="p">[</span><span class="n">old_name</span><span class="p">]</span> <span class="k">if</span> <span class="n">data_type</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">data_type</span>
        <span class="n">output_schema</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">FlowfileColumn</span><span class="o">.</span><span class="n">from_input</span><span class="p">(</span><span class="n">data_type</span><span class="o">=</span><span class="n">data_type</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="n">new_name</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">output_schema</span>
</code></pre></div>
</details>
<h3 id="the-directed-acyclic-graph-dag-the-foundation-of-workflows">The Directed Acyclic Graph (DAG): The Foundation of Workflows</h3>
<p>As you add and connect nodes, Flowfile builds a Directed Acyclic Graph (DAG) where:</p>
<ul>
<li><strong>Nodes</strong> represent data operations (read file, filter, join, write to database, etc.).</li>
<li><strong>Edges</strong> represent the flow of data between operations.</li>
</ul>
<p>The DAG is managed by the <code>EtlGraph</code> class in the Core service, which orchestrates the entire workflow:</p>
<details>
<summary>View EtlGraph Python Implementation</summary>
<div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">EtlGraph</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Manages the ETL workflow as a DAG. Stores nodes, dependencies,</span>
<span class="sd">    and settings, and handles the execution order.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">uuid</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">_node_db</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="n">NodeStep</span><span class="p">]</span>  <span class="c1"># Internal storage for all node steps</span>
    <span class="n">_flow_starts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">NodeStep</span><span class="p">]</span>               <span class="c1"># Nodes that initiate data flow (e.g., readers)</span>
    <span class="n">_node_ids</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span>           <span class="c1"># Tracking node identifiers</span>
    <span class="n">flow_settings</span><span class="p">:</span> <span class="n">schemas</span><span class="o">.</span><span class="n">FlowSettings</span>        <span class="c1"># Global configuration for the flow</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_node_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">function</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span>
                      <span class="n">node_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a new processing node (NodeStep) to the graph.&quot;&quot;&quot;</span>
        <span class="n">node_step</span> <span class="o">=</span> <span class="n">NodeStep</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">node_id</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="n">function</span><span class="p">,</span> <span class="n">node_type</span><span class="o">=</span><span class="n">node_type</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_node_db</span><span class="p">[</span><span class="n">node_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">node_step</span>
        <span class="c1"># Additional logic to manage dependencies and flow starts...</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">run_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RunInformation</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Executes the entire flow in the correct topological order.&quot;&quot;&quot;</span>
        <span class="n">execution_order</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">topological_sort</span><span class="p">()</span> <span class="c1"># Determine correct sequence</span>
        <span class="n">run_info</span> <span class="o">=</span> <span class="n">RunInformation</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">execution_order</span><span class="p">:</span>
            <span class="c1"># Execute node based on mode (Development/Performance)</span>
            <span class="n">node_results</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">execute_node</span><span class="p">()</span> <span class="c1"># Simplified representation</span>
            <span class="n">run_info</span><span class="o">.</span><span class="n">add_result</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span> <span class="n">node_results</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">run_info</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">topological_sort</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">NodeStep</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Determines the correct order to execute nodes based on dependencies.&quot;&quot;&quot;</span>
        <span class="c1"># Standard DAG topological sort algorithm...</span>
        <span class="k">pass</span>
</code></pre></div>
</details>
<p>Each <code>NodeStep</code> in the graph encapsulates information about its dependencies, transformation logic, and output schema. This structure allows Flowfile to determine execution order, track data lineage, optimize performance, and provide schema predictions throughout the pipeline.</p>
<h3 id="execution-modes">Execution Modes</h3>
<p>By clicking on settings &rarr; execution modes you can set how the flow will be executed the next time you run the flow.</p>
<p><img alt="execution settings" src="../assets/images/guides/technical_architecture/execution_settings.png" /></p>
<p>Flowfile offers two execution modes tailored for different needs:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Feature</th>
<th style="text-align: left;">Development Mode</th>
<th style="text-align: left;">Performance Mode</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>Purpose</strong></td>
<td style="text-align: left;">Interactive debugging, step inspection</td>
<td style="text-align: left;">Optimized execution for production/speed</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Execution</strong></td>
<td style="text-align: left;">Executes node-by-node</td>
<td style="text-align: left;">Builds full plan, executes minimally</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Data Caching</strong></td>
<td style="text-align: left;">Caches intermediate results per step</td>
<td style="text-align: left;">Minimal caching (only if specified/needed)</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Preview Data</strong></td>
<td style="text-align: left;">Available for all nodes</td>
<td style="text-align: left;">Only for final/cached nodes</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Memory Usage</strong></td>
<td style="text-align: left;">Potentially higher</td>
<td style="text-align: left;">Generally lower</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Speed</strong></td>
<td style="text-align: left;">Moderate</td>
<td style="text-align: left;">Faster for complex flows</td>
</tr>
</tbody>
</table>
<p><strong>Development Mode</strong>
In Development mode, each node's transformation is triggered sequentially within the Worker service. Its intermediate result is typically serialized using <strong>Apache Arrow IPC format</strong> and cached to disk. This allows you to inspect the data at each step in the Designer via small samples fetched from the cache.</p>
<p><strong>Performance Mode</strong>
In Performance mode, Flowfile fully embraces Polars' lazy evaluation. The Core service constructs the <em>entire</em> Polars execution plan based on the DAG. This plan (<code>LazyFrame</code>) is passed to the Worker service. The Worker only <em>materializes</em> (executes <code>.collect()</code> or <code>.sink_*()</code>) the plan when an output node (like writing to a file) requires the final result, or if a node is explicitly configured to cache its results (<code>node.cache_results</code>). This minimizes computation and memory usage by avoiding unnecessary intermediate materializations.</p>
<details>
<summary>View Performance Mode Python Example</summary>
<div class="highlight"><pre><span></span><code><span class="c1"># Execution logic in Performance Mode (simplified)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">execute_performance_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">:</span> <span class="n">NodeStep</span><span class="p">,</span> <span class="n">is_output_node</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Handles execution in performance mode, leveraging lazy evaluation.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">is_output_node</span> <span class="ow">or</span> <span class="n">node</span><span class="o">.</span><span class="n">cache_results</span><span class="p">:</span>
        <span class="c1"># If result is needed (output or caching), trigger execution in Worker</span>
        <span class="n">external_df_fetcher</span> <span class="o">=</span> <span class="n">ExternalDfFetcher</span><span class="p">(</span>
            <span class="n">lf</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">get_resulting_data</span><span class="p">()</span><span class="o">.</span><span class="n">data_frame</span><span class="p">,</span> <span class="c1"># Pass the LazyFrame plan</span>
            <span class="n">file_ref</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">hash</span><span class="p">,</span> <span class="c1"># Unique reference for caching</span>
            <span class="n">wait_on_completion</span><span class="o">=</span><span class="kc">False</span> <span class="c1"># Usually async</span>
        <span class="p">)</span>
        <span class="c1"># Worker executes .collect() or .sink_*() and caches if needed</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">external_df_fetcher</span><span class="o">.</span><span class="n">get_result</span><span class="p">()</span> <span class="c1"># May return LazyFrame or trigger compute</span>
        <span class="k">return</span> <span class="n">result</span> <span class="c1"># Or potentially just confirmation if sinking</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># If not output/cached, just pass the LazyFrame plan along</span>
        <span class="c1"># No computation happens here for intermediate nodes</span>
        <span class="k">return</span> <span class="n">node</span><span class="o">.</span><span class="n">get_resulting_data</span><span class="p">()</span><span class="o">.</span><span class="n">data_frame</span>
</code></pre></div>
</details>
<p>Crucially, <strong>all actual data processing and materialization of Polars DataFrames/LazyFrames happens in the Worker service</strong>. This separation prevents large datasets from overwhelming the Core service, ensuring the UI remains responsive.</p>
<h3 id="efficient-data-exchange">Efficient Data Exchange</h3>
<p>Flowfile uses Apache Arrow IPC format for efficient inter-process communication between the Core and Worker services:</p>
<ol>
<li><strong>Worker Processing &amp; Serialization</strong>: When the Worker needs to materialize data (either for intermediate caching in Development mode or final results), it computes the Polars DataFrame. The resulting DataFrame is serialized into the efficient Arrow IPC binary format.</li>
<li><strong>Disk Caching</strong>: This serialized data is saved to a temporary file on disk. This file acts as a cache, identified by a unique hash (<code>file_ref</code>). The Worker informs the Core that the result is ready at this <code>file_ref</code>.</li>
<li><strong>Core Fetching</strong>: If the Core (or subsequently, another Worker task) needs this data, it uses the <code>file_ref</code> to access the cached Arrow file directly. This avoids sending large datasets over network sockets between processes.</li>
<li><strong>UI Sampling</strong>: For UI previews, the Core requests a small sample (e.g., the first 100 rows) from the Worker. The Worker reads just the sample from the Arrow IPC file and sends only that lightweight data back to the Core, which forwards it to the Designer.</li>
</ol>
<p>This ensures responsiveness, memory isolation, and efficiency.</p>
<p>Here’s how the Core might offload computation to the Worker, and how the Worker manages the separate process execution:</p>
<details>
<summary>View Core-Side Python Example</summary>
<div class="highlight"><pre><span></span><code><span class="c1"># Core side - Initiating remote execution in the Worker (simplified)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">execute_remote</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">performance_mode</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Offloads the execution of a node&#39;s LazyFrame to the Worker service.&quot;&quot;&quot;</span>
    <span class="c1"># Create a fetcher instance to manage communication with the Worker</span>
    <span class="n">external_df_fetcher</span> <span class="o">=</span> <span class="n">ExternalDfFetcher</span><span class="p">(</span>
        <span class="n">lf</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_resulting_data</span><span class="p">()</span><span class="o">.</span><span class="n">data_frame</span><span class="p">,</span> <span class="c1"># The Polars LazyFrame plan</span>
        <span class="n">file_ref</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hash</span><span class="p">,</span>                      <span class="c1"># Unique identifier for the result/cache</span>
        <span class="n">wait_on_completion</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>                <span class="c1"># Operate asynchronously</span>
    <span class="p">)</span>

    <span class="c1"># Store the fetcher to potentially retrieve results later</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_fetch_cached_df</span> <span class="o">=</span> <span class="n">external_df_fetcher</span>

    <span class="c1"># Request the Worker to start processing (this returns quickly)</span>
    <span class="c1"># The actual computation happens asynchronously in the Worker</span>
    <span class="n">external_df_fetcher</span><span class="o">.</span><span class="n">start_processing_in_worker</span><span class="p">()</span> <span class="c1"># Hypothetical method name</span>

    <span class="c1"># For UI updates, request a sample separately</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">store_example_data_generator</span><span class="p">(</span><span class="n">external_df_fetcher</span><span class="p">)</span> <span class="c1"># Fetches sample async</span>
</code></pre></div>
</details>
<details>
<summary>View Worker-Side Python Example</summary>
<div class="highlight"><pre><span></span><code><span class="c1"># Worker side - Managing computation in a separate process (simplified)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">start_process</span><span class="p">(</span>
    <span class="n">polars_serializable_object</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="c1"># Serialized LazyFrame plan</span>
    <span class="n">task_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">file_ref</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="c1"># Path for cached output (Arrow IPC file)</span>
    <span class="c1"># ... other args like operation type</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Launches a separate OS process to handle the heavy computation.&quot;&quot;&quot;</span>
    <span class="c1"># Use multiprocessing context for safety</span>
    <span class="n">mp_context</span> <span class="o">=</span> <span class="n">multiprocessing</span><span class="o">.</span><span class="n">get_context</span><span class="p">(</span><span class="s1">&#39;spawn&#39;</span><span class="p">)</span> <span class="c1"># or &#39;fork&#39; depending on OS/needs</span>

    <span class="c1"># Shared memory/queue for progress tracking and results/errors</span>
    <span class="n">progress</span> <span class="o">=</span> <span class="n">mp_context</span><span class="o">.</span><span class="n">Value</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="c1"># Shared integer for progress %</span>
    <span class="n">error_message</span> <span class="o">=</span> <span class="n">mp_context</span><span class="o">.</span><span class="n">Array</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="mi">1024</span><span class="p">)</span> <span class="c1"># Shared buffer for error messages</span>
    <span class="n">queue</span> <span class="o">=</span> <span class="n">mp_context</span><span class="o">.</span><span class="n">Queue</span><span class="p">(</span><span class="n">maxsize</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># For potentially passing back results (or file ref)</span>

    <span class="c1"># Define the target function and arguments for the new process</span>
    <span class="n">process</span> <span class="o">=</span> <span class="n">mp_context</span><span class="o">.</span><span class="n">Process</span><span class="p">(</span>
        <span class="n">target</span><span class="o">=</span><span class="n">process_task</span><span class="p">,</span> <span class="c1"># The function that runs Polars .collect()/.sink()</span>
        <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;polars_serializable_object&#39;</span><span class="p">:</span> <span class="n">polars_serializable_object</span><span class="p">,</span>
            <span class="s1">&#39;progress&#39;</span><span class="p">:</span> <span class="n">progress</span><span class="p">,</span>
            <span class="s1">&#39;error_message&#39;</span><span class="p">:</span> <span class="n">error_message</span><span class="p">,</span>
            <span class="s1">&#39;queue&#39;</span><span class="p">:</span> <span class="n">queue</span><span class="p">,</span>
            <span class="s1">&#39;file_path&#39;</span><span class="p">:</span> <span class="n">file_ref</span><span class="p">,</span> <span class="c1"># Where to save the Arrow IPC output</span>
            <span class="c1"># ... other necessary kwargs</span>
        <span class="p">}</span>
    <span class="p">)</span>
    <span class="n">process</span><span class="o">.</span><span class="n">start</span><span class="p">()</span> <span class="c1"># Launch the independent process</span>

    <span class="c1"># Monitor the task (e.g., update status in a database, check progress)</span>
    <span class="n">handle_task</span><span class="p">(</span><span class="n">task_id</span><span class="p">,</span> <span class="n">process</span><span class="p">,</span> <span class="n">progress</span><span class="p">,</span> <span class="n">error_message</span><span class="p">,</span> <span class="n">queue</span><span class="p">)</span>
</code></pre></div>
</details>
<h2 id="the-power-of-lazy-evaluation">The Power of Lazy Evaluation</h2>
<p>By building on Polars' lazy evaluation, Flowfile achieves:</p>
<ul>
<li><strong>Memory Efficiency</strong>: Data is loaded and processed only when necessary, often streaming through operations without loading entire datasets into memory at once. This allows processing datasets larger than RAM.</li>
<li><strong>Query Optimization</strong>: Polars analyzes the entire execution plan and can reorder, combine, or eliminate operations for maximum efficiency.</li>
<li><strong>Parallel Execution</strong>: Polars automatically parallelizes operations across all available CPU cores during execution.</li>
<li><strong>Predicate Pushdown</strong>: Filters and selections are applied as early as possible in the plan, often directly at the data source level (like during file reading), minimizing the amount of data that needs to be processed downstream.</li>
</ul>
<h2 id="summary">Summary</h2>
<p>This design enables Flowfile to:</p>
<ul>
<li>Provide instant feedback without processing data.</li>
<li>Handle datasets of any size efficiently.</li>
<li>Keep the UI responsive during heavy computations.</li>
<li>Scale from simple transformations to complex ETL pipelines.</li>
</ul>
<hr />
<p><em>For a deep dive into the implementation details, see the <a href="https://dev.to/edwardvaneechoud/building-flowfile-architecting-a-visual-etl-tool-with-polars-576c">full technical article</a>.</em></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.sections", "navigation.top", "search.suggest", "search.highlight", "content.code.copy"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>