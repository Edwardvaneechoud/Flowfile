
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A visual ETL tool combining drag-and-drop workflow building with Polars dataframes">
      
      
      
        <link rel="canonical" href="https://edwardvaneechoud.github.io/Flowfile/for-developers/flowfile-core.html">
      
      
        <link rel="prev" href="architecture.html">
      
      
        <link rel="next" href="python-api-reference.html">
      
      
        
      
      
      <link rel="icon" href="../assets/images/logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Core Internals - Flowfile</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CSource+Code+Pro:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Source Code Pro"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#flowfile-core-a-developers-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="Flowfile" class="md-header__button md-logo" aria-label="Flowfile" data-md-component="logo">
      
  <img src="../assets/images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Flowfile
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Core Internals
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/edwardvaneechoud/Flowfile" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../index.html" class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../quickstart.html" class="md-tabs__link">
        
  
  
    
  
  Quickstart

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../users/index.html" class="md-tabs__link">
          
  
  
  User Guides

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../users/deployment/index.html" class="md-tabs__link">
          
  
  
  Deployment

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="index.html" class="md-tabs__link">
          
  
  
  For Developers

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="Flowfile" class="md-nav__button md-logo" aria-label="Flowfile" data-md-component="logo">
      
  <img src="../assets/images/logo.png" alt="logo">

    </a>
    Flowfile
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/edwardvaneechoud/Flowfile" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../quickstart.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quickstart
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    User Guides
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    User Guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Visual Editor
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Visual Editor
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/building-flows.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Building Flows
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_3" >
        
          
          <label class="md-nav__link" for="__nav_3_2_3" id="__nav_3_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Node Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Node Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/nodes/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/nodes/input.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Input Nodes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/nodes/transform.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Transform Nodes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/nodes/combine.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Combine Nodes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/nodes/aggregate.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Aggregate Nodes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/nodes/output.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Output Nodes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_4" >
        
          
          <label class="md-nav__link" for="__nav_3_2_4" id="__nav_3_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Tutorials
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tutorials
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/tutorials/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/tutorials/database-connectivity.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Connect to PostgreSQL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/tutorials/cloud-connections.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Manage Cloud Storage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/tutorials/code-generator.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Export to Python
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/kernels.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Kernel Execution
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/node-designer.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Node Designer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/settings.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Settings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Python API
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Python API
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/quickstart.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quick Start
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3_3" id="__nav_3_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Core Concepts
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Core Concepts
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/concepts/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/concepts/design-concepts.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FlowFrame & FlowGraph
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/concepts/expressions.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Formula Syntax
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_3_4" id="__nav_3_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/reference/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/reference/reading-data.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Reading Data
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/reference/writing-data.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Writing Data
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/reference/data-types.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Types
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/reference/flowframe-operations.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DataFrame Operations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/reference/aggregations.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Aggregations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/reference/joins.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Joins
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/reference/cloud-connections.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cloud Storage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/reference/visual-ui.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Visual UI Integration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_3_5" id="__nav_3_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Tutorials
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tutorials
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/tutorials/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/tutorials/flowfile_frame_api.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Building Flows with Code
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/secrets.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Secrets
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Deployment
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Deployment
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/deployment/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/deployment/desktop.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Desktop App
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/deployment/python.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Python Package
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/deployment/docker.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Docker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    For Developers
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    For Developers
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="design-philosophy.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Design Philosophy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="architecture.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Core Internals
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="flowfile-core.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Core Internals
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-core-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Core Architecture
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-the-flowgraph-your-pipeline-orchestrator" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. The FlowGraph: Your Pipeline Orchestrator
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-adding-a-node-where-settings-come-to-life" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Adding a Node: Where Settings Come to Life
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-connections-the-key-to-a-flowing-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Connections: The Key to a Flowing Pipeline
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-the-flowdataengine-the-data-carrier" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. The FlowDataEngine: The Data Carrier
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-the-hash-system-smart-change-detection" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. The Hash System: Smart Change Detection
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-schema-prediction-see-the-future" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Schema Prediction: See the Future
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-complete-picture-a-summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Complete Picture: A Summary
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#execution-strategy-how-nodes-decide-where-to-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        Execution Strategy: How Nodes Decide Where to Run
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Execution Strategy: How Nodes Decide Where to Run">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#execution-modes-from-the-frontend" class="md-nav__link">
    <span class="md-ellipsis">
      
        Execution Modes from the Frontend
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Execution Modes from the Frontend">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#development-mode-remote" class="md-nav__link">
    <span class="md-ellipsis">
      
        Development Mode (remote)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance-mode-remote" class="md-nav__link">
    <span class="md-ellipsis">
      
        Performance Mode (remote)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#local-mode" class="md-nav__link">
    <span class="md-ellipsis">
      
        Local Mode
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-three-strategies" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Three Strategies
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-the-strategy-is-determined" class="md-nav__link">
    <span class="md-ellipsis">
      
        How the Strategy Is Determined
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-local_with_sampling-flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        The LOCAL_WITH_SAMPLING Flow
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-decision-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Decision Pipeline
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#node-classification" class="md-nav__link">
    <span class="md-ellipsis">
      
        Node Classification
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-fastapi-service-your-api-layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        The FastAPI Service: Your API Layer
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="python-api-reference.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Internal API Reference
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="kernel-architecture.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Kernel Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="creating-custom-nodes.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Create Custom Nodes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="custom-node-tutorial.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Building more custom Nodes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-core-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Core Architecture
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-the-flowgraph-your-pipeline-orchestrator" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. The FlowGraph: Your Pipeline Orchestrator
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-adding-a-node-where-settings-come-to-life" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Adding a Node: Where Settings Come to Life
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-connections-the-key-to-a-flowing-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Connections: The Key to a Flowing Pipeline
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-the-flowdataengine-the-data-carrier" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. The FlowDataEngine: The Data Carrier
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-the-hash-system-smart-change-detection" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. The Hash System: Smart Change Detection
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-schema-prediction-see-the-future" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Schema Prediction: See the Future
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-complete-picture-a-summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Complete Picture: A Summary
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#execution-strategy-how-nodes-decide-where-to-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        Execution Strategy: How Nodes Decide Where to Run
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Execution Strategy: How Nodes Decide Where to Run">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#execution-modes-from-the-frontend" class="md-nav__link">
    <span class="md-ellipsis">
      
        Execution Modes from the Frontend
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Execution Modes from the Frontend">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#development-mode-remote" class="md-nav__link">
    <span class="md-ellipsis">
      
        Development Mode (remote)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance-mode-remote" class="md-nav__link">
    <span class="md-ellipsis">
      
        Performance Mode (remote)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#local-mode" class="md-nav__link">
    <span class="md-ellipsis">
      
        Local Mode
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-three-strategies" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Three Strategies
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-the-strategy-is-determined" class="md-nav__link">
    <span class="md-ellipsis">
      
        How the Strategy Is Determined
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-local_with_sampling-flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        The LOCAL_WITH_SAMPLING Flow
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-decision-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Decision Pipeline
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#node-classification" class="md-nav__link">
    <span class="md-ellipsis">
      
        Node Classification
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-fastapi-service-your-api-layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        The FastAPI Service: Your API Layer
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="flowfile-core-a-developers-guide">Flowfile Core: A Developer's Guide</h1>
<p>Welcome! This guide is for developers who want to understand, use, and contribute to <code>flowfile-core</code>. We'll dive into the architecture, see how data flows, and learn how to build powerful data pipelines.</p>
<div class="admonition info">
<p class="admonition-title">Looking for the API docs?</p>
<ul>
<li><strong><a href="../users/python-api/index.html">Python API Reference for users</a></strong>: If you want to USE Flowfile</li>
<li><strong><a href="design-philosophy.html">Design Philosophy</a></strong>: If you want to understand WHY Flowfile works this way</li>
<li><strong>This page</strong>: If you want to understand HOW Flowfile works internally</li>
</ul>
</div>
<div class="admonition tip">
<p class="admonition-title">New to Flowfile?</p>
<p>If you're looking for the high-level Python API, start with the <a href="../users/python-api/index.html">Python API Overview</a>. This guide dives into the internal architecture.</p>
</div>
<p>Ready? Let's build something!</p>
<hr />
<h2 id="the-core-architecture">The Core Architecture</h2>
<p>At its heart, <code>flowfile-core</code> is composed of three main objects:</p>
<ol>
<li><strong><code>FlowGraph</code></strong>: The central orchestrator. It holds your pipeline, manages the nodes, and controls the execution flow.</li>
<li><strong><code>FlowNode</code></strong>: An individual step in your pipeline. It's a wrapper around your settings and logic, making it an executable part of the graph.</li>
<li><strong><code>FlowDataEngine</code></strong>: The data itself, which flows between nodes. It's a smart wrapper around a <a href="https://pola-rs.github.io/polars/py-polars/html/reference/lazyframe/index.html">Polars LazyFrame</a>, carrying both the data and its schema.</li>
</ol>
<p>Let's see these in action.</p>
<hr />
<h2 id="1-the-flowgraph-your-pipeline-orchestrator">1. The FlowGraph: Your Pipeline Orchestrator</h2>
<p>Everything starts with the <code>FlowGraph</code>. Think of it as the canvas for your data pipeline.</p>
<p>Let's create one:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">flowfile_core.flowfile.flow_graph</span><span class="w"> </span><span class="kn">import</span> <span class="n">FlowGraph</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">flowfile_core.schemas.schemas</span><span class="w"> </span><span class="kn">import</span> <span class="n">FlowSettings</span>

<span class="c1"># Initialize the graph with some basic settings</span>
<span class="n">graph</span> <span class="o">=</span> <span class="n">FlowGraph</span><span class="p">(</span>
    <span class="n">flow_settings</span><span class="o">=</span><span class="n">FlowSettings</span><span class="p">(</span>
        <span class="n">flow_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;My First Pipeline&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
</code></pre></div>
<details>
<summary>Output of <code>print(graph)</code></summary>
<div class="highlight"><pre><span></span><code>FlowGraph(
Nodes: {}                                #&lt;-- An empty dictionary. No nodes yet!

Settings:                                #&lt;-- The FlowSettings object you provided.
  -flow_id: 1                            #&lt;-- A unique ID for this flow.
  -description: None                     #&lt;-- An optional description.
  -save_location: None                   #&lt;-- Where the flow definition is saved.
  -name: My First Pipeline               #&lt;-- The name of our flow.
  -path:                                 #&lt;-- Path to the flow file.
  -execution_mode: Development           #&lt;-- &#39;Development&#39; for debugging or &#39;Performance&#39; for speed.
  -execution_location: local             #&lt;-- Where the flow runs (&#39;local&#39; or &#39;remote&#39;).
  -auto_save: False                      #&lt;-- Auto-save changes (feature in development).
  -modified_on: None                     #&lt;-- Last modified timestamp (feature in development).
  -show_detailed_progress: True          #&lt;-- If True, shows detailed logs in the UI.
  -is_running: False                     #&lt;-- Is the flow currently running?
  -is_canceled: False                    #&lt;-- Was a cancellation requested?
)
</code></pre></div>
</details>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="n">graph</span><span class="o">.</span><span class="n">run_graph</span><span class="p">())</span>
<span class="c1"># flow_id=1 start_time=datetime.datetime(...) end_time=datetime.datetime(...) success=True nodes_completed=0 number_of_nodes=0 node_step_result=[]</span>
</code></pre></div>
<p>It runs successfully but does nothing, as expected. The FlowGraph's job is to:</p>
<ul>
<li><strong>Contain</strong> all the nodes.</li>
<li><strong>Manage</strong> the connections between them.</li>
<li><strong>Calculate</strong> the optimal execution order.</li>
<li><strong>Orchestrate</strong> the entire run lifecycle.</li>
</ul>
<p>Let's give it a node to manage.</p>
<h2 id="2-adding-a-node-where-settings-come-to-life">2. Adding a Node: Where Settings Come to Life</h2>
<p>You don't add raw functions or data directly to the graph. Instead, you provide <strong>settings objects</strong> (which are just Pydantic models). The graph then transforms these settings into executable <code>FlowNodes</code>.</p>
<p>Watch this:</p>
<p><div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">flowfile_core.schemas</span><span class="w"> </span><span class="kn">import</span> <span class="n">input_schema</span>

<span class="c1"># 1. Define your data using a settings object.</span>
<span class="c1"># This is just a Pydantic model holding configuration.</span>
<span class="n">manual_input_settings</span> <span class="o">=</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeManualInput</span><span class="p">(</span>
    <span class="n">flow_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">node_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">raw_data_format</span><span class="o">=</span><span class="n">input_schema</span><span class="o">.</span><span class="n">RawData</span><span class="o">.</span><span class="n">from_pylist</span><span class="p">([</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Alice&quot;</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="mi">30</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="mi">25</span><span class="p">}</span>
    <span class="p">])</span>
<span class="p">)</span>

<span class="c1"># 2. Add the settings to the graph.</span>
<span class="n">graph</span><span class="o">.</span><span class="n">add_manual_input</span><span class="p">(</span><span class="n">manual_input_settings</span><span class="p">)</span>
</code></pre></div>
So, what did the graph just do? It didn't just store our settings. It created a FlowNode.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Let&#39;s retrieve the object the graph created</span>
<span class="n">node</span> <span class="o">=</span> <span class="n">graph</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">node</span><span class="p">))</span>
<span class="c1"># &lt;class &#39;flowfile_core.flowfile.flow_node.flow_node.FlowNode&#39;&gt;</span>
</code></pre></div>
<p>The <code>FlowNode</code> is the wrapper that makes your settings operational. It holds your original settings but also adds the machinery needed for execution.</p>
<details>
<summary>Peek inside the <code>FlowNode</code></summary>
<div class="highlight"><pre><span></span><code><span class="c1"># The FlowNode keeps your original settings</span>
<span class="nb">print</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">setting_input</span> <span class="o">==</span> <span class="n">manual_input_settings</span><span class="p">)</span>
<span class="c1"># True</span>

<span class="c1"># But it also contains the execution logic...</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Has a function to run: </span><span class="si">{</span><span class="n">node</span><span class="o">.</span><span class="n">_function</span><span class="w"> </span><span class="ow">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="kc">None</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="c1"># Has a function to run: True</span>

<span class="c1"># ...state tracking...</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can track its state: </span><span class="si">{</span><span class="nb">hasattr</span><span class="p">(</span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;node_stats&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="c1"># Can track its state: True</span>

<span class="c1"># ...connections to other nodes...</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can connect to other nodes: </span><span class="si">{</span><span class="nb">hasattr</span><span class="p">(</span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;leads_to_nodes&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="c1"># Can connect to other nodes: True</span>

<span class="c1"># ...and a place to store its results.</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Has a place for results: </span><span class="si">{</span><span class="nb">hasattr</span><span class="p">(</span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;results&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="c1"># Has a place for results: True</span>
</code></pre></div>
</details>
<p>This separation is key: <strong>Settings</strong> define <em>what</em> to do, and the <strong>FlowNode</strong> figures out <em>how</em> to do it within the graph.</p>
<h2 id="3-connections-the-key-to-a-flowing-pipeline">3. Connections: The Key to a Flowing Pipeline</h2>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">flowfile_core.schemas.transform_schema</span><span class="w"> </span><span class="kn">import</span> <span class="n">FilterInput</span>

<span class="c1"># 1. Define settings for a filter node</span>
<span class="n">filter_settings</span> <span class="o">=</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeFilter</span><span class="p">(</span>
    <span class="n">flow_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">node_id</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">filter_input</span><span class="o">=</span><span class="n">FilterInput</span><span class="p">(</span>
        <span class="n">filter_type</span><span class="o">=</span><span class="s2">&quot;advanced&quot;</span><span class="p">,</span>
        <span class="n">advanced_filter</span><span class="o">=</span><span class="s2">&quot;[age] &gt; 28&quot;</span> <span class="c1"># Polars expression syntax</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="n">graph</span><span class="o">.</span><span class="n">add_filter</span><span class="p">(</span><span class="n">filter_settings</span><span class="p">)</span>

<span class="c1"># 2. Run the graph</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">graph</span><span class="o">.</span><span class="n">run_graph</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nodes executed: </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">nodes_completed</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="c1"># Nodes executed: 1/2</span>
</code></pre></div>
<p>Only one node ran! Why? The graph is smart; it knows the filter node has no input, thus will never succeed running.</p>
<details>
<summary>Why the filter node was skipped</summary>
<div class="highlight"><pre><span></span><code><span class="n">filter_node</span> <span class="o">=</span> <span class="n">graph</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># The graph checks if a node is a &quot;start&quot; node (has no inputs)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Is filter_node a start node? </span><span class="si">{</span><span class="n">filter_node</span><span class="o">.</span><span class="n">is_start</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="c1"># Is filter_node a start node? False</span>

<span class="c1"># It sees that the filter node is missing an input connection</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Does filter_node have an input? </span><span class="si">{</span><span class="n">filter_node</span><span class="o">.</span><span class="n">has_input</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="c1"># Does filter_node have an input? False</span>

<span class="c1"># The graph&#39;s execution plan only includes nodes it can reach from a start node</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Graph start nodes: </span><span class="si">{</span><span class="n">graph</span><span class="o">.</span><span class="n">_flow_starts</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="c1"># Graph start nodes: [Node id: 1 (manual_input)]</span>
</code></pre></div>
</details>
<p>The execution engine works like this:</p>
<ol>
<li>It identifies all start nodes (like our manual input).</li>
<li>It builds an execution plan by following the connections from those start nodes.</li>
<li>Any node not connected to this flow is ignored.</li>
</ol>
<p>Let's fix that by adding a connection.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">flowfile_core.flowfile.flow_graph</span><span class="w"> </span><span class="kn">import</span> <span class="n">add_connection</span>
<span class="c1"># Create a connection object</span>
<span class="n">connection</span> <span class="o">=</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeConnection</span><span class="o">.</span><span class="n">create_from_simple_input</span><span class="p">(</span>
    <span class="n">from_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="c1"># From our manual input node</span>
    <span class="n">to_id</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>   <span class="c1"># To our filter node</span>
    <span class="n">input_type</span><span class="o">=</span><span class="s2">&quot;main&quot;</span>
<span class="p">)</span>

<span class="c1"># Add it to the graph</span>
<span class="n">add_connection</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">connection</span><span class="p">)</span>

<span class="c1"># Let&#39;s check what changed</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Node 1 now leads to: </span><span class="si">{</span><span class="n">graph</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">leads_to_nodes</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="c1"># Node 1 now leads to: [Node id: 2 (filter)]</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Node 2 now receives from: </span><span class="si">{</span><span class="n">graph</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="c1"># Node 2 now receives from: [Node id: 1 (manual_input)]</span>
</code></pre></div>
<p>Now that they are connected, let's run the graph again.</p>
<div class="highlight"><pre><span></span><code><span class="n">result</span> <span class="o">=</span> <span class="n">graph</span><span class="o">.</span><span class="n">run_graph</span><span class="p">()</span>

<span class="c1"># The graph determines the correct execution order</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Execution Order:&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">node_result</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">node_step_result</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  - Node </span><span class="si">{</span><span class="n">node_result</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s2"> ran successfully: </span><span class="si">{</span><span class="n">node_result</span><span class="o">.</span><span class="n">success</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="c1"># Execution Order:</span>
<span class="c1">#   - Node 1 ran successfully: True</span>
<span class="c1">#   - Node 2 ran successfully: True</span>
</code></pre></div>
<p>Success! Both nodes executed. The connection allowed data to flow from the input to the filter.</p>
<h2 id="4-the-flowdataengine-the-data-carrier">4. The FlowDataEngine: The Data Carrier</h2>
<p>When data moves from one node to another, it's bundled up in a FlowDataEngine object. This isn't just raw data; it's an enhanced wrapper around a Polars LazyFrame.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Let&#39;s inspect the data after the run</span>
<span class="n">node1</span> <span class="o">=</span> <span class="n">graph</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">node2</span> <span class="o">=</span> <span class="n">graph</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># Get the resulting data from each node</span>
<span class="n">data_engine1</span> <span class="o">=</span> <span class="n">node1</span><span class="o">.</span><span class="n">get_resulting_data</span><span class="p">()</span>
<span class="n">data_engine2</span> <span class="o">=</span> <span class="n">node2</span><span class="o">.</span><span class="n">get_resulting_data</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Type of object passed between nodes: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">data_engine1</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="c1"># Type of object passed between nodes: &lt;class &#39;flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine&#39;&gt;</span>

<span class="c1"># Let&#39;s see the transformation</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Rows from Node 1 (Input): </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">data_engine1</span><span class="o">.</span><span class="n">collect</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="c1"># Rows from Node 1 (Input): 2</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Rows from Node 2 (Filter): </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">data_engine2</span><span class="o">.</span><span class="n">collect</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="c1"># Rows from Node 2 (Filter): 1  &lt;-- Success! Bob (age 25) was filtered out.</span>
</code></pre></div>
<p>The <code>FlowDataEngine</code> is the boundary between <code>flowfile-core</code> and Polars. It:
* Carries the data (as a LazyFrame).
* Maintains schema information.
* Tracks metadata like record counts.
* Manages lazy vs. eager execution.</p>
<h2 id="5-the-hash-system-smart-change-detection">5. The Hash System: Smart Change Detection</h2>
<p>How does the graph know when to re-run a node? Every <code>FlowNode</code> has a unique hash based on its configuration and its inputs.</p>
<div class="highlight"><pre><span></span><code><span class="n">node2</span> <span class="o">=</span> <span class="n">graph</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">original_hash</span> <span class="o">=</span> <span class="n">node2</span><span class="o">.</span><span class="n">hash</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Original hash of filter node: </span><span class="si">{</span><span class="n">original_hash</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
<span class="c1"># Original hash of filter node: ...</span>

<span class="c1"># Now, let&#39;s change the filter&#39;s settings</span>
<span class="n">node2</span><span class="o">.</span><span class="n">setting_input</span><span class="o">.</span><span class="n">filter_input</span><span class="o">.</span><span class="n">advanced_filter</span> <span class="o">=</span> <span class="s2">&quot;[age] &gt; 20&quot;</span>

<span class="c1"># The node instantly knows it&#39;s been changed</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Settings changed, needs reset: </span><span class="si">{</span><span class="n">node2</span><span class="o">.</span><span class="n">needs_reset</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="c1"># Settings changed, needs reset: True</span>

<span class="c1"># Resetting recalculates the hash</span>
<span class="n">node2</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="n">new_hash</span> <span class="o">=</span> <span class="n">node2</span><span class="o">.</span><span class="n">hash</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;New hash of filter node: </span><span class="si">{</span><span class="n">new_hash</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
<span class="c1"># New hash of filter node: ...</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hash changed: </span><span class="si">{</span><span class="n">original_hash</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">new_hash</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="c1"># Hash changed: True</span>
</code></pre></div>
<p>This hash is calculated from:</p>
<ul>
<li>The node's own settings.</li>
<li>The hashes of all its direct parent nodes.</li>
</ul>
<p>This creates a chain of <strong>dependency</strong>. If you change a node, <code>flowfile-core</code> knows that it and all downstream nodes need to be re-run, while upstream nodes can use their cached results. This is crucial for efficiency.</p>
<h2 id="6-schema-prediction-see-the-future">6. Schema Prediction: See the Future</h2>
<p>One of the most powerful features for interactive UI is <strong>schema prediction</strong>. A node can predict its output schema <em>without</em> processing any data.</p>
<p>Let's add a "formula" node to create a new column.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">flowfile_core.schemas.transform_schema</span><span class="w"> </span><span class="kn">import</span> <span class="n">FunctionInput</span><span class="p">,</span> <span class="n">FieldInput</span>

<span class="c1"># 1. Add a formula node to double the age</span>
<span class="n">formula_settings</span> <span class="o">=</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeFormula</span><span class="p">(</span>
    <span class="n">flow_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">node_id</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">function</span><span class="o">=</span><span class="n">FunctionInput</span><span class="p">(</span>
        <span class="n">field</span><span class="o">=</span><span class="n">FieldInput</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;age_doubled&quot;</span><span class="p">,</span> <span class="n">data_type</span><span class="o">=</span><span class="s2">&quot;Int64&quot;</span><span class="p">),</span>
        <span class="n">function</span><span class="o">=</span><span class="s2">&quot;[age] * 2&quot;</span> <span class="c1"># Polars expression</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="n">graph</span><span class="o">.</span><span class="n">add_formula</span><span class="p">(</span><span class="n">formula_settings</span><span class="p">)</span>

<span class="c1"># 2. Connect the filter node to our new formula node</span>
<span class="n">add_connection</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeConnection</span><span class="o">.</span><span class="n">create_from_simple_input</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

<span class="c1"># 3. Predict the schema</span>
<span class="n">formula_node</span> <span class="o">=</span> <span class="n">graph</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">predicted_schema</span> <span class="o">=</span> <span class="n">formula_node</span><span class="o">.</span><span class="n">get_predicted_schema</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Predicted columns for Node 3:&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">predicted_schema</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  - </span><span class="si">{</span><span class="n">col</span><span class="o">.</span><span class="n">column_name</span><span class="si">}</span><span class="s2"> (Type: </span><span class="si">{</span><span class="n">col</span><span class="o">.</span><span class="n">data_type</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

<span class="c1"># This works even though the node has not run yet!</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Has the formula node run? </span><span class="si">{</span><span class="n">formula_node</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_run_with_current_setup</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<details>
<summary>Output of Schema Prediction</summary>
<div class="highlight"><pre><span></span><code>Predicted columns for Node 3:
  - name (Type: String)
  - age (Type: Int64)
  - city (Type: String)
  - age_doubled (Type: Int64)
</code></pre></div>
</details>
<p>How does this work? The node simply:</p>
<ol>
<li>Asks its parent node(s) for their output schema.</li>
<li>Applies its own transformation logic to that schema (not the data).</li>
<li>Returns the resulting new schema.</li>
</ol>
<p>This allows a UI to show you how your data will be transformed in real-time, as you build the pipeline.</p>
<h2 id="the-complete-picture-a-summary">The Complete Picture: A Summary</h2>
<p>Let's recap the entire lifecycle:</p>
<ul>
<li><strong>You provide Settings:</strong> You define steps using simple Pydantic models (<code>NodeManualInput</code>, <code>NodeFilter</code>, etc.).</li>
<li><strong>Graph Creates FlowNodes:</strong> The <code>FlowGraph</code> takes your settings and wraps them in <code>FlowNode</code> objects, adding execution logic, state, and connection points.</li>
<li><strong>You Connect Nodes:</strong> You create <code>NodeConnection</code> objects. This builds the pipeline topology, which the graph uses to determine the execution order.</li>
<li><strong>You Run the Graph:</strong> When <code>graph.run_graph()</code> is called:<ul>
<li>An execution plan is created via topological sort.</li>
<li>Execution starts from the "start nodes".</li>
<li>Each node receives a <code>FlowDataEngine</code> from its parent.</li>
<li>It applies its transformation logic.</li>
<li>It returns a new <code>FlowDataEngine</code> to its children.</li>
</ul>
</li>
<li><strong>Results Flow Through:</strong> The data, wrapped in the <code>FlowDataEngine</code>, moves down the pipeline, getting transformed at each step.</li>
</ul>
<p>This architecture provides a powerful combination of flexibility, introspection, and performance, bridging the gap between a visual, no-code interface and a powerful, code-driven engine.</p>
<hr />
<h2 id="execution-strategy-how-nodes-decide-where-to-run">Execution Strategy: How Nodes Decide Where to Run</h2>
<p>When a node executes, it doesn't just "run." It goes through a decision pipeline that determines <strong>whether</strong> to run and <strong>how</strong> to run. This is handled by the <code>NodeExecutor</code> class (<code>flowfile_core.flowfile.flow_node.executor</code>).</p>
<p>The behavior depends on two settings visible in the frontend:</p>
<ul>
<li><strong>Execution mode</strong>  <em>Development</em> or <em>Performance</em> (set per flow)</li>
<li><strong>Execution location</strong>  <em>local</em> or <em>remote</em> (derived from global settings)</li>
</ul>
<h3 id="execution-modes-from-the-frontend">Execution Modes from the Frontend</h3>
<p>In the UI, users choose between <strong>Development</strong> and <strong>Performance</strong> mode. Here's what each mode does when running remotely:</p>
<h4 id="development-mode-remote">Development Mode (remote)</h4>
<p>Development mode is the interactive, debugging-friendly mode. It produces <strong>preview data</strong> (100-row samples) so the UI can show what each node outputs.</p>
<table>
<thead>
<tr>
<th>Node type</th>
<th>What happens</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Narrow transforms</strong> (select, sample, union)</td>
<td>Computation runs locally, only a 100-row sample is sent to the remote worker for preview (<code>LOCAL_WITH_SAMPLING</code>)</td>
</tr>
<tr>
<td><strong>Wide transforms</strong> (sort, record_count)</td>
<td>Entire computation runs on the remote worker (<code>REMOTE</code>)</td>
</tr>
<tr>
<td><strong>Everything else</strong> (filter, join, group_by, input nodes)</td>
<td>Entire computation runs on the remote worker (<code>REMOTE</code>)</td>
</tr>
<tr>
<td><strong>Any node with <code>cache_results</code> enabled</strong></td>
<td>Always fully remote regardless of transform type (<code>REMOTE</code>)</td>
</tr>
</tbody>
</table>
<h4 id="performance-mode-remote">Performance Mode (remote)</h4>
<p>Performance mode skips preview data generation and only runs nodes when strictly necessary  output nodes, cache rebuilds, or nodes that have never run. Once a node has run, it is skipped on subsequent executions. No sampling takes place.</p>
<h4 id="local-mode">Local Mode</h4>
<p>When <code>run_location = "local"</code> (e.g. no worker available), all nodes use <strong>FULL_LOCAL</strong>  everything runs in-process regardless of execution mode.</p>
<h3 id="the-three-strategies">The Three Strategies</h3>
<p>Under the hood, the mode and location map to one of three execution strategies:</p>
<table>
<thead>
<tr>
<th>Strategy</th>
<th>What happens</th>
<th>When used</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>FULL_LOCAL</strong></td>
<td>Everything runs in-process</td>
<td><code>run_location = "local"</code></td>
</tr>
<tr>
<td><strong>LOCAL_WITH_SAMPLING</strong></td>
<td>Computation runs locally, remote worker generates a 100-row sample for UI preview</td>
<td>Development mode + narrow transforms</td>
</tr>
<tr>
<td><strong>REMOTE</strong></td>
<td>Entire computation is offloaded to the remote worker</td>
<td>Development mode + wide/other transforms, or <code>cache_results</code> enabled</td>
</tr>
</tbody>
</table>
<h3 id="how-the-strategy-is-determined">How the Strategy Is Determined</h3>
<p>The decision lives in <code>_determine_strategy</code> and follows this priority:</p>
<div class="highlight"><pre><span></span><code>1. local             FULL_LOCAL
2. cache_results     REMOTE
3. narrow transform  LOCAL_WITH_SAMPLING
4. everything else   REMOTE
</code></pre></div>
<p><strong>Why narrow transforms get LOCAL_WITH_SAMPLING:</strong> Narrow transforms like <code>select</code> only operate on columns  dropping, renaming, filtering. They don't reshape or aggregate data, so they're cheap to compute locally. The only thing sent to the remote worker is a request to materialize 100 sample rows for the UI preview (<code>ExternalSampler</code>  <code>POST /store_sample/</code>).</p>
<p><strong>Why cache overrides to REMOTE:</strong> When <code>cache_results</code> is enabled on a node, the full result must be materialized and written to disk by the remote worker. A local computation with sampling wouldn't produce the cached artifact the downstream nodes expect.</p>
<h3 id="the-local_with_sampling-flow">The LOCAL_WITH_SAMPLING Flow</h3>
<p>This is the path taken by narrow transforms in Development mode:</p>
<div class="highlight"><pre><span></span><code>LOCAL_WITH_SAMPLING (e.g. select node, Development mode):

                
     Local process                   Remote worker   
                                                     
   1. Compute full                                   
      result locally  serialize 2. Materialize   
      (LazyFrame)       LazyFrame       100 rows only 
                                       (POST /store_  
   3. Store sample   done     sample/)     
      for UI preview                                  
                
</code></pre></div>
<p>Compare this to <strong>REMOTE</strong>, used by wide transforms and other node types:</p>
<div class="highlight"><pre><span></span><code>REMOTE (e.g. sort node, join node):

                
     Local process                   Remote worker   
                                                     
   1. Serialize the  serialize 2. Compute full  
      LazyFrame plan    LazyFrame       result        
                                    3. Write to disk  
   4. Fetch result   done 4. Generate      
      + sample data                     sample data   
                
</code></pre></div>
<h3 id="the-decision-pipeline">The Decision Pipeline</h3>
<p>Before choosing a strategy, the executor decides <strong>whether</strong> to run at all:</p>
<div class="highlight"><pre><span></span><code>output node?                     RUN
forced refresh (reset_cache)?    RUN
never ran before?                RUN (with strategy)
source file changed? (read)      RUN (with strategy)
cache_results + cache present?   SKIP
cache_results + cache missing?   RUN REMOTE (rebuild cache)
already ran?                     SKIP
</code></pre></div>
<p>If a node has already run (<code>has_run_with_current_setup = True</code>) and nothing invalidated it, it skips. Results from the previous execution are still available in memory. This applies to both Development and Performance mode.</p>
<h3 id="node-classification">Node Classification</h3>
<p>The strategy routing depends on how nodes are classified in the node store:</p>
<table>
<thead>
<tr>
<th>Node</th>
<th><code>transform_type</code></th>
<th>Development + remote</th>
<th>Performance + remote</th>
</tr>
</thead>
<tbody>
<tr>
<td>select</td>
<td>narrow</td>
<td>LOCAL_WITH_SAMPLING</td>
<td>skip if already ran</td>
</tr>
<tr>
<td>sample</td>
<td>narrow</td>
<td>LOCAL_WITH_SAMPLING</td>
<td>skip if already ran</td>
</tr>
<tr>
<td>union</td>
<td>narrow</td>
<td>LOCAL_WITH_SAMPLING</td>
<td>skip if already ran</td>
</tr>
<tr>
<td>sort</td>
<td>wide</td>
<td>REMOTE</td>
<td>skip if already ran</td>
</tr>
<tr>
<td>record_count</td>
<td>wide</td>
<td>REMOTE</td>
<td>skip if already ran</td>
</tr>
<tr>
<td>filter</td>
<td>other</td>
<td>REMOTE</td>
<td>skip if already ran</td>
</tr>
<tr>
<td>join</td>
<td>other</td>
<td>REMOTE</td>
<td>skip if already ran</td>
</tr>
<tr>
<td>group_by</td>
<td>other</td>
<td>REMOTE</td>
<td>skip if already ran</td>
</tr>
<tr>
<td>manual_input</td>
<td>other</td>
<td>REMOTE</td>
<td>skip if already ran</td>
</tr>
</tbody>
</table>
<p>Narrow transforms are defined with <code>transform_type="narrow"</code> in <code>configs/node_store/nodes.py</code>.</p>
<hr />
<h2 id="the-fastapi-service-your-api-layer">The FastAPI Service: Your API Layer</h2>
<p>While <code>FlowGraph</code>, <code>FlowNode</code>, and <code>FlowDataEngine</code> power the core pipeline logic, the <strong>FastAPI service</strong> is what makes it accessible from the outside world.</p>
<p>Think of it as the <strong>control panel</strong> for your pipelines:</p>
<ul>
<li><strong>HTTP interface</strong>  Wraps the core Python objects in a REST API so UIs (like Flowfiles) or other systems can create, run, and inspect flows via standard web requests.</li>
<li><strong>State management</strong>  Keeps track of all active <code>FlowGraph</code> sessions. When the UI triggers a change, its really calling one of these endpoints, which updates the in-memory graph.</li>
<li><strong>Security</strong>  Handles authentication and authorization so only the right users can access or modify flows.</li>
<li><strong>Data previews</strong>  When you view a nodes output in the UI, the API calls <code>.get_resulting_data()</code> on the corresponding <code>FlowNode</code> and returns a sample to the client.</li>
</ul>
<p>In short: <strong>FastAPI turns the in-memory power of <code>flowfile-core</code> into a secure, interactive web service</strong>, enabling rich, real-time applications to be built on top of your pipelines.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.tabs", "navigation.sections", "navigation.top", "search.suggest", "search.highlight", "content.code.copy"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>