
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A visual ETL tool combining drag-and-drop workflow building with Polars dataframes">
      
      
      
        <link rel="canonical" href="https://edwardvaneechoud.github.io/Flowfile/for-developers/python-api-reference.html">
      
      
        <link rel="prev" href="flowfile-core.html">
      
      
        <link rel="next" href="creating-custom-nodes.html">
      
      
      <link rel="icon" href="../assets/images/logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>Internal API Reference - Flowfile</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.e53b48f4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CSource+Code+Pro:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Source Code Pro"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#flowfile-core-api-reference" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="Flowfile" class="md-header__button md-logo" aria-label="Flowfile" data-md-component="logo">
      
  <img src="../assets/images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Flowfile
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Internal API Reference
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/edwardvaneechoud/Flowfile" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../index.html" class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../quickstart.html" class="md-tabs__link">
        
  
  
    
  
  Quickstart

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../users/index.html" class="md-tabs__link">
          
  
  
  User Guides

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="index.html" class="md-tabs__link">
          
  
  
  For Developers

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="Flowfile" class="md-nav__button md-logo" aria-label="Flowfile" data-md-component="logo">
      
  <img src="../assets/images/logo.png" alt="logo">

    </a>
    Flowfile
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/edwardvaneechoud/Flowfile" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../quickstart.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quickstart
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    User Guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            User Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Visual Editor
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Visual Editor
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/building-flows.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Building Flows
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_3" >
        
          
          <label class="md-nav__link" for="__nav_3_2_3" id="__nav_3_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Node Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_3">
            <span class="md-nav__icon md-icon"></span>
            Node Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/nodes/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/nodes/input.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Input Nodes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/nodes/transform.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Transform Nodes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/nodes/combine.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Combine Nodes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/nodes/aggregate.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Aggregate Nodes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/nodes/output.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Output Nodes
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_4" >
        
          
          <label class="md-nav__link" for="__nav_3_2_4" id="__nav_3_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_4">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/tutorials/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/tutorials/database-connectivity.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Connect to PostgreSQL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/tutorials/cloud-connections.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Manage Cloud Storage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/visual-editor/tutorials/code-generator.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Export to Python
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Python API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Python API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/quickstart.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quick Start
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3_3" id="__nav_3_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Core Concepts
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_3">
            <span class="md-nav__icon md-icon"></span>
            Core Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/concepts/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/concepts/design-concepts.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FlowFrame & FlowGraph
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/concepts/expressions.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Formula Syntax
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_3_4" id="__nav_3_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_4">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/reference/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/reference/reading-data.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reading Data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/reference/writing-data.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Writing Data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/reference/data-types.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/reference/flowframe-operations.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DataFrame Operations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/reference/aggregations.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Aggregations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/reference/joins.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Joins
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/reference/cloud-connections.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cloud Storage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/reference/visual-ui.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Visual UI Integration
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_3_5" id="__nav_3_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_5">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/tutorials/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/python-api/tutorials/flowfile_frame_api.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Building Flows with Code
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    For Developers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            For Developers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="design-philosophy.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Design Philosophy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="architecture.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="flowfile-core.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Core Internals
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Internal API Reference
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="python-api-reference.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Internal API Reference
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#core-components" class="md-nav__link">
    <span class="md-ellipsis">
      Core Components
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Core Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowgraph" class="md-nav__link">
    <span class="md-ellipsis">
      FlowGraph
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FlowGraph">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FlowGraph
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" FlowGraph">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.execution_location" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;execution_location
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.execution_mode" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;execution_mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.flow_id" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;flow_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.graph_has_functions" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;graph_has_functions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.graph_has_input_data" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;graph_has_input_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.node_connections" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;node_connections
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.nodes" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.__repr__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__repr__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_cloud_storage_reader" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_cloud_storage_reader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_cloud_storage_writer" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_cloud_storage_writer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_cross_join" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_cross_join
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_database_reader" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_database_reader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_database_writer" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_database_writer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_datasource" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_datasource
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_dependency_on_polars_lazy_frame" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_dependency_on_polars_lazy_frame
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_explore_data" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_explore_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_external_source" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_external_source
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_filter" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_filter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_formula" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_formula
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_fuzzy_match" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_fuzzy_match
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_graph_solver" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_graph_solver
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_group_by" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_group_by
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_include_cols" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_include_cols
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_initial_node_analysis" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_initial_node_analysis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_join" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_join
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_manual_input" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_manual_input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_node_promise" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_node_promise
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_node_step" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_node_step
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_output" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_output
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_pivot" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_pivot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_polars_code" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_polars_code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_read" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_read
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_record_count" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_record_count
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_record_id" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_record_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_sample" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_sample
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_select" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_select
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_sort" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_sort
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_sql_source" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_sql_source
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_text_to_rows" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_text_to_rows
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_union" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_union
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_unique" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_unique
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_unpivot" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_unpivot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.apply_layout" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;apply_layout
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.cancel" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;cancel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.close_flow" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;close_flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.copy_node" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;copy_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.delete_node" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;delete_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.generate_code" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;generate_code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.get_frontend_data" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_frontend_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.get_implicit_starter_nodes" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_implicit_starter_nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.get_node" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.get_node_data" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_node_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.get_node_storage" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_node_storage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.get_nodes_overview" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_nodes_overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.get_run_info" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_run_info
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.get_vue_flow_input" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_vue_flow_input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.print_tree" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;print_tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.remove_from_output_cols" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;remove_from_output_cols
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.reset" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;reset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.run_graph" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;run_graph
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.save_flow" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;save_flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.trigger_fetch_node" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;trigger_fetch_node
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flownode" class="md-nav__link">
    <span class="md-ellipsis">
      FlowNode
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FlowNode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FlowNode
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" FlowNode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.all_inputs" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;all_inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.function" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.has_input" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;has_input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.has_next_step" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;has_next_step
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.hash" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;hash
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.is_correct" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;is_correct
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.is_setup" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;is_setup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.is_start" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;is_start
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.left_input" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;left_input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.main_input" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;main_input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.name" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.node_id" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;node_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.number_of_leads_to_nodes" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;number_of_leads_to_nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.right_input" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;right_input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.schema" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.schema_callback" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;schema_callback
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.setting_input" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;setting_input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.singular_input" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;singular_input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.singular_main_input" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;singular_main_input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.state_needs_reset" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;state_needs_reset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.__call__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__call__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.__repr__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__repr__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.add_lead_to_in_depend_source" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_lead_to_in_depend_source
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.add_node_connection" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_node_connection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.calculate_hash" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;calculate_hash
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.cancel" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;cancel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.clear_table_example" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;clear_table_example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.create_schema_callback_from_function" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;create_schema_callback_from_function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.delete_input_node" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;delete_input_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.delete_lead_to_node" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;delete_lead_to_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.evaluate_nodes" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;evaluate_nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.execute_full_local" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;execute_full_local
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.execute_local" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;execute_local
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.execute_node" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;execute_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.execute_remote" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;execute_remote
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_all_dependent_node_ids" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_all_dependent_node_ids
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_all_dependent_nodes" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_all_dependent_nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_edge_input" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_edge_input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_flow_file_column_schema" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_flow_file_column_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_input_type" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_input_type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_node_data" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_node_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_node_information" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_node_information
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_node_input" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_node_input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_output_data" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_output_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_predicted_resulting_data" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_predicted_resulting_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_predicted_schema" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_predicted_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_repr" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_repr
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_resulting_data" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_resulting_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_table_example" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_table_example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.needs_reset" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;needs_reset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.needs_run" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;needs_run
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.post_init" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;post_init
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.prepare_before_run" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;prepare_before_run
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.print" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;print
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.remove_cache" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;remove_cache
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.reset" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;reset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.set_node_information" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_node_information
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.store_example_data_generator" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;store_example_data_generator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.update_node" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_node
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-flowdataengine" class="md-nav__link">
    <span class="md-ellipsis">
      The FlowDataEngine
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The FlowDataEngine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FlowDataEngine
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" FlowDataEngine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__name__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;__name__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.cols_idx" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;cols_idx
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.data_frame" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;data_frame
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.external_source" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;external_source
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.has_errors" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;has_errors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.lazy" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;lazy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.number_of_fields" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;number_of_fields
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.schema" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__call__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__call__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__get_sample__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__get_sample__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__getitem__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__getitem__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__len__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__len__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__repr__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__repr__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.add_new_values" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_new_values
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.add_record_id" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_record_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.apply_flowfile_formula" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;apply_flowfile_formula
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.apply_sql_formula" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;apply_sql_formula
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.assert_equal" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;assert_equal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.cache" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;cache
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.calculate_schema" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;calculate_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.change_column_types" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;change_column_types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.collect" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;collect
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.collect_external" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;collect_external
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.concat" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;concat
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.count" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;count
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.create_from_external_source" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;create_from_external_source
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.create_from_path" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;create_from_path
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.create_from_path_worker" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;create_from_path_worker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.create_from_schema" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;create_from_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.create_from_sql" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;create_from_sql
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.create_random" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;create_random
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.do_cross_join" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;do_cross_join
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.do_filter" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;do_filter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.do_group_by" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;do_group_by
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.do_pivot" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;do_pivot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.do_select" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;do_select
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.do_sort" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;do_sort
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.drop_columns" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;drop_columns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.from_cloud_storage_obj" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;from_cloud_storage_obj
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.generate_enumerator" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;generate_enumerator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_estimated_file_size" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_estimated_file_size
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_number_of_records" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_number_of_records
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_number_of_records_in_process" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_number_of_records_in_process
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_output_sample" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_output_sample
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_record_count" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_record_count
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_sample" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_sample
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_schema_column" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_schema_column
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_select_inputs" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_select_inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_subset" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_subset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.initialize_empty_fl" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;initialize_empty_fl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.iter_batches" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;iter_batches
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.join" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;join
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.make_unique" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;make_unique
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.output" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;output
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.reorganize_order" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;reorganize_order
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.save" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;save
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.select_columns" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;select_columns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.set_streamable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_streamable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.solve_graph" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;solve_graph
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.split" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;split
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.start_fuzzy_join" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;start_fuzzy_join
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.to_arrow" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;to_arrow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.to_cloud_storage_obj" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;to_cloud_storage_obj
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.to_dict" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;to_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.to_pylist" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;to_pylist
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.to_raw_data" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;to_raw_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.unpivot" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;unpivot
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfilecolumn" class="md-nav__link">
    <span class="md-ellipsis">
      FlowfileColumn
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfilecolumn_1" class="md-nav__link">
    <span class="md-ellipsis">
      FlowfileColumn
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FlowfileColumn">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FlowfileColumn
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" FlowfileColumn">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn.__repr__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__repr__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__str__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-modeling-schemas" class="md-nav__link">
    <span class="md-ellipsis">
      Data Modeling (Schemas)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Modeling (Schemas)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#schemas" class="md-nav__link">
    <span class="md-ellipsis">
      schemas
    </span>
  </a>
  
    <nav class="md-nav" aria-label="schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;schemas
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas.FlowGraphConfig" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FlowGraphConfig
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" FlowGraphConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas.FlowGraphConfig.validate_and_set_execution_location" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;validate_and_set_execution_location
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas.FlowInformation" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FlowInformation
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" FlowInformation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas.FlowInformation.ensure_string" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;ensure_string
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas.FlowSettings" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FlowSettings
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" FlowSettings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas.FlowSettings.from_flow_settings_input" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;from_flow_settings_input
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas.NodeDefault" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeDefault
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas.NodeEdge" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeEdge
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas.NodeInformation" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeInformation
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" NodeInformation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas.NodeInformation.data" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas.NodeInformation.main_input_ids" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;main_input_ids
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas.NodeInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas.NodeTemplate" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeTemplate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas.RawLogInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;RawLogInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas.VueFlowInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;VueFlowInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas.get_global_execution_location" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_global_execution_location
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#input_schema" class="md-nav__link">
    <span class="md-ellipsis">
      input_schema
    </span>
  </a>
  
    <nav class="md-nav" aria-label="input_schema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;input_schema
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" input_schema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.DatabaseConnection" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;DatabaseConnection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.DatabaseSettings" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;DatabaseSettings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.DatabaseWriteSettings" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;DatabaseWriteSettings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.ExternalSource" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ExternalSource
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.FullDatabaseConnection" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FullDatabaseConnection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.FullDatabaseConnectionInterface" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FullDatabaseConnectionInterface
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.MinimalFieldInfo" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;MinimalFieldInfo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NewDirectory" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NewDirectory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeBase" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeBase
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeCloudStorageReader" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeCloudStorageReader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeCloudStorageWriter" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeCloudStorageWriter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeConnection" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeConnection
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" NodeConnection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeConnection.create_from_simple_input" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;create_from_simple_input
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeCrossJoin" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeCrossJoin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeDatabaseReader" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeDatabaseReader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeDatabaseWriter" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeDatabaseWriter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeDatasource" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeDatasource
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeDescription" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeDescription
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeExploreData" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeExploreData
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeExternalSource" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeExternalSource
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeFilter" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeFilter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeFormula" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeFormula
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeFuzzyMatch" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeFuzzyMatch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeGraphSolver" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeGraphSolver
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeGroupBy" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeGroupBy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeInputConnection" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeInputConnection
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" NodeInputConnection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeInputConnection.get_node_input_connection_type" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_node_input_connection_type
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeJoin" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeJoin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeManualInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeManualInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeMultiInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeMultiInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeOutput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeOutput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeOutputConnection" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeOutputConnection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodePivot" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodePivot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodePolarsCode" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodePolarsCode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodePromise" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodePromise
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeRead" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeRead
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeRecordCount" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeRecordCount
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeRecordId" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeRecordId
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeSample" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeSample
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeSelect" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeSelect
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeSingleInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeSingleInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeSort" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeSort
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeTextToRows" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeTextToRows
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeUnion" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeUnion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeUnique" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeUnique
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeUnpivot" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeUnpivot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.OutputCsvTable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;OutputCsvTable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.OutputExcelTable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;OutputExcelTable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.OutputParquetTable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;OutputParquetTable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.OutputSettings" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;OutputSettings
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" OutputSettings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.OutputSettings.populate_abs_file_path" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;populate_abs_file_path
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.OutputSettings.set_absolute_filepath" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_absolute_filepath
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.RawData" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;RawData
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" RawData">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.RawData.from_pylist" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;from_pylist
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.RawData.to_pylist" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;to_pylist
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.ReceivedCsvTable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ReceivedCsvTable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.ReceivedExcelTable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ReceivedExcelTable
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" ReceivedExcelTable">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.ReceivedExcelTable.validate_range_values" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;validate_range_values
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.ReceivedJsonTable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ReceivedJsonTable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.ReceivedParquetTable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ReceivedParquetTable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.ReceivedTable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ReceivedTable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.ReceivedTableBase" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ReceivedTableBase
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" ReceivedTableBase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.ReceivedTableBase.file_path" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;file_path
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.ReceivedTableBase.create_from_path" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;create_from_path
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.ReceivedTableBase.populate_abs_file_path" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;populate_abs_file_path
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.ReceivedTableBase.set_absolute_filepath" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_absolute_filepath
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.RemoveItem" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;RemoveItem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.RemoveItemsInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;RemoveItemsInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.SampleUsers" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;SampleUsers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.UserDefinedNode" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;UserDefinedNode
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transform_schema" class="md-nav__link">
    <span class="md-ellipsis">
      transform_schema
    </span>
  </a>
  
    <nav class="md-nav" aria-label="transform_schema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;transform_schema
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" transform_schema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.AggColl" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;AggColl
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" AggColl">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.AggColl--attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.AggColl--example" class="md-nav__link">
    <span class="md-ellipsis">
      Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.AggColl.agg_func" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;agg_func
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.AggColl.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.BasicFilter" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;BasicFilter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.CrossJoinInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;CrossJoinInput
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" CrossJoinInput">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.CrossJoinInput.overlapping_records" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;overlapping_records
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.CrossJoinInput.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.CrossJoinInput.auto_rename" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;auto_rename
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.FieldInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FieldInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.FilterInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FilterInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.FullJoinKeyResponse" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FullJoinKeyResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.FunctionInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FunctionInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.FuzzyMatchInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FuzzyMatchInput
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" FuzzyMatchInput">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.FuzzyMatchInput.fuzzy_maps" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;fuzzy_maps
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.GraphSolverInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;GraphSolverInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.GroupByInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;GroupByInput
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" GroupByInput">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.GroupByInput--attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.GroupByInput--example" class="md-nav__link">
    <span class="md-ellipsis">
      Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;JoinInput
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" JoinInput">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinInput.left_join_keys" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;left_join_keys
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinInput.right_join_keys" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;right_join_keys
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinInput.used_join_mapping" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;used_join_mapping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinInput.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinInput.auto_rename" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;auto_rename
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinInput.get_join_key_renames" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_join_key_renames
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinInput.parse_join_mapping" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;parse_join_mapping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinInput.set_join_keys" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_join_keys
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinInputs" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;JoinInputs
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" JoinInputs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinInputs.join_key_selects" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;join_key_selects
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinInputs.get_join_key_rename_mapping" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_join_key_rename_mapping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinInputs.get_join_key_renames" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_join_key_renames
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinKeyRename" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;JoinKeyRename
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinKeyRenameResponse" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;JoinKeyRenameResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinMap" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;JoinMap
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinSelectMixin" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;JoinSelectMixin
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" JoinSelectMixin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinSelectMixin.add_new_select_column" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_new_select_column
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinSelectMixin.auto_generate_new_col_name" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;auto_generate_new_col_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinSelectMixin.parse_select" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;parse_select
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.PivotInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;PivotInput
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" PivotInput">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.PivotInput.grouped_columns" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;grouped_columns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.PivotInput.get_group_by_input" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_group_by_input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.PivotInput.get_pivot_column" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_pivot_column
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.PivotInput.get_values_expr" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_values_expr
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.PolarsCodeInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;PolarsCodeInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.RecordIdInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;RecordIdInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.SelectInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;SelectInput
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" SelectInput">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.SelectInput.polars_type" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;polars_type
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.SelectInputs" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;SelectInputs
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" SelectInputs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.SelectInputs.drop_columns" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;drop_columns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.SelectInputs.new_cols" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;new_cols
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.SelectInputs.old_cols" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;old_cols
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.SelectInputs.rename_table" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;rename_table
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.SelectInputs.__add__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__add__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.SelectInputs.append" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;append
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.SelectInputs.create_from_list" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;create_from_list
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.SelectInputs.create_from_pl_df" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;create_from_pl_df
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.SelectInputs.get_select_cols" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_select_cols
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.SelectInputs.has_drop_cols" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;has_drop_cols
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.SelectInputs.remove_select_input" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;remove_select_input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.SelectInputs.unselect_field" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;unselect_field
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.SortByInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;SortByInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.TextToRowsInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;TextToRowsInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.UnionInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;UnionInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.UniqueInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;UniqueInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.UnpivotInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;UnpivotInput
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" UnpivotInput">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.UnpivotInput.data_type_selector_expr" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;data_type_selector_expr
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.UnpivotInput.__post_init__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__post_init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.construct_join_key_name" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;construct_join_key_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.get_func_type_mapping" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_func_type_mapping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.string_concat" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;string_concat
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloud_storage_schemas" class="md-nav__link">
    <span class="md-ellipsis">
      cloud_storage_schemas
    </span>
  </a>
  
    <nav class="md-nav" aria-label="cloud_storage_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.cloud_storage_schemas" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;cloud_storage_schemas
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" cloud_storage_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.cloud_storage_schemas.AuthSettingsInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;AuthSettingsInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.cloud_storage_schemas.CloudStorageReadSettings" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;CloudStorageReadSettings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.cloud_storage_schemas.CloudStorageSettings" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;CloudStorageSettings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.cloud_storage_schemas.CloudStorageWriteSettings" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;CloudStorageWriteSettings
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" CloudStorageWriteSettings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.cloud_storage_schemas.CloudStorageWriteSettings.get_write_setting_worker_interface" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_write_setting_worker_interface
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.cloud_storage_schemas.CloudStorageWriteSettingsWorkerInterface" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;CloudStorageWriteSettingsWorkerInterface
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.cloud_storage_schemas.FullCloudStorageConnection" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FullCloudStorageConnection
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" FullCloudStorageConnection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.cloud_storage_schemas.FullCloudStorageConnection.get_worker_interface" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_worker_interface
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.cloud_storage_schemas.FullCloudStorageConnectionInterface" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FullCloudStorageConnectionInterface
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.cloud_storage_schemas.FullCloudStorageConnectionWorkerInterface" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FullCloudStorageConnectionWorkerInterface
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.cloud_storage_schemas.WriteSettingsWorkerInterface" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;WriteSettingsWorkerInterface
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.cloud_storage_schemas.encrypt_for_worker" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;encrypt_for_worker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.cloud_storage_schemas.get_cloud_storage_write_settings_worker_interface" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_cloud_storage_write_settings_worker_interface
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output_model" class="md-nav__link">
    <span class="md-ellipsis">
      output_model
    </span>
  </a>
  
    <nav class="md-nav" aria-label="output_model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.output_model" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;output_model
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" output_model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.output_model.BaseItem" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;BaseItem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.output_model.ExpressionRef" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ExpressionRef
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.output_model.ExpressionsOverview" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ExpressionsOverview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.output_model.FileColumn" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FileColumn
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.output_model.InstantFuncResult" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;InstantFuncResult
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.output_model.ItemInfo" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ItemInfo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.output_model.NodeData" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeData
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.output_model.NodeResult" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeResult
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.output_model.OutputDir" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;OutputDir
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.output_model.OutputFile" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;OutputFile
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.output_model.OutputFiles" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;OutputFiles
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.output_model.OutputTree" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;OutputTree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.output_model.RunInformation" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;RunInformation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.output_model.TableExample" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;TableExample
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#web-api" class="md-nav__link">
    <span class="md-ellipsis">
      Web API
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Web API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#routes" class="md-nav__link">
    <span class="md-ellipsis">
      routes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="routes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;routes
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" routes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.add_generic_settings" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;add_generic_settings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.add_node" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;add_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.cancel_flow" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;cancel_flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.close_flow" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;close_flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.connect_node" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;connect_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.copy_node" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;copy_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.create_db_connection" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;create_db_connection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.create_directory" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;create_directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.create_flow" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;create_flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.delete_db_connection" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;delete_db_connection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.delete_node" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;delete_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.delete_node_connection" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;delete_node_connection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_active_flow_file_sessions" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_active_flow_file_sessions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_current_directory_contents" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_current_directory_contents
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_current_files" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_current_files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_current_path" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_current_path
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_db_connections" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_db_connections
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_description_node" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_description_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_directory_contents" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_directory_contents
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_downstream_node_ids" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_downstream_node_ids
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_excel_sheet_names" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_excel_sheet_names
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_expression_doc" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_expression_doc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_expressions" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_expressions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_flow" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_flow_frontend_data" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_flow_frontend_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_flow_settings" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_flow_settings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_generated_code" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_generated_code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_graphic_walker_input" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_graphic_walker_input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_instant_function_result" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_instant_function_result
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_list_of_saved_flows" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_list_of_saved_flows
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_local_files" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_local_files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_node" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_node_list" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_node_list
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_node_model" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_node_model
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_run_status" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_run_status
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_table_example" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_table_example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_vue_flow_data" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_vue_flow_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.import_saved_flow" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;import_saved_flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.navigate_into_directory" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;navigate_into_directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.navigate_to_directory" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;navigate_to_directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.navigate_up" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;navigate_up
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.register_flow" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;register_flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.run_flow" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;run_flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.save_flow" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;save_flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.trigger_fetch_node_data" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;trigger_fetch_node_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.update_description_node" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;update_description_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.update_flow_settings" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;update_flow_settings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.upload_file" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;upload_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.validate_db_settings" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;validate_db_settings
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auth" class="md-nav__link">
    <span class="md-ellipsis">
      auth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="auth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.auth" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;auth
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloud_connections" class="md-nav__link">
    <span class="md-ellipsis">
      cloud_connections
    </span>
  </a>
  
    <nav class="md-nav" aria-label="cloud_connections">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.cloud_connections" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;cloud_connections
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" cloud_connections">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.cloud_connections.create_cloud_storage_connection" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;create_cloud_storage_connection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.cloud_connections.delete_cloud_connection_with_connection_name" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;delete_cloud_connection_with_connection_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.cloud_connections.get_cloud_connections" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_cloud_connections
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logs" class="md-nav__link">
    <span class="md-ellipsis">
      logs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="logs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.logs" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;logs
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" logs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.logs.add_log" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;add_log
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.logs.add_raw_log" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;add_raw_log
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.logs.format_sse_message" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;format_sse_message
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.logs.stream_logs" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;stream_logs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#public" class="md-nav__link">
    <span class="md-ellipsis">
      public
    </span>
  </a>
  
    <nav class="md-nav" aria-label="public">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.public" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;public
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" public">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.public.docs_redirect" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;docs_redirect
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secrets" class="md-nav__link">
    <span class="md-ellipsis">
      secrets
    </span>
  </a>
  
    <nav class="md-nav" aria-label="secrets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.secrets" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;secrets
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" secrets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.secrets.create_secret" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;create_secret
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.secrets.delete_secret" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;delete_secret
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.secrets.get_secret" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_secret
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.secrets.get_secrets" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_secrets
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="creating-custom-nodes.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Create Custom Nodes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="custom-node-tutorial.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Building more custom Nodes
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#core-components" class="md-nav__link">
    <span class="md-ellipsis">
      Core Components
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Core Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowgraph" class="md-nav__link">
    <span class="md-ellipsis">
      FlowGraph
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FlowGraph">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FlowGraph
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" FlowGraph">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.execution_location" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;execution_location
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.execution_mode" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;execution_mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.flow_id" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;flow_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.graph_has_functions" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;graph_has_functions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.graph_has_input_data" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;graph_has_input_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.node_connections" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;node_connections
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.nodes" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.__repr__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__repr__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_cloud_storage_reader" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_cloud_storage_reader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_cloud_storage_writer" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_cloud_storage_writer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_cross_join" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_cross_join
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_database_reader" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_database_reader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_database_writer" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_database_writer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_datasource" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_datasource
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_dependency_on_polars_lazy_frame" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_dependency_on_polars_lazy_frame
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_explore_data" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_explore_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_external_source" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_external_source
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_filter" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_filter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_formula" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_formula
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_fuzzy_match" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_fuzzy_match
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_graph_solver" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_graph_solver
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_group_by" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_group_by
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_include_cols" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_include_cols
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_initial_node_analysis" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_initial_node_analysis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_join" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_join
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_manual_input" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_manual_input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_node_promise" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_node_promise
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_node_step" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_node_step
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_output" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_output
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_pivot" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_pivot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_polars_code" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_polars_code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_read" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_read
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_record_count" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_record_count
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_record_id" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_record_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_sample" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_sample
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_select" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_select
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_sort" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_sort
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_sql_source" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_sql_source
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_text_to_rows" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_text_to_rows
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_union" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_union
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_unique" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_unique
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_unpivot" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_unpivot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.apply_layout" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;apply_layout
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.cancel" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;cancel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.close_flow" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;close_flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.copy_node" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;copy_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.delete_node" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;delete_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.generate_code" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;generate_code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.get_frontend_data" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_frontend_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.get_implicit_starter_nodes" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_implicit_starter_nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.get_node" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.get_node_data" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_node_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.get_node_storage" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_node_storage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.get_nodes_overview" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_nodes_overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.get_run_info" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_run_info
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.get_vue_flow_input" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_vue_flow_input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.print_tree" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;print_tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.remove_from_output_cols" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;remove_from_output_cols
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.reset" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;reset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.run_graph" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;run_graph
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.save_flow" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;save_flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_graph.FlowGraph.trigger_fetch_node" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;trigger_fetch_node
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flownode" class="md-nav__link">
    <span class="md-ellipsis">
      FlowNode
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FlowNode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FlowNode
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" FlowNode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.all_inputs" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;all_inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.function" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.has_input" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;has_input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.has_next_step" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;has_next_step
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.hash" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;hash
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.is_correct" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;is_correct
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.is_setup" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;is_setup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.is_start" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;is_start
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.left_input" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;left_input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.main_input" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;main_input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.name" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.node_id" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;node_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.number_of_leads_to_nodes" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;number_of_leads_to_nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.right_input" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;right_input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.schema" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.schema_callback" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;schema_callback
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.setting_input" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;setting_input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.singular_input" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;singular_input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.singular_main_input" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;singular_main_input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.state_needs_reset" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;state_needs_reset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.__call__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__call__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.__repr__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__repr__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.add_lead_to_in_depend_source" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_lead_to_in_depend_source
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.add_node_connection" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_node_connection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.calculate_hash" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;calculate_hash
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.cancel" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;cancel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.clear_table_example" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;clear_table_example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.create_schema_callback_from_function" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;create_schema_callback_from_function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.delete_input_node" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;delete_input_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.delete_lead_to_node" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;delete_lead_to_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.evaluate_nodes" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;evaluate_nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.execute_full_local" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;execute_full_local
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.execute_local" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;execute_local
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.execute_node" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;execute_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.execute_remote" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;execute_remote
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_all_dependent_node_ids" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_all_dependent_node_ids
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_all_dependent_nodes" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_all_dependent_nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_edge_input" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_edge_input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_flow_file_column_schema" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_flow_file_column_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_input_type" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_input_type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_node_data" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_node_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_node_information" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_node_information
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_node_input" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_node_input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_output_data" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_output_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_predicted_resulting_data" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_predicted_resulting_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_predicted_schema" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_predicted_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_repr" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_repr
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_resulting_data" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_resulting_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_table_example" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_table_example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.needs_reset" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;needs_reset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.needs_run" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;needs_run
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.post_init" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;post_init
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.prepare_before_run" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;prepare_before_run
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.print" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;print
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.remove_cache" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;remove_cache
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.reset" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;reset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.set_node_information" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_node_information
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.store_example_data_generator" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;store_example_data_generator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.update_node" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_node
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-flowdataengine" class="md-nav__link">
    <span class="md-ellipsis">
      The FlowDataEngine
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The FlowDataEngine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FlowDataEngine
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" FlowDataEngine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__name__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;__name__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.cols_idx" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;cols_idx
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.data_frame" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;data_frame
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.external_source" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;external_source
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.has_errors" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;has_errors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.lazy" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;lazy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.number_of_fields" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;number_of_fields
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.schema" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__call__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__call__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__get_sample__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__get_sample__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__getitem__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__getitem__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__len__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__len__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__repr__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__repr__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.add_new_values" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_new_values
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.add_record_id" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_record_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.apply_flowfile_formula" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;apply_flowfile_formula
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.apply_sql_formula" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;apply_sql_formula
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.assert_equal" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;assert_equal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.cache" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;cache
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.calculate_schema" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;calculate_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.change_column_types" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;change_column_types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.collect" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;collect
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.collect_external" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;collect_external
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.concat" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;concat
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.count" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;count
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.create_from_external_source" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;create_from_external_source
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.create_from_path" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;create_from_path
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.create_from_path_worker" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;create_from_path_worker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.create_from_schema" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;create_from_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.create_from_sql" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;create_from_sql
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.create_random" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;create_random
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.do_cross_join" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;do_cross_join
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.do_filter" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;do_filter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.do_group_by" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;do_group_by
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.do_pivot" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;do_pivot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.do_select" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;do_select
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.do_sort" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;do_sort
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.drop_columns" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;drop_columns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.from_cloud_storage_obj" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;from_cloud_storage_obj
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.generate_enumerator" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;generate_enumerator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_estimated_file_size" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_estimated_file_size
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_number_of_records" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_number_of_records
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_number_of_records_in_process" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_number_of_records_in_process
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_output_sample" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_output_sample
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_record_count" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_record_count
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_sample" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_sample
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_schema_column" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_schema_column
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_select_inputs" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_select_inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_subset" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_subset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.initialize_empty_fl" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;initialize_empty_fl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.iter_batches" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;iter_batches
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.join" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;join
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.make_unique" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;make_unique
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.output" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;output
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.reorganize_order" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;reorganize_order
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.save" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;save
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.select_columns" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;select_columns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.set_streamable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_streamable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.solve_graph" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;solve_graph
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.split" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;split
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.start_fuzzy_join" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;start_fuzzy_join
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.to_arrow" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;to_arrow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.to_cloud_storage_obj" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;to_cloud_storage_obj
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.to_dict" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;to_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.to_pylist" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;to_pylist
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.to_raw_data" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;to_raw_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.unpivot" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;unpivot
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfilecolumn" class="md-nav__link">
    <span class="md-ellipsis">
      FlowfileColumn
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfilecolumn_1" class="md-nav__link">
    <span class="md-ellipsis">
      FlowfileColumn
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FlowfileColumn">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FlowfileColumn
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" FlowfileColumn">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn.__repr__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__repr__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__str__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-modeling-schemas" class="md-nav__link">
    <span class="md-ellipsis">
      Data Modeling (Schemas)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Modeling (Schemas)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#schemas" class="md-nav__link">
    <span class="md-ellipsis">
      schemas
    </span>
  </a>
  
    <nav class="md-nav" aria-label="schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;schemas
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas.FlowGraphConfig" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FlowGraphConfig
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" FlowGraphConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas.FlowGraphConfig.validate_and_set_execution_location" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;validate_and_set_execution_location
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas.FlowInformation" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FlowInformation
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" FlowInformation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas.FlowInformation.ensure_string" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;ensure_string
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas.FlowSettings" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FlowSettings
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" FlowSettings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas.FlowSettings.from_flow_settings_input" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;from_flow_settings_input
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas.NodeDefault" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeDefault
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas.NodeEdge" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeEdge
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas.NodeInformation" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeInformation
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" NodeInformation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas.NodeInformation.data" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas.NodeInformation.main_input_ids" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;main_input_ids
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas.NodeInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas.NodeTemplate" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeTemplate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas.RawLogInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;RawLogInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas.VueFlowInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;VueFlowInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.schemas.get_global_execution_location" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_global_execution_location
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#input_schema" class="md-nav__link">
    <span class="md-ellipsis">
      input_schema
    </span>
  </a>
  
    <nav class="md-nav" aria-label="input_schema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;input_schema
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" input_schema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.DatabaseConnection" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;DatabaseConnection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.DatabaseSettings" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;DatabaseSettings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.DatabaseWriteSettings" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;DatabaseWriteSettings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.ExternalSource" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ExternalSource
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.FullDatabaseConnection" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FullDatabaseConnection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.FullDatabaseConnectionInterface" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FullDatabaseConnectionInterface
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.MinimalFieldInfo" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;MinimalFieldInfo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NewDirectory" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NewDirectory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeBase" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeBase
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeCloudStorageReader" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeCloudStorageReader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeCloudStorageWriter" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeCloudStorageWriter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeConnection" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeConnection
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" NodeConnection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeConnection.create_from_simple_input" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;create_from_simple_input
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeCrossJoin" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeCrossJoin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeDatabaseReader" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeDatabaseReader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeDatabaseWriter" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeDatabaseWriter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeDatasource" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeDatasource
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeDescription" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeDescription
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeExploreData" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeExploreData
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeExternalSource" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeExternalSource
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeFilter" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeFilter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeFormula" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeFormula
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeFuzzyMatch" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeFuzzyMatch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeGraphSolver" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeGraphSolver
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeGroupBy" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeGroupBy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeInputConnection" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeInputConnection
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" NodeInputConnection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeInputConnection.get_node_input_connection_type" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_node_input_connection_type
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeJoin" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeJoin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeManualInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeManualInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeMultiInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeMultiInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeOutput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeOutput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeOutputConnection" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeOutputConnection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodePivot" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodePivot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodePolarsCode" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodePolarsCode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodePromise" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodePromise
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeRead" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeRead
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeRecordCount" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeRecordCount
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeRecordId" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeRecordId
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeSample" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeSample
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeSelect" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeSelect
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeSingleInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeSingleInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeSort" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeSort
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeTextToRows" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeTextToRows
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeUnion" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeUnion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeUnique" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeUnique
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.NodeUnpivot" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeUnpivot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.OutputCsvTable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;OutputCsvTable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.OutputExcelTable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;OutputExcelTable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.OutputParquetTable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;OutputParquetTable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.OutputSettings" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;OutputSettings
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" OutputSettings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.OutputSettings.populate_abs_file_path" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;populate_abs_file_path
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.OutputSettings.set_absolute_filepath" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_absolute_filepath
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.RawData" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;RawData
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" RawData">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.RawData.from_pylist" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;from_pylist
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.RawData.to_pylist" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;to_pylist
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.ReceivedCsvTable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ReceivedCsvTable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.ReceivedExcelTable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ReceivedExcelTable
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" ReceivedExcelTable">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.ReceivedExcelTable.validate_range_values" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;validate_range_values
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.ReceivedJsonTable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ReceivedJsonTable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.ReceivedParquetTable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ReceivedParquetTable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.ReceivedTable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ReceivedTable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.ReceivedTableBase" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ReceivedTableBase
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" ReceivedTableBase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.ReceivedTableBase.file_path" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;file_path
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.ReceivedTableBase.create_from_path" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;create_from_path
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.ReceivedTableBase.populate_abs_file_path" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;populate_abs_file_path
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.ReceivedTableBase.set_absolute_filepath" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_absolute_filepath
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.RemoveItem" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;RemoveItem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.RemoveItemsInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;RemoveItemsInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.SampleUsers" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;SampleUsers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.input_schema.UserDefinedNode" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;UserDefinedNode
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transform_schema" class="md-nav__link">
    <span class="md-ellipsis">
      transform_schema
    </span>
  </a>
  
    <nav class="md-nav" aria-label="transform_schema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;transform_schema
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" transform_schema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.AggColl" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;AggColl
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" AggColl">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.AggColl--attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.AggColl--example" class="md-nav__link">
    <span class="md-ellipsis">
      Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.AggColl.agg_func" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;agg_func
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.AggColl.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.BasicFilter" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;BasicFilter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.CrossJoinInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;CrossJoinInput
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" CrossJoinInput">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.CrossJoinInput.overlapping_records" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;overlapping_records
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.CrossJoinInput.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.CrossJoinInput.auto_rename" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;auto_rename
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.FieldInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FieldInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.FilterInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FilterInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.FullJoinKeyResponse" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FullJoinKeyResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.FunctionInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FunctionInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.FuzzyMatchInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FuzzyMatchInput
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" FuzzyMatchInput">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.FuzzyMatchInput.fuzzy_maps" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;fuzzy_maps
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.GraphSolverInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;GraphSolverInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.GroupByInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;GroupByInput
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" GroupByInput">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.GroupByInput--attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.GroupByInput--example" class="md-nav__link">
    <span class="md-ellipsis">
      Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;JoinInput
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" JoinInput">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinInput.left_join_keys" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;left_join_keys
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinInput.right_join_keys" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;right_join_keys
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinInput.used_join_mapping" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;used_join_mapping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinInput.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinInput.auto_rename" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;auto_rename
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinInput.get_join_key_renames" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_join_key_renames
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinInput.parse_join_mapping" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;parse_join_mapping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinInput.set_join_keys" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_join_keys
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinInputs" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;JoinInputs
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" JoinInputs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinInputs.join_key_selects" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;join_key_selects
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinInputs.get_join_key_rename_mapping" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_join_key_rename_mapping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinInputs.get_join_key_renames" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_join_key_renames
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinKeyRename" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;JoinKeyRename
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinKeyRenameResponse" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;JoinKeyRenameResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinMap" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;JoinMap
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinSelectMixin" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;JoinSelectMixin
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" JoinSelectMixin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinSelectMixin.add_new_select_column" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_new_select_column
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinSelectMixin.auto_generate_new_col_name" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;auto_generate_new_col_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.JoinSelectMixin.parse_select" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;parse_select
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.PivotInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;PivotInput
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" PivotInput">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.PivotInput.grouped_columns" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;grouped_columns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.PivotInput.get_group_by_input" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_group_by_input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.PivotInput.get_pivot_column" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_pivot_column
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.PivotInput.get_values_expr" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_values_expr
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.PolarsCodeInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;PolarsCodeInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.RecordIdInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;RecordIdInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.SelectInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;SelectInput
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" SelectInput">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.SelectInput.polars_type" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;polars_type
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.SelectInputs" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;SelectInputs
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" SelectInputs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.SelectInputs.drop_columns" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;drop_columns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.SelectInputs.new_cols" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;new_cols
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.SelectInputs.old_cols" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;old_cols
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.SelectInputs.rename_table" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;rename_table
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.SelectInputs.__add__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__add__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.SelectInputs.append" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;append
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.SelectInputs.create_from_list" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;create_from_list
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.SelectInputs.create_from_pl_df" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;create_from_pl_df
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.SelectInputs.get_select_cols" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_select_cols
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.SelectInputs.has_drop_cols" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;has_drop_cols
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.SelectInputs.remove_select_input" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;remove_select_input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.SelectInputs.unselect_field" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;unselect_field
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.SortByInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;SortByInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.TextToRowsInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;TextToRowsInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.UnionInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;UnionInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.UniqueInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;UniqueInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.UnpivotInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;UnpivotInput
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" UnpivotInput">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.UnpivotInput.data_type_selector_expr" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;data_type_selector_expr
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.UnpivotInput.__post_init__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__post_init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.construct_join_key_name" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;construct_join_key_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.get_func_type_mapping" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_func_type_mapping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.transform_schema.string_concat" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;string_concat
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloud_storage_schemas" class="md-nav__link">
    <span class="md-ellipsis">
      cloud_storage_schemas
    </span>
  </a>
  
    <nav class="md-nav" aria-label="cloud_storage_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.cloud_storage_schemas" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;cloud_storage_schemas
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" cloud_storage_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.cloud_storage_schemas.AuthSettingsInput" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;AuthSettingsInput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.cloud_storage_schemas.CloudStorageReadSettings" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;CloudStorageReadSettings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.cloud_storage_schemas.CloudStorageSettings" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;CloudStorageSettings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.cloud_storage_schemas.CloudStorageWriteSettings" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;CloudStorageWriteSettings
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" CloudStorageWriteSettings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.cloud_storage_schemas.CloudStorageWriteSettings.get_write_setting_worker_interface" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_write_setting_worker_interface
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.cloud_storage_schemas.CloudStorageWriteSettingsWorkerInterface" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;CloudStorageWriteSettingsWorkerInterface
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.cloud_storage_schemas.FullCloudStorageConnection" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FullCloudStorageConnection
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" FullCloudStorageConnection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.cloud_storage_schemas.FullCloudStorageConnection.get_worker_interface" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_worker_interface
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.cloud_storage_schemas.FullCloudStorageConnectionInterface" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FullCloudStorageConnectionInterface
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.cloud_storage_schemas.FullCloudStorageConnectionWorkerInterface" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FullCloudStorageConnectionWorkerInterface
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.cloud_storage_schemas.WriteSettingsWorkerInterface" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;WriteSettingsWorkerInterface
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.cloud_storage_schemas.encrypt_for_worker" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;encrypt_for_worker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.cloud_storage_schemas.get_cloud_storage_write_settings_worker_interface" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_cloud_storage_write_settings_worker_interface
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output_model" class="md-nav__link">
    <span class="md-ellipsis">
      output_model
    </span>
  </a>
  
    <nav class="md-nav" aria-label="output_model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.output_model" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;output_model
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" output_model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.output_model.BaseItem" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;BaseItem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.output_model.ExpressionRef" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ExpressionRef
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.output_model.ExpressionsOverview" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ExpressionsOverview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.output_model.FileColumn" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FileColumn
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.output_model.InstantFuncResult" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;InstantFuncResult
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.output_model.ItemInfo" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ItemInfo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.output_model.NodeData" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeData
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.output_model.NodeResult" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NodeResult
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.output_model.OutputDir" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;OutputDir
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.output_model.OutputFile" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;OutputFile
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.output_model.OutputFiles" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;OutputFiles
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.output_model.OutputTree" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;OutputTree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.output_model.RunInformation" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;RunInformation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.schemas.output_model.TableExample" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;TableExample
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#web-api" class="md-nav__link">
    <span class="md-ellipsis">
      Web API
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Web API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#routes" class="md-nav__link">
    <span class="md-ellipsis">
      routes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="routes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;routes
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" routes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.add_generic_settings" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;add_generic_settings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.add_node" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;add_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.cancel_flow" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;cancel_flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.close_flow" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;close_flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.connect_node" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;connect_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.copy_node" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;copy_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.create_db_connection" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;create_db_connection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.create_directory" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;create_directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.create_flow" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;create_flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.delete_db_connection" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;delete_db_connection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.delete_node" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;delete_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.delete_node_connection" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;delete_node_connection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_active_flow_file_sessions" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_active_flow_file_sessions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_current_directory_contents" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_current_directory_contents
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_current_files" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_current_files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_current_path" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_current_path
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_db_connections" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_db_connections
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_description_node" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_description_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_directory_contents" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_directory_contents
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_downstream_node_ids" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_downstream_node_ids
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_excel_sheet_names" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_excel_sheet_names
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_expression_doc" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_expression_doc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_expressions" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_expressions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_flow" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_flow_frontend_data" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_flow_frontend_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_flow_settings" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_flow_settings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_generated_code" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_generated_code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_graphic_walker_input" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_graphic_walker_input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_instant_function_result" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_instant_function_result
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_list_of_saved_flows" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_list_of_saved_flows
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_local_files" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_local_files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_node" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_node_list" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_node_list
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_node_model" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_node_model
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_run_status" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_run_status
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_table_example" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_table_example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.get_vue_flow_data" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_vue_flow_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.import_saved_flow" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;import_saved_flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.navigate_into_directory" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;navigate_into_directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.navigate_to_directory" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;navigate_to_directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.navigate_up" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;navigate_up
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.register_flow" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;register_flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.run_flow" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;run_flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.save_flow" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;save_flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.trigger_fetch_node_data" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;trigger_fetch_node_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.update_description_node" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;update_description_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.update_flow_settings" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;update_flow_settings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.upload_file" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;upload_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.routes.validate_db_settings" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;validate_db_settings
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auth" class="md-nav__link">
    <span class="md-ellipsis">
      auth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="auth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.auth" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;auth
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloud_connections" class="md-nav__link">
    <span class="md-ellipsis">
      cloud_connections
    </span>
  </a>
  
    <nav class="md-nav" aria-label="cloud_connections">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.cloud_connections" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;cloud_connections
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" cloud_connections">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.cloud_connections.create_cloud_storage_connection" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;create_cloud_storage_connection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.cloud_connections.delete_cloud_connection_with_connection_name" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;delete_cloud_connection_with_connection_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.cloud_connections.get_cloud_connections" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_cloud_connections
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logs" class="md-nav__link">
    <span class="md-ellipsis">
      logs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="logs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.logs" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;logs
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" logs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.logs.add_log" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;add_log
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.logs.add_raw_log" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;add_raw_log
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.logs.format_sse_message" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;format_sse_message
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.logs.stream_logs" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;stream_logs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#public" class="md-nav__link">
    <span class="md-ellipsis">
      public
    </span>
  </a>
  
    <nav class="md-nav" aria-label="public">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.public" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;public
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" public">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.public.docs_redirect" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;docs_redirect
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secrets" class="md-nav__link">
    <span class="md-ellipsis">
      secrets
    </span>
  </a>
  
    <nav class="md-nav" aria-label="secrets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.secrets" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;secrets
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" secrets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.secrets.create_secret" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;create_secret
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.secrets.delete_secret" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;delete_secret
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.secrets.get_secret" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_secret
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flowfile_core.routes.secrets.get_secrets" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_secrets
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="flowfile-core-api-reference">Flowfile Core API Reference</h1>
<p>This section provides a detailed API reference for the core Python objects, data models, and API routes in <code>flowfile-core</code>. The documentation is generated directly from the source code docstrings.</p>
<hr />
<h2 id="core-components">Core Components</h2>
<p>This section covers the fundamental classes that manage the state and execution of data pipelines. These are the main "verbs" of the library.</p>
<h3 id="flowgraph">FlowGraph</h3>
<p>The <code>FlowGraph</code> is the central object that orchestrates the execution of data transformations. It is built incrementally as you chain operations. This DAG (Directed Acyclic Graph) represents the entire pipeline.</p>


<div class="doc doc-object doc-class">



<h4 id="flowfile_core.flowfile.flow_graph.FlowGraph" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>flowfile_core.flowfile.flow_graph.FlowGraph</code>


</h4>


    <div class="doc doc-contents first">


        <p>A class representing a Directed Acyclic Graph (DAG) for data processing pipelines.</p>
<p>It manages nodes, connections, and the execution of the entire flow.</p>












<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            __init__(flow_settings, name=None, input_cols=None, output_cols=None, path_ref=None, input_flow=None, cache_results=False) (flowfile_core.flowfile.flow_graph.FlowGraph.__init__)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.__init__">__init__</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Initializes a new FlowGraph instance.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            __repr__() (flowfile_core.flowfile.flow_graph.FlowGraph.__repr__)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.__repr__">__repr__</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Provides the official string representation of the FlowGraph instance.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_cloud_storage_reader(node_cloud_storage_reader) (flowfile_core.flowfile.flow_graph.FlowGraph.add_cloud_storage_reader)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_cloud_storage_reader">add_cloud_storage_reader</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a cloud storage read node to the flow graph.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_cloud_storage_writer(node_cloud_storage_writer) (flowfile_core.flowfile.flow_graph.FlowGraph.add_cloud_storage_writer)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_cloud_storage_writer">add_cloud_storage_writer</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a node to write data to a cloud storage provider.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_cross_join(cross_join_settings) (flowfile_core.flowfile.flow_graph.FlowGraph.add_cross_join)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_cross_join">add_cross_join</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a cross join node to the graph.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_database_reader(node_database_reader) (flowfile_core.flowfile.flow_graph.FlowGraph.add_database_reader)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_database_reader">add_database_reader</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a node to read data from a database.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_database_writer(node_database_writer) (flowfile_core.flowfile.flow_graph.FlowGraph.add_database_writer)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_database_writer">add_database_writer</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a node to write data to a database.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_datasource(input_file) (flowfile_core.flowfile.flow_graph.FlowGraph.add_datasource)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_datasource">add_datasource</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a data source node to the graph.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_dependency_on_polars_lazy_frame(lazy_frame, node_id) (flowfile_core.flowfile.flow_graph.FlowGraph.add_dependency_on_polars_lazy_frame)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_dependency_on_polars_lazy_frame">add_dependency_on_polars_lazy_frame</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a special node that directly injects a Polars LazyFrame into the graph.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_explore_data(node_analysis) (flowfile_core.flowfile.flow_graph.FlowGraph.add_explore_data)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_explore_data">add_explore_data</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a specialized node for data exploration and visualization.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_external_source(external_source_input) (flowfile_core.flowfile.flow_graph.FlowGraph.add_external_source)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_external_source">add_external_source</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a node for a custom external data source.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_filter(filter_settings) (flowfile_core.flowfile.flow_graph.FlowGraph.add_filter)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_filter">add_filter</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a filter node to the graph.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_formula(function_settings) (flowfile_core.flowfile.flow_graph.FlowGraph.add_formula)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_formula">add_formula</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a node that applies a formula to create or modify a column.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_fuzzy_match(fuzzy_settings) (flowfile_core.flowfile.flow_graph.FlowGraph.add_fuzzy_match)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_fuzzy_match">add_fuzzy_match</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a fuzzy matching node to join data on approximate string matches.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_graph_solver(graph_solver_settings) (flowfile_core.flowfile.flow_graph.FlowGraph.add_graph_solver)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_graph_solver">add_graph_solver</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a node that solves graph-like problems within the data.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_group_by(group_by_settings) (flowfile_core.flowfile.flow_graph.FlowGraph.add_group_by)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_group_by">add_group_by</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a group-by aggregation node to the graph.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_include_cols(include_columns) (flowfile_core.flowfile.flow_graph.FlowGraph.add_include_cols)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_include_cols">add_include_cols</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds columns to both the input and output column lists.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_initial_node_analysis(node_promise) (flowfile_core.flowfile.flow_graph.FlowGraph.add_initial_node_analysis)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_initial_node_analysis">add_initial_node_analysis</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a data exploration/analysis node based on a node promise.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_join(join_settings) (flowfile_core.flowfile.flow_graph.FlowGraph.add_join)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_join">add_join</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a join node to combine two data streams based on key columns.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_manual_input(input_file) (flowfile_core.flowfile.flow_graph.FlowGraph.add_manual_input)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_manual_input">add_manual_input</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a node for manual data entry.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_node_promise(node_promise) (flowfile_core.flowfile.flow_graph.FlowGraph.add_node_promise)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_node_promise">add_node_promise</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a placeholder node to the graph that is not yet fully configured.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_node_step(node_id, function, input_columns=None, output_schema=None, node_type=None, drop_columns=None, renew_schema=True, setting_input=None, cache_results=None, schema_callback=None, input_node_ids=None) (flowfile_core.flowfile.flow_graph.FlowGraph.add_node_step)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_node_step">add_node_step</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>The core method for adding or updating a node in the graph.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_output(output_file) (flowfile_core.flowfile.flow_graph.FlowGraph.add_output)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_output">add_output</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds an output node to write the final data to a destination.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_pivot(pivot_settings) (flowfile_core.flowfile.flow_graph.FlowGraph.add_pivot)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_pivot">add_pivot</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a pivot node to the graph.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_polars_code(node_polars_code) (flowfile_core.flowfile.flow_graph.FlowGraph.add_polars_code)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_polars_code">add_polars_code</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a node that executes custom Polars code.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_read(input_file) (flowfile_core.flowfile.flow_graph.FlowGraph.add_read)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_read">add_read</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a node to read data from a local file (e.g., CSV, Parquet, Excel).</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_record_count(node_number_of_records) (flowfile_core.flowfile.flow_graph.FlowGraph.add_record_count)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_record_count">add_record_count</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a filter node to the graph.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_record_id(record_id_settings) (flowfile_core.flowfile.flow_graph.FlowGraph.add_record_id)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_record_id">add_record_id</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a node to create a new column with a unique ID for each record.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_sample(sample_settings) (flowfile_core.flowfile.flow_graph.FlowGraph.add_sample)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_sample">add_sample</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a node to take a random or top-N sample of the data.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_select(select_settings) (flowfile_core.flowfile.flow_graph.FlowGraph.add_select)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_select">add_select</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a node to select, rename, reorder, or drop columns.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_sort(sort_settings) (flowfile_core.flowfile.flow_graph.FlowGraph.add_sort)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_sort">add_sort</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a node to sort the data based on one or more columns.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_sql_source(external_source_input) (flowfile_core.flowfile.flow_graph.FlowGraph.add_sql_source)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_sql_source">add_sql_source</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a node that reads data from a SQL source.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_text_to_rows(node_text_to_rows) (flowfile_core.flowfile.flow_graph.FlowGraph.add_text_to_rows)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_text_to_rows">add_text_to_rows</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a node that splits cell values into multiple rows.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_union(union_settings) (flowfile_core.flowfile.flow_graph.FlowGraph.add_union)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_union">add_union</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a union node to combine multiple data streams.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_unique(unique_settings) (flowfile_core.flowfile.flow_graph.FlowGraph.add_unique)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_unique">add_unique</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a node to find and remove duplicate rows.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_unpivot(unpivot_settings) (flowfile_core.flowfile.flow_graph.FlowGraph.add_unpivot)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.add_unpivot">add_unpivot</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds an unpivot node to the graph.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            apply_layout(y_spacing=150, x_spacing=200, initial_y=100) (flowfile_core.flowfile.flow_graph.FlowGraph.apply_layout)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.apply_layout">apply_layout</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Calculates and applies a layered layout to all nodes in the graph.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            cancel() (flowfile_core.flowfile.flow_graph.FlowGraph.cancel)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.cancel">cancel</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Cancels an ongoing graph execution.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            close_flow() (flowfile_core.flowfile.flow_graph.FlowGraph.close_flow)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.close_flow">close_flow</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Performs cleanup operations, such as clearing node caches.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            copy_node(new_node_settings, existing_setting_input, node_type) (flowfile_core.flowfile.flow_graph.FlowGraph.copy_node)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.copy_node">copy_node</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Creates a copy of an existing node.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            delete_node(node_id) (flowfile_core.flowfile.flow_graph.FlowGraph.delete_node)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.delete_node">delete_node</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Deletes a node from the graph and updates all its connections.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            generate_code() (flowfile_core.flowfile.flow_graph.FlowGraph.generate_code)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.generate_code">generate_code</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Generates code for the flow graph.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_frontend_data() (flowfile_core.flowfile.flow_graph.FlowGraph.get_frontend_data)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.get_frontend_data">get_frontend_data</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Formats the graph structure into a JSON-like dictionary for a specific legacy frontend.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_implicit_starter_nodes() (flowfile_core.flowfile.flow_graph.FlowGraph.get_implicit_starter_nodes)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.get_implicit_starter_nodes">get_implicit_starter_nodes</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Finds nodes that can act as starting points but are not explicitly defined as such.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_node(node_id=None) (flowfile_core.flowfile.flow_graph.FlowGraph.get_node)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.get_node">get_node</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Retrieves a node from the graph by its ID.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_node_data(node_id, include_example=True) (flowfile_core.flowfile.flow_graph.FlowGraph.get_node_data)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.get_node_data">get_node_data</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Retrieves all data needed to render a node in the UI.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_node_storage() (flowfile_core.flowfile.flow_graph.FlowGraph.get_node_storage)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.get_node_storage">get_node_storage</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Serializes the entire graph's state into a storable format.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_nodes_overview() (flowfile_core.flowfile.flow_graph.FlowGraph.get_nodes_overview)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.get_nodes_overview">get_nodes_overview</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Gets a list of dictionary representations for all nodes in the graph.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_run_info() (flowfile_core.flowfile.flow_graph.FlowGraph.get_run_info)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.get_run_info">get_run_info</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Gets a summary of the most recent graph execution.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_vue_flow_input() (flowfile_core.flowfile.flow_graph.FlowGraph.get_vue_flow_input)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.get_vue_flow_input">get_vue_flow_input</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Formats the graph's nodes and edges into a schema suitable for the VueFlow frontend.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            print_tree() (flowfile_core.flowfile.flow_graph.FlowGraph.print_tree)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.print_tree">print_tree</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Print flow_graph as a visual tree structure, showing the DAG relationships with ASCII art.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            remove_from_output_cols(columns) (flowfile_core.flowfile.flow_graph.FlowGraph.remove_from_output_cols)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.remove_from_output_cols">remove_from_output_cols</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Removes specified columns from the list of expected output columns.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            reset() (flowfile_core.flowfile.flow_graph.FlowGraph.reset)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.reset">reset</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Forces a deep reset on all nodes in the graph.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            run_graph() (flowfile_core.flowfile.flow_graph.FlowGraph.run_graph)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.run_graph">run_graph</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Executes the entire data flow graph from start to finish.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            save_flow(flow_path) (flowfile_core.flowfile.flow_graph.FlowGraph.save_flow)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.save_flow">save_flow</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Saves the current state of the flow graph to a file.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            trigger_fetch_node(node_id) (flowfile_core.flowfile.flow_graph.FlowGraph.trigger_fetch_node)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.trigger_fetch_node">trigger_fetch_node</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Executes a specific node in the graph by its ID.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>




<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            execution_location

  
      property
      writable
   (flowfile_core.flowfile.flow_graph.FlowGraph.execution_location)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.execution_location">execution_location</a></code></td>
            <td>
                  <code><span title="flowfile_core.schemas.schemas.ExecutionLocationsLiteral">ExecutionLocationsLiteral</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Gets the current execution location.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            execution_mode

  
      property
      writable
   (flowfile_core.flowfile.flow_graph.FlowGraph.execution_mode)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.execution_mode">execution_mode</a></code></td>
            <td>
                  <code><span title="flowfile_core.schemas.schemas.ExecutionModeLiteral">ExecutionModeLiteral</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Gets the current execution mode ('Development' or 'Performance').</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            flow_id

  
      property
      writable
   (flowfile_core.flowfile.flow_graph.FlowGraph.flow_id)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.flow_id">flow_id</a></code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Gets the unique identifier of the flow.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            graph_has_functions

  
      property
   (flowfile_core.flowfile.flow_graph.FlowGraph.graph_has_functions)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.graph_has_functions">graph_has_functions</a></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Checks if the graph has any nodes.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            graph_has_input_data

  
      property
   (flowfile_core.flowfile.flow_graph.FlowGraph.graph_has_input_data)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.graph_has_input_data">graph_has_input_data</a></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Checks if the graph has an initial input data source.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            node_connections

  
      property
   (flowfile_core.flowfile.flow_graph.FlowGraph.node_connections)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.node_connections">node_connections</a></code></td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="typing.Tuple">Tuple</span>[<span title="int">int</span>, <span title="int">int</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Computes and returns a list of all connections in the graph.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            nodes

  
      property
   (flowfile_core.flowfile.flow_graph.FlowGraph.nodes)" href="#flowfile_core.flowfile.flow_graph.FlowGraph.nodes">nodes</a></code></td>
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_node.flow_node.FlowNode" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode">FlowNode</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Gets a list of all FlowNode objects in the graph.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 165</span>
<span class="normal"> 166</span>
<span class="normal"> 167</span>
<span class="normal"> 168</span>
<span class="normal"> 169</span>
<span class="normal"> 170</span>
<span class="normal"> 171</span>
<span class="normal"> 172</span>
<span class="normal"> 173</span>
<span class="normal"> 174</span>
<span class="normal"> 175</span>
<span class="normal"> 176</span>
<span class="normal"> 177</span>
<span class="normal"> 178</span>
<span class="normal"> 179</span>
<span class="normal"> 180</span>
<span class="normal"> 181</span>
<span class="normal"> 182</span>
<span class="normal"> 183</span>
<span class="normal"> 184</span>
<span class="normal"> 185</span>
<span class="normal"> 186</span>
<span class="normal"> 187</span>
<span class="normal"> 188</span>
<span class="normal"> 189</span>
<span class="normal"> 190</span>
<span class="normal"> 191</span>
<span class="normal"> 192</span>
<span class="normal"> 193</span>
<span class="normal"> 194</span>
<span class="normal"> 195</span>
<span class="normal"> 196</span>
<span class="normal"> 197</span>
<span class="normal"> 198</span>
<span class="normal"> 199</span>
<span class="normal"> 200</span>
<span class="normal"> 201</span>
<span class="normal"> 202</span>
<span class="normal"> 203</span>
<span class="normal"> 204</span>
<span class="normal"> 205</span>
<span class="normal"> 206</span>
<span class="normal"> 207</span>
<span class="normal"> 208</span>
<span class="normal"> 209</span>
<span class="normal"> 210</span>
<span class="normal"> 211</span>
<span class="normal"> 212</span>
<span class="normal"> 213</span>
<span class="normal"> 214</span>
<span class="normal"> 215</span>
<span class="normal"> 216</span>
<span class="normal"> 217</span>
<span class="normal"> 218</span>
<span class="normal"> 219</span>
<span class="normal"> 220</span>
<span class="normal"> 221</span>
<span class="normal"> 222</span>
<span class="normal"> 223</span>
<span class="normal"> 224</span>
<span class="normal"> 225</span>
<span class="normal"> 226</span>
<span class="normal"> 227</span>
<span class="normal"> 228</span>
<span class="normal"> 229</span>
<span class="normal"> 230</span>
<span class="normal"> 231</span>
<span class="normal"> 232</span>
<span class="normal"> 233</span>
<span class="normal"> 234</span>
<span class="normal"> 235</span>
<span class="normal"> 236</span>
<span class="normal"> 237</span>
<span class="normal"> 238</span>
<span class="normal"> 239</span>
<span class="normal"> 240</span>
<span class="normal"> 241</span>
<span class="normal"> 242</span>
<span class="normal"> 243</span>
<span class="normal"> 244</span>
<span class="normal"> 245</span>
<span class="normal"> 246</span>
<span class="normal"> 247</span>
<span class="normal"> 248</span>
<span class="normal"> 249</span>
<span class="normal"> 250</span>
<span class="normal"> 251</span>
<span class="normal"> 252</span>
<span class="normal"> 253</span>
<span class="normal"> 254</span>
<span class="normal"> 255</span>
<span class="normal"> 256</span>
<span class="normal"> 257</span>
<span class="normal"> 258</span>
<span class="normal"> 259</span>
<span class="normal"> 260</span>
<span class="normal"> 261</span>
<span class="normal"> 262</span>
<span class="normal"> 263</span>
<span class="normal"> 264</span>
<span class="normal"> 265</span>
<span class="normal"> 266</span>
<span class="normal"> 267</span>
<span class="normal"> 268</span>
<span class="normal"> 269</span>
<span class="normal"> 270</span>
<span class="normal"> 271</span>
<span class="normal"> 272</span>
<span class="normal"> 273</span>
<span class="normal"> 274</span>
<span class="normal"> 275</span>
<span class="normal"> 276</span>
<span class="normal"> 277</span>
<span class="normal"> 278</span>
<span class="normal"> 279</span>
<span class="normal"> 280</span>
<span class="normal"> 281</span>
<span class="normal"> 282</span>
<span class="normal"> 283</span>
<span class="normal"> 284</span>
<span class="normal"> 285</span>
<span class="normal"> 286</span>
<span class="normal"> 287</span>
<span class="normal"> 288</span>
<span class="normal"> 289</span>
<span class="normal"> 290</span>
<span class="normal"> 291</span>
<span class="normal"> 292</span>
<span class="normal"> 293</span>
<span class="normal"> 294</span>
<span class="normal"> 295</span>
<span class="normal"> 296</span>
<span class="normal"> 297</span>
<span class="normal"> 298</span>
<span class="normal"> 299</span>
<span class="normal"> 300</span>
<span class="normal"> 301</span>
<span class="normal"> 302</span>
<span class="normal"> 303</span>
<span class="normal"> 304</span>
<span class="normal"> 305</span>
<span class="normal"> 306</span>
<span class="normal"> 307</span>
<span class="normal"> 308</span>
<span class="normal"> 309</span>
<span class="normal"> 310</span>
<span class="normal"> 311</span>
<span class="normal"> 312</span>
<span class="normal"> 313</span>
<span class="normal"> 314</span>
<span class="normal"> 315</span>
<span class="normal"> 316</span>
<span class="normal"> 317</span>
<span class="normal"> 318</span>
<span class="normal"> 319</span>
<span class="normal"> 320</span>
<span class="normal"> 321</span>
<span class="normal"> 322</span>
<span class="normal"> 323</span>
<span class="normal"> 324</span>
<span class="normal"> 325</span>
<span class="normal"> 326</span>
<span class="normal"> 327</span>
<span class="normal"> 328</span>
<span class="normal"> 329</span>
<span class="normal"> 330</span>
<span class="normal"> 331</span>
<span class="normal"> 332</span>
<span class="normal"> 333</span>
<span class="normal"> 334</span>
<span class="normal"> 335</span>
<span class="normal"> 336</span>
<span class="normal"> 337</span>
<span class="normal"> 338</span>
<span class="normal"> 339</span>
<span class="normal"> 340</span>
<span class="normal"> 341</span>
<span class="normal"> 342</span>
<span class="normal"> 343</span>
<span class="normal"> 344</span>
<span class="normal"> 345</span>
<span class="normal"> 346</span>
<span class="normal"> 347</span>
<span class="normal"> 348</span>
<span class="normal"> 349</span>
<span class="normal"> 350</span>
<span class="normal"> 351</span>
<span class="normal"> 352</span>
<span class="normal"> 353</span>
<span class="normal"> 354</span>
<span class="normal"> 355</span>
<span class="normal"> 356</span>
<span class="normal"> 357</span>
<span class="normal"> 358</span>
<span class="normal"> 359</span>
<span class="normal"> 360</span>
<span class="normal"> 361</span>
<span class="normal"> 362</span>
<span class="normal"> 363</span>
<span class="normal"> 364</span>
<span class="normal"> 365</span>
<span class="normal"> 366</span>
<span class="normal"> 367</span>
<span class="normal"> 368</span>
<span class="normal"> 369</span>
<span class="normal"> 370</span>
<span class="normal"> 371</span>
<span class="normal"> 372</span>
<span class="normal"> 373</span>
<span class="normal"> 374</span>
<span class="normal"> 375</span>
<span class="normal"> 376</span>
<span class="normal"> 377</span>
<span class="normal"> 378</span>
<span class="normal"> 379</span>
<span class="normal"> 380</span>
<span class="normal"> 381</span>
<span class="normal"> 382</span>
<span class="normal"> 383</span>
<span class="normal"> 384</span>
<span class="normal"> 385</span>
<span class="normal"> 386</span>
<span class="normal"> 387</span>
<span class="normal"> 388</span>
<span class="normal"> 389</span>
<span class="normal"> 390</span>
<span class="normal"> 391</span>
<span class="normal"> 392</span>
<span class="normal"> 393</span>
<span class="normal"> 394</span>
<span class="normal"> 395</span>
<span class="normal"> 396</span>
<span class="normal"> 397</span>
<span class="normal"> 398</span>
<span class="normal"> 399</span>
<span class="normal"> 400</span>
<span class="normal"> 401</span>
<span class="normal"> 402</span>
<span class="normal"> 403</span>
<span class="normal"> 404</span>
<span class="normal"> 405</span>
<span class="normal"> 406</span>
<span class="normal"> 407</span>
<span class="normal"> 408</span>
<span class="normal"> 409</span>
<span class="normal"> 410</span>
<span class="normal"> 411</span>
<span class="normal"> 412</span>
<span class="normal"> 413</span>
<span class="normal"> 414</span>
<span class="normal"> 415</span>
<span class="normal"> 416</span>
<span class="normal"> 417</span>
<span class="normal"> 418</span>
<span class="normal"> 419</span>
<span class="normal"> 420</span>
<span class="normal"> 421</span>
<span class="normal"> 422</span>
<span class="normal"> 423</span>
<span class="normal"> 424</span>
<span class="normal"> 425</span>
<span class="normal"> 426</span>
<span class="normal"> 427</span>
<span class="normal"> 428</span>
<span class="normal"> 429</span>
<span class="normal"> 430</span>
<span class="normal"> 431</span>
<span class="normal"> 432</span>
<span class="normal"> 433</span>
<span class="normal"> 434</span>
<span class="normal"> 435</span>
<span class="normal"> 436</span>
<span class="normal"> 437</span>
<span class="normal"> 438</span>
<span class="normal"> 439</span>
<span class="normal"> 440</span>
<span class="normal"> 441</span>
<span class="normal"> 442</span>
<span class="normal"> 443</span>
<span class="normal"> 444</span>
<span class="normal"> 445</span>
<span class="normal"> 446</span>
<span class="normal"> 447</span>
<span class="normal"> 448</span>
<span class="normal"> 449</span>
<span class="normal"> 450</span>
<span class="normal"> 451</span>
<span class="normal"> 452</span>
<span class="normal"> 453</span>
<span class="normal"> 454</span>
<span class="normal"> 455</span>
<span class="normal"> 456</span>
<span class="normal"> 457</span>
<span class="normal"> 458</span>
<span class="normal"> 459</span>
<span class="normal"> 460</span>
<span class="normal"> 461</span>
<span class="normal"> 462</span>
<span class="normal"> 463</span>
<span class="normal"> 464</span>
<span class="normal"> 465</span>
<span class="normal"> 466</span>
<span class="normal"> 467</span>
<span class="normal"> 468</span>
<span class="normal"> 469</span>
<span class="normal"> 470</span>
<span class="normal"> 471</span>
<span class="normal"> 472</span>
<span class="normal"> 473</span>
<span class="normal"> 474</span>
<span class="normal"> 475</span>
<span class="normal"> 476</span>
<span class="normal"> 477</span>
<span class="normal"> 478</span>
<span class="normal"> 479</span>
<span class="normal"> 480</span>
<span class="normal"> 481</span>
<span class="normal"> 482</span>
<span class="normal"> 483</span>
<span class="normal"> 484</span>
<span class="normal"> 485</span>
<span class="normal"> 486</span>
<span class="normal"> 487</span>
<span class="normal"> 488</span>
<span class="normal"> 489</span>
<span class="normal"> 490</span>
<span class="normal"> 491</span>
<span class="normal"> 492</span>
<span class="normal"> 493</span>
<span class="normal"> 494</span>
<span class="normal"> 495</span>
<span class="normal"> 496</span>
<span class="normal"> 497</span>
<span class="normal"> 498</span>
<span class="normal"> 499</span>
<span class="normal"> 500</span>
<span class="normal"> 501</span>
<span class="normal"> 502</span>
<span class="normal"> 503</span>
<span class="normal"> 504</span>
<span class="normal"> 505</span>
<span class="normal"> 506</span>
<span class="normal"> 507</span>
<span class="normal"> 508</span>
<span class="normal"> 509</span>
<span class="normal"> 510</span>
<span class="normal"> 511</span>
<span class="normal"> 512</span>
<span class="normal"> 513</span>
<span class="normal"> 514</span>
<span class="normal"> 515</span>
<span class="normal"> 516</span>
<span class="normal"> 517</span>
<span class="normal"> 518</span>
<span class="normal"> 519</span>
<span class="normal"> 520</span>
<span class="normal"> 521</span>
<span class="normal"> 522</span>
<span class="normal"> 523</span>
<span class="normal"> 524</span>
<span class="normal"> 525</span>
<span class="normal"> 526</span>
<span class="normal"> 527</span>
<span class="normal"> 528</span>
<span class="normal"> 529</span>
<span class="normal"> 530</span>
<span class="normal"> 531</span>
<span class="normal"> 532</span>
<span class="normal"> 533</span>
<span class="normal"> 534</span>
<span class="normal"> 535</span>
<span class="normal"> 536</span>
<span class="normal"> 537</span>
<span class="normal"> 538</span>
<span class="normal"> 539</span>
<span class="normal"> 540</span>
<span class="normal"> 541</span>
<span class="normal"> 542</span>
<span class="normal"> 543</span>
<span class="normal"> 544</span>
<span class="normal"> 545</span>
<span class="normal"> 546</span>
<span class="normal"> 547</span>
<span class="normal"> 548</span>
<span class="normal"> 549</span>
<span class="normal"> 550</span>
<span class="normal"> 551</span>
<span class="normal"> 552</span>
<span class="normal"> 553</span>
<span class="normal"> 554</span>
<span class="normal"> 555</span>
<span class="normal"> 556</span>
<span class="normal"> 557</span>
<span class="normal"> 558</span>
<span class="normal"> 559</span>
<span class="normal"> 560</span>
<span class="normal"> 561</span>
<span class="normal"> 562</span>
<span class="normal"> 563</span>
<span class="normal"> 564</span>
<span class="normal"> 565</span>
<span class="normal"> 566</span>
<span class="normal"> 567</span>
<span class="normal"> 568</span>
<span class="normal"> 569</span>
<span class="normal"> 570</span>
<span class="normal"> 571</span>
<span class="normal"> 572</span>
<span class="normal"> 573</span>
<span class="normal"> 574</span>
<span class="normal"> 575</span>
<span class="normal"> 576</span>
<span class="normal"> 577</span>
<span class="normal"> 578</span>
<span class="normal"> 579</span>
<span class="normal"> 580</span>
<span class="normal"> 581</span>
<span class="normal"> 582</span>
<span class="normal"> 583</span>
<span class="normal"> 584</span>
<span class="normal"> 585</span>
<span class="normal"> 586</span>
<span class="normal"> 587</span>
<span class="normal"> 588</span>
<span class="normal"> 589</span>
<span class="normal"> 590</span>
<span class="normal"> 591</span>
<span class="normal"> 592</span>
<span class="normal"> 593</span>
<span class="normal"> 594</span>
<span class="normal"> 595</span>
<span class="normal"> 596</span>
<span class="normal"> 597</span>
<span class="normal"> 598</span>
<span class="normal"> 599</span>
<span class="normal"> 600</span>
<span class="normal"> 601</span>
<span class="normal"> 602</span>
<span class="normal"> 603</span>
<span class="normal"> 604</span>
<span class="normal"> 605</span>
<span class="normal"> 606</span>
<span class="normal"> 607</span>
<span class="normal"> 608</span>
<span class="normal"> 609</span>
<span class="normal"> 610</span>
<span class="normal"> 611</span>
<span class="normal"> 612</span>
<span class="normal"> 613</span>
<span class="normal"> 614</span>
<span class="normal"> 615</span>
<span class="normal"> 616</span>
<span class="normal"> 617</span>
<span class="normal"> 618</span>
<span class="normal"> 619</span>
<span class="normal"> 620</span>
<span class="normal"> 621</span>
<span class="normal"> 622</span>
<span class="normal"> 623</span>
<span class="normal"> 624</span>
<span class="normal"> 625</span>
<span class="normal"> 626</span>
<span class="normal"> 627</span>
<span class="normal"> 628</span>
<span class="normal"> 629</span>
<span class="normal"> 630</span>
<span class="normal"> 631</span>
<span class="normal"> 632</span>
<span class="normal"> 633</span>
<span class="normal"> 634</span>
<span class="normal"> 635</span>
<span class="normal"> 636</span>
<span class="normal"> 637</span>
<span class="normal"> 638</span>
<span class="normal"> 639</span>
<span class="normal"> 640</span>
<span class="normal"> 641</span>
<span class="normal"> 642</span>
<span class="normal"> 643</span>
<span class="normal"> 644</span>
<span class="normal"> 645</span>
<span class="normal"> 646</span>
<span class="normal"> 647</span>
<span class="normal"> 648</span>
<span class="normal"> 649</span>
<span class="normal"> 650</span>
<span class="normal"> 651</span>
<span class="normal"> 652</span>
<span class="normal"> 653</span>
<span class="normal"> 654</span>
<span class="normal"> 655</span>
<span class="normal"> 656</span>
<span class="normal"> 657</span>
<span class="normal"> 658</span>
<span class="normal"> 659</span>
<span class="normal"> 660</span>
<span class="normal"> 661</span>
<span class="normal"> 662</span>
<span class="normal"> 663</span>
<span class="normal"> 664</span>
<span class="normal"> 665</span>
<span class="normal"> 666</span>
<span class="normal"> 667</span>
<span class="normal"> 668</span>
<span class="normal"> 669</span>
<span class="normal"> 670</span>
<span class="normal"> 671</span>
<span class="normal"> 672</span>
<span class="normal"> 673</span>
<span class="normal"> 674</span>
<span class="normal"> 675</span>
<span class="normal"> 676</span>
<span class="normal"> 677</span>
<span class="normal"> 678</span>
<span class="normal"> 679</span>
<span class="normal"> 680</span>
<span class="normal"> 681</span>
<span class="normal"> 682</span>
<span class="normal"> 683</span>
<span class="normal"> 684</span>
<span class="normal"> 685</span>
<span class="normal"> 686</span>
<span class="normal"> 687</span>
<span class="normal"> 688</span>
<span class="normal"> 689</span>
<span class="normal"> 690</span>
<span class="normal"> 691</span>
<span class="normal"> 692</span>
<span class="normal"> 693</span>
<span class="normal"> 694</span>
<span class="normal"> 695</span>
<span class="normal"> 696</span>
<span class="normal"> 697</span>
<span class="normal"> 698</span>
<span class="normal"> 699</span>
<span class="normal"> 700</span>
<span class="normal"> 701</span>
<span class="normal"> 702</span>
<span class="normal"> 703</span>
<span class="normal"> 704</span>
<span class="normal"> 705</span>
<span class="normal"> 706</span>
<span class="normal"> 707</span>
<span class="normal"> 708</span>
<span class="normal"> 709</span>
<span class="normal"> 710</span>
<span class="normal"> 711</span>
<span class="normal"> 712</span>
<span class="normal"> 713</span>
<span class="normal"> 714</span>
<span class="normal"> 715</span>
<span class="normal"> 716</span>
<span class="normal"> 717</span>
<span class="normal"> 718</span>
<span class="normal"> 719</span>
<span class="normal"> 720</span>
<span class="normal"> 721</span>
<span class="normal"> 722</span>
<span class="normal"> 723</span>
<span class="normal"> 724</span>
<span class="normal"> 725</span>
<span class="normal"> 726</span>
<span class="normal"> 727</span>
<span class="normal"> 728</span>
<span class="normal"> 729</span>
<span class="normal"> 730</span>
<span class="normal"> 731</span>
<span class="normal"> 732</span>
<span class="normal"> 733</span>
<span class="normal"> 734</span>
<span class="normal"> 735</span>
<span class="normal"> 736</span>
<span class="normal"> 737</span>
<span class="normal"> 738</span>
<span class="normal"> 739</span>
<span class="normal"> 740</span>
<span class="normal"> 741</span>
<span class="normal"> 742</span>
<span class="normal"> 743</span>
<span class="normal"> 744</span>
<span class="normal"> 745</span>
<span class="normal"> 746</span>
<span class="normal"> 747</span>
<span class="normal"> 748</span>
<span class="normal"> 749</span>
<span class="normal"> 750</span>
<span class="normal"> 751</span>
<span class="normal"> 752</span>
<span class="normal"> 753</span>
<span class="normal"> 754</span>
<span class="normal"> 755</span>
<span class="normal"> 756</span>
<span class="normal"> 757</span>
<span class="normal"> 758</span>
<span class="normal"> 759</span>
<span class="normal"> 760</span>
<span class="normal"> 761</span>
<span class="normal"> 762</span>
<span class="normal"> 763</span>
<span class="normal"> 764</span>
<span class="normal"> 765</span>
<span class="normal"> 766</span>
<span class="normal"> 767</span>
<span class="normal"> 768</span>
<span class="normal"> 769</span>
<span class="normal"> 770</span>
<span class="normal"> 771</span>
<span class="normal"> 772</span>
<span class="normal"> 773</span>
<span class="normal"> 774</span>
<span class="normal"> 775</span>
<span class="normal"> 776</span>
<span class="normal"> 777</span>
<span class="normal"> 778</span>
<span class="normal"> 779</span>
<span class="normal"> 780</span>
<span class="normal"> 781</span>
<span class="normal"> 782</span>
<span class="normal"> 783</span>
<span class="normal"> 784</span>
<span class="normal"> 785</span>
<span class="normal"> 786</span>
<span class="normal"> 787</span>
<span class="normal"> 788</span>
<span class="normal"> 789</span>
<span class="normal"> 790</span>
<span class="normal"> 791</span>
<span class="normal"> 792</span>
<span class="normal"> 793</span>
<span class="normal"> 794</span>
<span class="normal"> 795</span>
<span class="normal"> 796</span>
<span class="normal"> 797</span>
<span class="normal"> 798</span>
<span class="normal"> 799</span>
<span class="normal"> 800</span>
<span class="normal"> 801</span>
<span class="normal"> 802</span>
<span class="normal"> 803</span>
<span class="normal"> 804</span>
<span class="normal"> 805</span>
<span class="normal"> 806</span>
<span class="normal"> 807</span>
<span class="normal"> 808</span>
<span class="normal"> 809</span>
<span class="normal"> 810</span>
<span class="normal"> 811</span>
<span class="normal"> 812</span>
<span class="normal"> 813</span>
<span class="normal"> 814</span>
<span class="normal"> 815</span>
<span class="normal"> 816</span>
<span class="normal"> 817</span>
<span class="normal"> 818</span>
<span class="normal"> 819</span>
<span class="normal"> 820</span>
<span class="normal"> 821</span>
<span class="normal"> 822</span>
<span class="normal"> 823</span>
<span class="normal"> 824</span>
<span class="normal"> 825</span>
<span class="normal"> 826</span>
<span class="normal"> 827</span>
<span class="normal"> 828</span>
<span class="normal"> 829</span>
<span class="normal"> 830</span>
<span class="normal"> 831</span>
<span class="normal"> 832</span>
<span class="normal"> 833</span>
<span class="normal"> 834</span>
<span class="normal"> 835</span>
<span class="normal"> 836</span>
<span class="normal"> 837</span>
<span class="normal"> 838</span>
<span class="normal"> 839</span>
<span class="normal"> 840</span>
<span class="normal"> 841</span>
<span class="normal"> 842</span>
<span class="normal"> 843</span>
<span class="normal"> 844</span>
<span class="normal"> 845</span>
<span class="normal"> 846</span>
<span class="normal"> 847</span>
<span class="normal"> 848</span>
<span class="normal"> 849</span>
<span class="normal"> 850</span>
<span class="normal"> 851</span>
<span class="normal"> 852</span>
<span class="normal"> 853</span>
<span class="normal"> 854</span>
<span class="normal"> 855</span>
<span class="normal"> 856</span>
<span class="normal"> 857</span>
<span class="normal"> 858</span>
<span class="normal"> 859</span>
<span class="normal"> 860</span>
<span class="normal"> 861</span>
<span class="normal"> 862</span>
<span class="normal"> 863</span>
<span class="normal"> 864</span>
<span class="normal"> 865</span>
<span class="normal"> 866</span>
<span class="normal"> 867</span>
<span class="normal"> 868</span>
<span class="normal"> 869</span>
<span class="normal"> 870</span>
<span class="normal"> 871</span>
<span class="normal"> 872</span>
<span class="normal"> 873</span>
<span class="normal"> 874</span>
<span class="normal"> 875</span>
<span class="normal"> 876</span>
<span class="normal"> 877</span>
<span class="normal"> 878</span>
<span class="normal"> 879</span>
<span class="normal"> 880</span>
<span class="normal"> 881</span>
<span class="normal"> 882</span>
<span class="normal"> 883</span>
<span class="normal"> 884</span>
<span class="normal"> 885</span>
<span class="normal"> 886</span>
<span class="normal"> 887</span>
<span class="normal"> 888</span>
<span class="normal"> 889</span>
<span class="normal"> 890</span>
<span class="normal"> 891</span>
<span class="normal"> 892</span>
<span class="normal"> 893</span>
<span class="normal"> 894</span>
<span class="normal"> 895</span>
<span class="normal"> 896</span>
<span class="normal"> 897</span>
<span class="normal"> 898</span>
<span class="normal"> 899</span>
<span class="normal"> 900</span>
<span class="normal"> 901</span>
<span class="normal"> 902</span>
<span class="normal"> 903</span>
<span class="normal"> 904</span>
<span class="normal"> 905</span>
<span class="normal"> 906</span>
<span class="normal"> 907</span>
<span class="normal"> 908</span>
<span class="normal"> 909</span>
<span class="normal"> 910</span>
<span class="normal"> 911</span>
<span class="normal"> 912</span>
<span class="normal"> 913</span>
<span class="normal"> 914</span>
<span class="normal"> 915</span>
<span class="normal"> 916</span>
<span class="normal"> 917</span>
<span class="normal"> 918</span>
<span class="normal"> 919</span>
<span class="normal"> 920</span>
<span class="normal"> 921</span>
<span class="normal"> 922</span>
<span class="normal"> 923</span>
<span class="normal"> 924</span>
<span class="normal"> 925</span>
<span class="normal"> 926</span>
<span class="normal"> 927</span>
<span class="normal"> 928</span>
<span class="normal"> 929</span>
<span class="normal"> 930</span>
<span class="normal"> 931</span>
<span class="normal"> 932</span>
<span class="normal"> 933</span>
<span class="normal"> 934</span>
<span class="normal"> 935</span>
<span class="normal"> 936</span>
<span class="normal"> 937</span>
<span class="normal"> 938</span>
<span class="normal"> 939</span>
<span class="normal"> 940</span>
<span class="normal"> 941</span>
<span class="normal"> 942</span>
<span class="normal"> 943</span>
<span class="normal"> 944</span>
<span class="normal"> 945</span>
<span class="normal"> 946</span>
<span class="normal"> 947</span>
<span class="normal"> 948</span>
<span class="normal"> 949</span>
<span class="normal"> 950</span>
<span class="normal"> 951</span>
<span class="normal"> 952</span>
<span class="normal"> 953</span>
<span class="normal"> 954</span>
<span class="normal"> 955</span>
<span class="normal"> 956</span>
<span class="normal"> 957</span>
<span class="normal"> 958</span>
<span class="normal"> 959</span>
<span class="normal"> 960</span>
<span class="normal"> 961</span>
<span class="normal"> 962</span>
<span class="normal"> 963</span>
<span class="normal"> 964</span>
<span class="normal"> 965</span>
<span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span>
<span class="normal">1389</span>
<span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span>
<span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span>
<span class="normal">1476</span>
<span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span>
<span class="normal">1496</span>
<span class="normal">1497</span>
<span class="normal">1498</span>
<span class="normal">1499</span>
<span class="normal">1500</span>
<span class="normal">1501</span>
<span class="normal">1502</span>
<span class="normal">1503</span>
<span class="normal">1504</span>
<span class="normal">1505</span>
<span class="normal">1506</span>
<span class="normal">1507</span>
<span class="normal">1508</span>
<span class="normal">1509</span>
<span class="normal">1510</span>
<span class="normal">1511</span>
<span class="normal">1512</span>
<span class="normal">1513</span>
<span class="normal">1514</span>
<span class="normal">1515</span>
<span class="normal">1516</span>
<span class="normal">1517</span>
<span class="normal">1518</span>
<span class="normal">1519</span>
<span class="normal">1520</span>
<span class="normal">1521</span>
<span class="normal">1522</span>
<span class="normal">1523</span>
<span class="normal">1524</span>
<span class="normal">1525</span>
<span class="normal">1526</span>
<span class="normal">1527</span>
<span class="normal">1528</span>
<span class="normal">1529</span>
<span class="normal">1530</span>
<span class="normal">1531</span>
<span class="normal">1532</span>
<span class="normal">1533</span>
<span class="normal">1534</span>
<span class="normal">1535</span>
<span class="normal">1536</span>
<span class="normal">1537</span>
<span class="normal">1538</span>
<span class="normal">1539</span>
<span class="normal">1540</span>
<span class="normal">1541</span>
<span class="normal">1542</span>
<span class="normal">1543</span>
<span class="normal">1544</span>
<span class="normal">1545</span>
<span class="normal">1546</span>
<span class="normal">1547</span>
<span class="normal">1548</span>
<span class="normal">1549</span>
<span class="normal">1550</span>
<span class="normal">1551</span>
<span class="normal">1552</span>
<span class="normal">1553</span>
<span class="normal">1554</span>
<span class="normal">1555</span>
<span class="normal">1556</span>
<span class="normal">1557</span>
<span class="normal">1558</span>
<span class="normal">1559</span>
<span class="normal">1560</span>
<span class="normal">1561</span>
<span class="normal">1562</span>
<span class="normal">1563</span>
<span class="normal">1564</span>
<span class="normal">1565</span>
<span class="normal">1566</span>
<span class="normal">1567</span>
<span class="normal">1568</span>
<span class="normal">1569</span>
<span class="normal">1570</span>
<span class="normal">1571</span>
<span class="normal">1572</span>
<span class="normal">1573</span>
<span class="normal">1574</span>
<span class="normal">1575</span>
<span class="normal">1576</span>
<span class="normal">1577</span>
<span class="normal">1578</span>
<span class="normal">1579</span>
<span class="normal">1580</span>
<span class="normal">1581</span>
<span class="normal">1582</span>
<span class="normal">1583</span>
<span class="normal">1584</span>
<span class="normal">1585</span>
<span class="normal">1586</span>
<span class="normal">1587</span>
<span class="normal">1588</span>
<span class="normal">1589</span>
<span class="normal">1590</span>
<span class="normal">1591</span>
<span class="normal">1592</span>
<span class="normal">1593</span>
<span class="normal">1594</span>
<span class="normal">1595</span>
<span class="normal">1596</span>
<span class="normal">1597</span>
<span class="normal">1598</span>
<span class="normal">1599</span>
<span class="normal">1600</span>
<span class="normal">1601</span>
<span class="normal">1602</span>
<span class="normal">1603</span>
<span class="normal">1604</span>
<span class="normal">1605</span>
<span class="normal">1606</span>
<span class="normal">1607</span>
<span class="normal">1608</span>
<span class="normal">1609</span>
<span class="normal">1610</span>
<span class="normal">1611</span>
<span class="normal">1612</span>
<span class="normal">1613</span>
<span class="normal">1614</span>
<span class="normal">1615</span>
<span class="normal">1616</span>
<span class="normal">1617</span>
<span class="normal">1618</span>
<span class="normal">1619</span>
<span class="normal">1620</span>
<span class="normal">1621</span>
<span class="normal">1622</span>
<span class="normal">1623</span>
<span class="normal">1624</span>
<span class="normal">1625</span>
<span class="normal">1626</span>
<span class="normal">1627</span>
<span class="normal">1628</span>
<span class="normal">1629</span>
<span class="normal">1630</span>
<span class="normal">1631</span>
<span class="normal">1632</span>
<span class="normal">1633</span>
<span class="normal">1634</span>
<span class="normal">1635</span>
<span class="normal">1636</span>
<span class="normal">1637</span>
<span class="normal">1638</span>
<span class="normal">1639</span>
<span class="normal">1640</span>
<span class="normal">1641</span>
<span class="normal">1642</span>
<span class="normal">1643</span>
<span class="normal">1644</span>
<span class="normal">1645</span>
<span class="normal">1646</span>
<span class="normal">1647</span>
<span class="normal">1648</span>
<span class="normal">1649</span>
<span class="normal">1650</span>
<span class="normal">1651</span>
<span class="normal">1652</span>
<span class="normal">1653</span>
<span class="normal">1654</span>
<span class="normal">1655</span>
<span class="normal">1656</span>
<span class="normal">1657</span>
<span class="normal">1658</span>
<span class="normal">1659</span>
<span class="normal">1660</span>
<span class="normal">1661</span>
<span class="normal">1662</span>
<span class="normal">1663</span>
<span class="normal">1664</span>
<span class="normal">1665</span>
<span class="normal">1666</span>
<span class="normal">1667</span>
<span class="normal">1668</span>
<span class="normal">1669</span>
<span class="normal">1670</span>
<span class="normal">1671</span>
<span class="normal">1672</span>
<span class="normal">1673</span>
<span class="normal">1674</span>
<span class="normal">1675</span>
<span class="normal">1676</span>
<span class="normal">1677</span>
<span class="normal">1678</span>
<span class="normal">1679</span>
<span class="normal">1680</span>
<span class="normal">1681</span>
<span class="normal">1682</span>
<span class="normal">1683</span>
<span class="normal">1684</span>
<span class="normal">1685</span>
<span class="normal">1686</span>
<span class="normal">1687</span>
<span class="normal">1688</span>
<span class="normal">1689</span>
<span class="normal">1690</span>
<span class="normal">1691</span>
<span class="normal">1692</span>
<span class="normal">1693</span>
<span class="normal">1694</span>
<span class="normal">1695</span>
<span class="normal">1696</span>
<span class="normal">1697</span>
<span class="normal">1698</span>
<span class="normal">1699</span>
<span class="normal">1700</span>
<span class="normal">1701</span>
<span class="normal">1702</span>
<span class="normal">1703</span>
<span class="normal">1704</span>
<span class="normal">1705</span>
<span class="normal">1706</span>
<span class="normal">1707</span>
<span class="normal">1708</span>
<span class="normal">1709</span>
<span class="normal">1710</span>
<span class="normal">1711</span>
<span class="normal">1712</span>
<span class="normal">1713</span>
<span class="normal">1714</span>
<span class="normal">1715</span>
<span class="normal">1716</span>
<span class="normal">1717</span>
<span class="normal">1718</span>
<span class="normal">1719</span>
<span class="normal">1720</span>
<span class="normal">1721</span>
<span class="normal">1722</span>
<span class="normal">1723</span>
<span class="normal">1724</span>
<span class="normal">1725</span>
<span class="normal">1726</span>
<span class="normal">1727</span>
<span class="normal">1728</span>
<span class="normal">1729</span>
<span class="normal">1730</span>
<span class="normal">1731</span>
<span class="normal">1732</span>
<span class="normal">1733</span>
<span class="normal">1734</span>
<span class="normal">1735</span>
<span class="normal">1736</span>
<span class="normal">1737</span>
<span class="normal">1738</span>
<span class="normal">1739</span>
<span class="normal">1740</span>
<span class="normal">1741</span>
<span class="normal">1742</span>
<span class="normal">1743</span>
<span class="normal">1744</span>
<span class="normal">1745</span>
<span class="normal">1746</span>
<span class="normal">1747</span>
<span class="normal">1748</span>
<span class="normal">1749</span>
<span class="normal">1750</span>
<span class="normal">1751</span>
<span class="normal">1752</span>
<span class="normal">1753</span>
<span class="normal">1754</span>
<span class="normal">1755</span>
<span class="normal">1756</span>
<span class="normal">1757</span>
<span class="normal">1758</span>
<span class="normal">1759</span>
<span class="normal">1760</span>
<span class="normal">1761</span>
<span class="normal">1762</span>
<span class="normal">1763</span>
<span class="normal">1764</span>
<span class="normal">1765</span>
<span class="normal">1766</span>
<span class="normal">1767</span>
<span class="normal">1768</span>
<span class="normal">1769</span>
<span class="normal">1770</span>
<span class="normal">1771</span>
<span class="normal">1772</span>
<span class="normal">1773</span>
<span class="normal">1774</span>
<span class="normal">1775</span>
<span class="normal">1776</span>
<span class="normal">1777</span>
<span class="normal">1778</span>
<span class="normal">1779</span>
<span class="normal">1780</span>
<span class="normal">1781</span>
<span class="normal">1782</span>
<span class="normal">1783</span>
<span class="normal">1784</span>
<span class="normal">1785</span>
<span class="normal">1786</span>
<span class="normal">1787</span>
<span class="normal">1788</span>
<span class="normal">1789</span>
<span class="normal">1790</span>
<span class="normal">1791</span>
<span class="normal">1792</span>
<span class="normal">1793</span>
<span class="normal">1794</span>
<span class="normal">1795</span>
<span class="normal">1796</span>
<span class="normal">1797</span>
<span class="normal">1798</span>
<span class="normal">1799</span>
<span class="normal">1800</span>
<span class="normal">1801</span>
<span class="normal">1802</span>
<span class="normal">1803</span>
<span class="normal">1804</span>
<span class="normal">1805</span>
<span class="normal">1806</span>
<span class="normal">1807</span>
<span class="normal">1808</span>
<span class="normal">1809</span>
<span class="normal">1810</span>
<span class="normal">1811</span>
<span class="normal">1812</span>
<span class="normal">1813</span>
<span class="normal">1814</span>
<span class="normal">1815</span>
<span class="normal">1816</span>
<span class="normal">1817</span>
<span class="normal">1818</span>
<span class="normal">1819</span>
<span class="normal">1820</span>
<span class="normal">1821</span>
<span class="normal">1822</span>
<span class="normal">1823</span>
<span class="normal">1824</span>
<span class="normal">1825</span>
<span class="normal">1826</span>
<span class="normal">1827</span>
<span class="normal">1828</span>
<span class="normal">1829</span>
<span class="normal">1830</span>
<span class="normal">1831</span>
<span class="normal">1832</span>
<span class="normal">1833</span>
<span class="normal">1834</span>
<span class="normal">1835</span>
<span class="normal">1836</span>
<span class="normal">1837</span>
<span class="normal">1838</span>
<span class="normal">1839</span>
<span class="normal">1840</span>
<span class="normal">1841</span>
<span class="normal">1842</span>
<span class="normal">1843</span>
<span class="normal">1844</span>
<span class="normal">1845</span>
<span class="normal">1846</span>
<span class="normal">1847</span>
<span class="normal">1848</span>
<span class="normal">1849</span>
<span class="normal">1850</span>
<span class="normal">1851</span>
<span class="normal">1852</span>
<span class="normal">1853</span>
<span class="normal">1854</span>
<span class="normal">1855</span>
<span class="normal">1856</span>
<span class="normal">1857</span>
<span class="normal">1858</span>
<span class="normal">1859</span>
<span class="normal">1860</span>
<span class="normal">1861</span>
<span class="normal">1862</span>
<span class="normal">1863</span>
<span class="normal">1864</span>
<span class="normal">1865</span>
<span class="normal">1866</span>
<span class="normal">1867</span>
<span class="normal">1868</span>
<span class="normal">1869</span>
<span class="normal">1870</span>
<span class="normal">1871</span>
<span class="normal">1872</span>
<span class="normal">1873</span>
<span class="normal">1874</span>
<span class="normal">1875</span>
<span class="normal">1876</span>
<span class="normal">1877</span>
<span class="normal">1878</span>
<span class="normal">1879</span>
<span class="normal">1880</span>
<span class="normal">1881</span>
<span class="normal">1882</span>
<span class="normal">1883</span>
<span class="normal">1884</span>
<span class="normal">1885</span>
<span class="normal">1886</span>
<span class="normal">1887</span>
<span class="normal">1888</span>
<span class="normal">1889</span>
<span class="normal">1890</span>
<span class="normal">1891</span>
<span class="normal">1892</span>
<span class="normal">1893</span>
<span class="normal">1894</span>
<span class="normal">1895</span>
<span class="normal">1896</span>
<span class="normal">1897</span>
<span class="normal">1898</span>
<span class="normal">1899</span>
<span class="normal">1900</span>
<span class="normal">1901</span>
<span class="normal">1902</span>
<span class="normal">1903</span>
<span class="normal">1904</span>
<span class="normal">1905</span>
<span class="normal">1906</span>
<span class="normal">1907</span>
<span class="normal">1908</span>
<span class="normal">1909</span>
<span class="normal">1910</span>
<span class="normal">1911</span>
<span class="normal">1912</span>
<span class="normal">1913</span>
<span class="normal">1914</span>
<span class="normal">1915</span>
<span class="normal">1916</span>
<span class="normal">1917</span>
<span class="normal">1918</span>
<span class="normal">1919</span>
<span class="normal">1920</span>
<span class="normal">1921</span>
<span class="normal">1922</span>
<span class="normal">1923</span>
<span class="normal">1924</span>
<span class="normal">1925</span>
<span class="normal">1926</span>
<span class="normal">1927</span>
<span class="normal">1928</span>
<span class="normal">1929</span>
<span class="normal">1930</span>
<span class="normal">1931</span>
<span class="normal">1932</span>
<span class="normal">1933</span>
<span class="normal">1934</span>
<span class="normal">1935</span>
<span class="normal">1936</span>
<span class="normal">1937</span>
<span class="normal">1938</span>
<span class="normal">1939</span>
<span class="normal">1940</span>
<span class="normal">1941</span>
<span class="normal">1942</span>
<span class="normal">1943</span>
<span class="normal">1944</span>
<span class="normal">1945</span>
<span class="normal">1946</span>
<span class="normal">1947</span>
<span class="normal">1948</span>
<span class="normal">1949</span>
<span class="normal">1950</span>
<span class="normal">1951</span>
<span class="normal">1952</span>
<span class="normal">1953</span>
<span class="normal">1954</span>
<span class="normal">1955</span>
<span class="normal">1956</span>
<span class="normal">1957</span>
<span class="normal">1958</span>
<span class="normal">1959</span>
<span class="normal">1960</span>
<span class="normal">1961</span>
<span class="normal">1962</span>
<span class="normal">1963</span>
<span class="normal">1964</span>
<span class="normal">1965</span>
<span class="normal">1966</span>
<span class="normal">1967</span>
<span class="normal">1968</span>
<span class="normal">1969</span>
<span class="normal">1970</span>
<span class="normal">1971</span>
<span class="normal">1972</span>
<span class="normal">1973</span>
<span class="normal">1974</span>
<span class="normal">1975</span>
<span class="normal">1976</span>
<span class="normal">1977</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">FlowGraph</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A class representing a Directed Acyclic Graph (DAG) for data processing pipelines.</span>

<span class="sd">    It manages nodes, connections, and the execution of the entire flow.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">uuid</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">depends_on</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">ParquetFile</span><span class="p">,</span> <span class="n">FlowDataEngine</span><span class="p">,</span> <span class="s2">&quot;FlowGraph&quot;</span><span class="p">,</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,]]</span>
    <span class="n">_flow_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">_input_data</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">ParquetFile</span><span class="p">,</span> <span class="n">FlowDataEngine</span><span class="p">,</span> <span class="s2">&quot;FlowGraph&quot;</span><span class="p">]</span>
    <span class="n">_input_cols</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">_output_cols</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">_node_db</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="n">FlowNode</span><span class="p">]</span>
    <span class="n">_node_ids</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span>
    <span class="n">_results</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">FlowDataEngine</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">cache_results</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">FlowfileColumn</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">has_over_row_function</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">_flow_starts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">latest_run_info</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">RunInformation</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">start_datetime</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">end_datetime</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_flow_settings</span><span class="p">:</span> <span class="n">schemas</span><span class="o">.</span><span class="n">FlowSettings</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">flow_logger</span><span class="p">:</span> <span class="n">FlowLogger</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">flow_settings</span><span class="p">:</span> <span class="n">schemas</span><span class="o">.</span><span class="n">FlowSettings</span> <span class="o">|</span> <span class="n">schemas</span><span class="o">.</span><span class="n">FlowGraphConfig</span><span class="p">,</span>
                 <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">input_cols</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">output_cols</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">path_ref</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">input_flow</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">ParquetFile</span><span class="p">,</span> <span class="n">FlowDataEngine</span><span class="p">,</span> <span class="s2">&quot;FlowGraph&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">cache_results</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initializes a new FlowGraph instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            flow_settings: The configuration settings for the flow.</span>
<span class="sd">            name: The name of the flow.</span>
<span class="sd">            input_cols: A list of input column names.</span>
<span class="sd">            output_cols: A list of output column names.</span>
<span class="sd">            path_ref: An optional path to an initial data source.</span>
<span class="sd">            input_flow: An optional existing data object to start the flow with.</span>
<span class="sd">            cache_results: A global flag to enable or disable result caching.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">flow_settings</span><span class="p">,</span> <span class="n">schemas</span><span class="o">.</span><span class="n">FlowGraphConfig</span><span class="p">):</span>
            <span class="n">flow_settings</span> <span class="o">=</span> <span class="n">schemas</span><span class="o">.</span><span class="n">FlowSettings</span><span class="o">.</span><span class="n">from_flow_settings_input</span><span class="p">(</span><span class="n">flow_settings</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_flow_settings</span> <span class="o">=</span> <span class="n">flow_settings</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">uuid</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid1</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_datetime</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end_datetime</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">latest_run_info</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_flow_id</span> <span class="o">=</span> <span class="n">flow_settings</span><span class="o">.</span><span class="n">flow_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span> <span class="o">=</span> <span class="n">FlowLogger</span><span class="p">(</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">flow_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">FlowNode</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_results</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">schema</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">has_over_row_function</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_input_cols</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">input_cols</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">input_cols</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_output_cols</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">output_cols</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">output_cols</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_node_ids</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_node_db</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cache_results</span> <span class="o">=</span> <span class="n">cache_results</span>
        <span class="bp">self</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">=</span> <span class="n">name</span> <span class="k">if</span> <span class="n">name</span> <span class="k">else</span> <span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">depends_on</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">path_ref</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_datasource</span><span class="p">(</span><span class="n">input_schema</span><span class="o">.</span><span class="n">NodeDatasource</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">path_ref</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">input_flow</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_datasource</span><span class="p">(</span><span class="n">input_file</span><span class="o">=</span><span class="n">input_flow</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">flow_settings</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">schemas</span><span class="o">.</span><span class="n">FlowSettings</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flow_settings</span>

    <span class="nd">@flow_settings</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">flow_settings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flow_settings</span><span class="p">:</span> <span class="n">schemas</span><span class="o">.</span><span class="n">FlowSettings</span><span class="p">):</span>
        <span class="k">if</span> <span class="p">(</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_flow_settings</span><span class="o">.</span><span class="n">execution_location</span> <span class="o">!=</span> <span class="n">flow_settings</span><span class="o">.</span><span class="n">execution_location</span><span class="p">)</span> <span class="ow">or</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_flow_settings</span><span class="o">.</span><span class="n">execution_mode</span> <span class="o">!=</span> <span class="n">flow_settings</span><span class="o">.</span><span class="n">execution_mode</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_flow_settings</span> <span class="o">=</span> <span class="n">flow_settings</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_node_promise</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_promise</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodePromise</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a placeholder node to the graph that is not yet fully configured.</span>

<span class="sd">        Useful for building the graph structure before all settings are available.</span>

<span class="sd">        Args:</span>
<span class="sd">            node_promise: A promise object containing basic node information.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">placeholder</span><span class="p">(</span><span class="n">n</span><span class="p">:</span> <span class="n">FlowNode</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">n</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">n</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">node_promise</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span> <span class="n">node_type</span><span class="o">=</span><span class="n">node_promise</span><span class="o">.</span><span class="n">node_type</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="n">placeholder</span><span class="p">,</span>
                           <span class="n">setting_input</span><span class="o">=</span><span class="n">node_promise</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">apply_layout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">y_spacing</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">150</span><span class="p">,</span> <span class="n">x_spacing</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span> <span class="n">initial_y</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculates and applies a layered layout to all nodes in the graph.</span>

<span class="sd">        This updates their x and y positions for UI rendering.</span>

<span class="sd">        Args:</span>
<span class="sd">            y_spacing: The vertical spacing between layers.</span>
<span class="sd">            x_spacing: The horizontal spacing between nodes in the same layer.</span>
<span class="sd">            initial_y: The initial y-position for the first layer.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Applying layered layout...&quot;</span><span class="p">)</span>
        <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Calculate new positions for all nodes</span>
            <span class="n">new_positions</span> <span class="o">=</span> <span class="n">calculate_layered_layout</span><span class="p">(</span>
                <span class="bp">self</span><span class="p">,</span> <span class="n">y_spacing</span><span class="o">=</span><span class="n">y_spacing</span><span class="p">,</span> <span class="n">x_spacing</span><span class="o">=</span><span class="n">x_spacing</span><span class="p">,</span> <span class="n">initial_y</span><span class="o">=</span><span class="n">initial_y</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">new_positions</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Layout calculation returned no positions.&quot;</span><span class="p">)</span>
                <span class="k">return</span>

            <span class="c1"># Apply the new positions to the setting_input of each node</span>
            <span class="n">updated_count</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">node_id</span><span class="p">,</span> <span class="p">(</span><span class="n">pos_x</span><span class="p">,</span> <span class="n">pos_y</span><span class="p">)</span> <span class="ow">in</span> <span class="n">new_positions</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">node</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;setting_input&#39;</span><span class="p">):</span>
                    <span class="n">setting</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">setting_input</span>
                    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">setting</span><span class="p">,</span> <span class="s1">&#39;pos_x&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">setting</span><span class="p">,</span> <span class="s1">&#39;pos_y&#39;</span><span class="p">):</span>
                        <span class="n">setting</span><span class="o">.</span><span class="n">pos_x</span> <span class="o">=</span> <span class="n">pos_x</span>
                        <span class="n">setting</span><span class="o">.</span><span class="n">pos_y</span> <span class="o">=</span> <span class="n">pos_y</span>
                        <span class="n">updated_count</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Node </span><span class="si">{</span><span class="n">node_id</span><span class="si">}</span><span class="s2"> setting_input (</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">setting</span><span class="p">)</span><span class="si">}</span><span class="s2">) lacks pos_x/pos_y attributes.&quot;</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">node</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Node </span><span class="si">{</span><span class="n">node_id</span><span class="si">}</span><span class="s2"> lacks setting_input attribute.&quot;</span><span class="p">)</span>
                <span class="c1"># else: Node not found, already warned by calculate_layered_layout</span>

            <span class="n">end_time</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Layout applied to </span><span class="si">{</span><span class="n">updated_count</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span><span class="si">}</span><span class="s2"> nodes in </span><span class="si">{</span><span class="n">end_time</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">start_time</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> seconds.&quot;</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error applying layout: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">raise</span>  <span class="c1"># Optional: re-raise the exception</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">flow_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the unique identifier of the flow.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flow_id</span>

    <span class="nd">@flow_id</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">flow_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets the unique identifier for the flow and updates all child nodes.</span>

<span class="sd">        Args:</span>
<span class="sd">            new_id: The new flow ID.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_flow_id</span> <span class="o">=</span> <span class="n">new_id</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">setting_input</span><span class="p">,</span> <span class="s1">&#39;flow_id&#39;</span><span class="p">):</span>
                <span class="n">node</span><span class="o">.</span><span class="n">setting_input</span><span class="o">.</span><span class="n">flow_id</span> <span class="o">=</span> <span class="n">new_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">flow_id</span> <span class="o">=</span> <span class="n">new_id</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Provides the official string representation of the FlowGraph instance.&quot;&quot;&quot;</span>
        <span class="n">settings_str</span> <span class="o">=</span> <span class="s2">&quot;  -&quot;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">  -&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="p">)</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;FlowGraph(</span><span class="se">\n</span><span class="s2">Nodes: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_node_db</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">Settings:</span><span class="se">\n</span><span class="si">{</span><span class="n">settings_str</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">print_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Print flow_graph as a visual tree structure, showing the DAG relationships with ASCII art.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_node_db</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Empty flow graph&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="c1"># Build node information</span>
        <span class="n">node_info</span> <span class="o">=</span> <span class="n">build_node_info</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span>

        <span class="c1"># Calculate depths for all nodes</span>
        <span class="k">for</span> <span class="n">node_id</span> <span class="ow">in</span> <span class="n">node_info</span><span class="p">:</span>
            <span class="n">calculate_depth</span><span class="p">(</span><span class="n">node_id</span><span class="p">,</span> <span class="n">node_info</span><span class="p">)</span>

        <span class="c1"># Group nodes by depth</span>
        <span class="n">depth_groups</span><span class="p">,</span> <span class="n">max_depth</span> <span class="o">=</span> <span class="n">group_nodes_by_depth</span><span class="p">(</span><span class="n">node_info</span><span class="p">)</span>

        <span class="c1"># Sort nodes within each depth group</span>
        <span class="k">for</span> <span class="n">depth</span> <span class="ow">in</span> <span class="n">depth_groups</span><span class="p">:</span>
            <span class="n">depth_groups</span><span class="p">[</span><span class="n">depth</span><span class="p">]</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>

        <span class="c1"># Create the main flow visualization</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="mi">80</span><span class="p">,</span> <span class="s2">&quot;Flow Graph Visualization&quot;</span><span class="p">,</span> <span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="mi">80</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">]</span>

        <span class="c1"># Track which nodes connect to what</span>
        <span class="n">merge_points</span> <span class="o">=</span> <span class="n">define_node_connections</span><span class="p">(</span><span class="n">node_info</span><span class="p">)</span>

        <span class="c1"># Build the flow paths</span>

        <span class="c1"># Find the maximum label length for each depth level</span>
        <span class="n">max_label_length</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">depth</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">max_depth</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">depth</span> <span class="ow">in</span> <span class="n">depth_groups</span><span class="p">:</span>
                <span class="n">max_len</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">node_info</span><span class="p">[</span><span class="n">nid</span><span class="p">]</span><span class="o">.</span><span class="n">label</span><span class="p">)</span> <span class="k">for</span> <span class="n">nid</span> <span class="ow">in</span> <span class="n">depth_groups</span><span class="p">[</span><span class="n">depth</span><span class="p">])</span>
                <span class="n">max_label_length</span><span class="p">[</span><span class="n">depth</span><span class="p">]</span> <span class="o">=</span> <span class="n">max_len</span>

        <span class="c1"># Draw the paths</span>
        <span class="n">drawn_nodes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="n">merge_drawn</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

        <span class="c1"># Group paths by their merge points</span>
        <span class="n">paths_by_merge</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">standalone_paths</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># Build flow paths</span>
        <span class="n">paths</span> <span class="o">=</span> <span class="n">build_flow_paths</span><span class="p">(</span><span class="n">node_info</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="p">,</span> <span class="n">merge_points</span><span class="p">)</span>

        <span class="c1"># Define paths to merge and standalone paths</span>
        <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">paths</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">path</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="n">merge_points</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">merge_points</span><span class="p">[</span><span class="n">path</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]])</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">merge_id</span> <span class="o">=</span> <span class="n">path</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">merge_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">paths_by_merge</span><span class="p">:</span>
                    <span class="n">paths_by_merge</span><span class="p">[</span><span class="n">merge_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">paths_by_merge</span><span class="p">[</span><span class="n">merge_id</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">standalone_paths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

        <span class="c1"># Draw merged paths</span>
        <span class="n">draw_merged_paths</span><span class="p">(</span><span class="n">node_info</span><span class="p">,</span> <span class="n">merge_points</span><span class="p">,</span> <span class="n">paths_by_merge</span><span class="p">,</span> <span class="n">merge_drawn</span><span class="p">,</span> <span class="n">drawn_nodes</span><span class="p">,</span> <span class="n">lines</span><span class="p">)</span>

        <span class="c1"># Draw standlone paths</span>
        <span class="n">draw_standalone_paths</span><span class="p">(</span><span class="n">drawn_nodes</span><span class="p">,</span> <span class="n">standalone_paths</span><span class="p">,</span> <span class="n">lines</span><span class="p">,</span> <span class="n">node_info</span><span class="p">)</span>

        <span class="c1"># Add undrawn nodes</span>
        <span class="n">add_un_drawn_nodes</span><span class="p">(</span><span class="n">drawn_nodes</span><span class="p">,</span> <span class="n">node_info</span><span class="p">,</span> <span class="n">lines</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">skip_nodes</span><span class="p">,</span> <span class="n">ordered_nodes</span> <span class="o">=</span> <span class="n">compute_execution_plan</span><span class="p">(</span>
                <span class="n">nodes</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">,</span>
                <span class="n">flow_starts</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">get_implicit_starter_nodes</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">ordered_nodes</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">node</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">ordered_nodes</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
                    <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">i</span><span class="si">:</span><span class="s2">3d</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">node_info</span><span class="p">[</span><span class="n">node</span><span class="o">.</span><span class="n">node_id</span><span class="p">]</span><span class="o">.</span><span class="n">label</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Could not determine execution order: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Print everything</span>
        <span class="n">output</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_nodes_overview</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a list of dictionary representations for all nodes in the graph.&quot;&quot;&quot;</span>
        <span class="n">output</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_node_db</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">get_repr</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">output</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">remove_from_output_cols</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Removes specified columns from the list of expected output columns.</span>

<span class="sd">        Args:</span>
<span class="sd">            columns: A list of column names to remove.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cols</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">columns</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_output_cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_output_cols</span> <span class="k">if</span> <span class="n">c</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">cols</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowNode</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieves a node from the graph by its ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            node_id: The ID of the node to retrieve. If None, retrieves the last added node.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The FlowNode object, or None if not found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">node_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">node_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_node_ids</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_node_db</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">node</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">node</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_user_defined_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span>
                              <span class="n">custom_node</span><span class="p">:</span> <span class="n">CustomNodeBase</span><span class="p">,</span>
                              <span class="n">user_defined_node_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">UserDefinedNode</span>
                              <span class="p">):</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="o">*</span><span class="n">fdes</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">output</span> <span class="o">=</span> <span class="n">custom_node</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">fde</span><span class="o">.</span><span class="n">data_frame</span> <span class="k">for</span> <span class="n">fde</span> <span class="ow">in</span> <span class="n">fdes</span><span class="p">))</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">output</span><span class="p">,</span> <span class="n">pl</span><span class="o">.</span><span class="n">LazyFrame</span> <span class="o">|</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">user_defined_node_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                           <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                           <span class="n">setting_input</span><span class="o">=</span><span class="n">user_defined_node_settings</span><span class="p">,</span>
                           <span class="n">input_node_ids</span><span class="o">=</span><span class="n">user_defined_node_settings</span><span class="o">.</span><span class="n">depending_on_ids</span><span class="p">,</span>
                           <span class="n">node_type</span><span class="o">=</span><span class="n">custom_node</span><span class="o">.</span><span class="n">item</span><span class="p">,</span>
                           <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_pivot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pivot_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodePivot</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a pivot node to the graph.</span>

<span class="sd">        Args:</span>
<span class="sd">            pivot_settings: The settings for the pivot operation.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">fl</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">fl</span><span class="o">.</span><span class="n">do_pivot</span><span class="p">(</span><span class="n">pivot_settings</span><span class="o">.</span><span class="n">pivot_input</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">get_node_logger</span><span class="p">(</span><span class="n">pivot_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">pivot_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                           <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                           <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;pivot&#39;</span><span class="p">,</span>
                           <span class="n">setting_input</span><span class="o">=</span><span class="n">pivot_settings</span><span class="p">,</span>
                           <span class="n">input_node_ids</span><span class="o">=</span><span class="p">[</span><span class="n">pivot_settings</span><span class="o">.</span><span class="n">depending_on_id</span><span class="p">])</span>

        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">pivot_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">schema_callback</span><span class="p">():</span>
            <span class="n">input_data</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">singular_main_input</span><span class="o">.</span><span class="n">get_resulting_data</span><span class="p">()</span>  <span class="c1"># get from the previous step the data</span>
            <span class="n">input_data</span><span class="o">.</span><span class="n">lazy</span> <span class="o">=</span> <span class="kc">True</span>  <span class="c1"># ensure the dataset is lazy</span>
            <span class="n">input_lf</span> <span class="o">=</span> <span class="n">input_data</span><span class="o">.</span><span class="n">data_frame</span>  <span class="c1"># get the lazy frame</span>
            <span class="k">return</span> <span class="n">pre_calculate_pivot_schema</span><span class="p">(</span><span class="n">input_data</span><span class="o">.</span><span class="n">schema</span><span class="p">,</span> <span class="n">pivot_settings</span><span class="o">.</span><span class="n">pivot_input</span><span class="p">,</span> <span class="n">input_lf</span><span class="o">=</span><span class="n">input_lf</span><span class="p">)</span>
        <span class="n">node</span><span class="o">.</span><span class="n">schema_callback</span> <span class="o">=</span> <span class="n">schema_callback</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_unpivot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">unpivot_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeUnpivot</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds an unpivot node to the graph.</span>

<span class="sd">        Args:</span>
<span class="sd">            unpivot_settings: The settings for the unpivot operation.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">fl</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">fl</span><span class="o">.</span><span class="n">unpivot</span><span class="p">(</span><span class="n">unpivot_settings</span><span class="o">.</span><span class="n">unpivot_input</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">unpivot_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                           <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                           <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;unpivot&#39;</span><span class="p">,</span>
                           <span class="n">setting_input</span><span class="o">=</span><span class="n">unpivot_settings</span><span class="p">,</span>
                           <span class="n">input_node_ids</span><span class="o">=</span><span class="p">[</span><span class="n">unpivot_settings</span><span class="o">.</span><span class="n">depending_on_id</span><span class="p">])</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_union</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">union_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeUnion</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a union node to combine multiple data streams.</span>

<span class="sd">        Args:</span>
<span class="sd">            union_settings: The settings for the union operation.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="o">*</span><span class="n">flowfile_tables</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">):</span>
            <span class="n">dfs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">pl</span><span class="o">.</span><span class="n">LazyFrame</span><span class="p">]</span> <span class="o">|</span> <span class="n">List</span><span class="p">[</span><span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">flt</span><span class="o">.</span><span class="n">data_frame</span> <span class="k">for</span> <span class="n">flt</span> <span class="ow">in</span> <span class="n">flowfile_tables</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">dfs</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;diagonal_relaxed&#39;</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">union_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                           <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                           <span class="n">node_type</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;union&#39;</span><span class="p">,</span>
                           <span class="n">setting_input</span><span class="o">=</span><span class="n">union_settings</span><span class="p">,</span>
                           <span class="n">input_node_ids</span><span class="o">=</span><span class="n">union_settings</span><span class="o">.</span><span class="n">depending_on_ids</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_initial_node_analysis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_promise</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodePromise</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a data exploration/analysis node based on a node promise.</span>

<span class="sd">        Args:</span>
<span class="sd">            node_promise: The promise representing the node to be analyzed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">node_analysis</span> <span class="o">=</span> <span class="n">create_graphic_walker_node_from_node_promise</span><span class="p">(</span><span class="n">node_promise</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_explore_data</span><span class="p">(</span><span class="n">node_analysis</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_explore_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_analysis</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeExploreData</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a specialized node for data exploration and visualization.</span>

<span class="sd">        Args:</span>
<span class="sd">            node_analysis: The settings for the data exploration node.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">sample_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10000</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">analysis_preparation</span><span class="p">(</span><span class="n">flowfile_table</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">flowfile_table</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">number_of_records</span> <span class="o">=</span> <span class="n">flowfile_table</span><span class="o">.</span><span class="n">get_number_of_records</span><span class="p">(</span><span class="n">calculate_in_worker_process</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">number_of_records</span> <span class="o">=</span> <span class="n">flowfile_table</span><span class="o">.</span><span class="n">number_of_records</span>
            <span class="k">if</span> <span class="n">number_of_records</span> <span class="o">&gt;</span> <span class="n">sample_size</span><span class="p">:</span>
                <span class="n">flowfile_table</span> <span class="o">=</span> <span class="n">flowfile_table</span><span class="o">.</span><span class="n">get_sample</span><span class="p">(</span><span class="n">sample_size</span><span class="p">,</span> <span class="n">random</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">external_sampler</span> <span class="o">=</span> <span class="n">ExternalDfFetcher</span><span class="p">(</span>
                <span class="n">lf</span><span class="o">=</span><span class="n">flowfile_table</span><span class="o">.</span><span class="n">data_frame</span><span class="p">,</span>
                <span class="n">file_ref</span><span class="o">=</span><span class="s2">&quot;__gf_walker&quot;</span><span class="o">+</span><span class="n">node</span><span class="o">.</span><span class="n">hash</span><span class="p">,</span>
                <span class="n">wait_on_completion</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">node_id</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                <span class="n">flow_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">flow_id</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">node</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">analysis_data_generator</span> <span class="o">=</span> <span class="n">get_read_top_n</span><span class="p">(</span><span class="n">external_sampler</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">file_ref</span><span class="p">,</span>
                                                                  <span class="n">n</span><span class="o">=</span><span class="nb">min</span><span class="p">(</span><span class="n">sample_size</span><span class="p">,</span> <span class="n">number_of_records</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">flowfile_table</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">schema_callback</span><span class="p">():</span>
            <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_analysis</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">all_inputs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">input_node</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">all_inputs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">return</span> <span class="n">input_node</span><span class="o">.</span><span class="n">schema</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">[</span><span class="n">FlowfileColumn</span><span class="o">.</span><span class="n">from_input</span><span class="p">(</span><span class="s1">&#39;col_1&#39;</span><span class="p">,</span> <span class="s1">&#39;na&#39;</span><span class="p">)]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">node_analysis</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span> <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;explore_data&#39;</span><span class="p">,</span>
                           <span class="n">function</span><span class="o">=</span><span class="n">analysis_preparation</span><span class="p">,</span>
                           <span class="n">setting_input</span><span class="o">=</span><span class="n">node_analysis</span><span class="p">,</span> <span class="n">schema_callback</span><span class="o">=</span><span class="n">schema_callback</span><span class="p">)</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_analysis</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_group_by</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">group_by_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeGroupBy</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a group-by aggregation node to the graph.</span>

<span class="sd">        Args:</span>
<span class="sd">            group_by_settings: The settings for the group-by operation.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">fl</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">fl</span><span class="o">.</span><span class="n">do_group_by</span><span class="p">(</span><span class="n">group_by_settings</span><span class="o">.</span><span class="n">groupby_input</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">group_by_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                           <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                           <span class="n">node_type</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;group_by&#39;</span><span class="p">,</span>
                           <span class="n">setting_input</span><span class="o">=</span><span class="n">group_by_settings</span><span class="p">,</span>
                           <span class="n">input_node_ids</span><span class="o">=</span><span class="p">[</span><span class="n">group_by_settings</span><span class="o">.</span><span class="n">depending_on_id</span><span class="p">])</span>

        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">group_by_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">schema_callback</span><span class="p">():</span>

            <span class="n">output_columns</span> <span class="o">=</span> <span class="p">[(</span><span class="n">c</span><span class="o">.</span><span class="n">old_name</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">new_name</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">output_type</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">group_by_settings</span><span class="o">.</span><span class="n">groupby_input</span><span class="o">.</span><span class="n">agg_cols</span><span class="p">]</span>
            <span class="n">depends_on</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">input_schema_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="n">s</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">s</span><span class="o">.</span><span class="n">data_type</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">depends_on</span><span class="o">.</span><span class="n">schema</span><span class="p">}</span>
            <span class="n">output_schema</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">old_name</span><span class="p">,</span> <span class="n">new_name</span><span class="p">,</span> <span class="n">data_type</span> <span class="ow">in</span> <span class="n">output_columns</span><span class="p">:</span>
                <span class="n">data_type</span> <span class="o">=</span> <span class="n">input_schema_dict</span><span class="p">[</span><span class="n">old_name</span><span class="p">]</span> <span class="k">if</span> <span class="n">data_type</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">data_type</span>
                <span class="n">output_schema</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">FlowfileColumn</span><span class="o">.</span><span class="n">from_input</span><span class="p">(</span><span class="n">data_type</span><span class="o">=</span><span class="n">data_type</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="n">new_name</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">output_schema</span>

        <span class="n">node</span><span class="o">.</span><span class="n">schema_callback</span> <span class="o">=</span> <span class="n">schema_callback</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeFilter</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a filter node to the graph.</span>

<span class="sd">        Args:</span>
<span class="sd">            filter_settings: The settings for the filter operation.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">is_advanced</span> <span class="o">=</span> <span class="n">filter_settings</span><span class="o">.</span><span class="n">filter_input</span><span class="o">.</span><span class="n">filter_type</span> <span class="o">==</span> <span class="s1">&#39;advanced&#39;</span>
        <span class="k">if</span> <span class="n">is_advanced</span><span class="p">:</span>
            <span class="n">predicate</span> <span class="o">=</span> <span class="n">filter_settings</span><span class="o">.</span><span class="n">filter_input</span><span class="o">.</span><span class="n">advanced_filter</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_basic_filter</span> <span class="o">=</span> <span class="n">filter_settings</span><span class="o">.</span><span class="n">filter_input</span><span class="o">.</span><span class="n">basic_filter</span>
            <span class="n">filter_settings</span><span class="o">.</span><span class="n">filter_input</span><span class="o">.</span><span class="n">advanced_filter</span> <span class="o">=</span> <span class="p">(</span><span class="sa">f</span><span class="s1">&#39;[</span><span class="si">{</span><span class="n">_basic_filter</span><span class="o">.</span><span class="n">field</span><span class="si">}</span><span class="s1">]</span><span class="si">{</span><span class="n">_basic_filter</span><span class="o">.</span><span class="n">filter_type</span><span class="si">}</span><span class="s1">&quot;&#39;</span>
                                                            <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">_basic_filter</span><span class="o">.</span><span class="n">filter_value</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">fl</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">):</span>
            <span class="n">is_advanced</span> <span class="o">=</span> <span class="n">filter_settings</span><span class="o">.</span><span class="n">filter_input</span><span class="o">.</span><span class="n">filter_type</span> <span class="o">==</span> <span class="s1">&#39;advanced&#39;</span>
            <span class="k">if</span> <span class="n">is_advanced</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">fl</span><span class="o">.</span><span class="n">do_filter</span><span class="p">(</span><span class="n">predicate</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">basic_filter</span> <span class="o">=</span> <span class="n">filter_settings</span><span class="o">.</span><span class="n">filter_input</span><span class="o">.</span><span class="n">basic_filter</span>
                <span class="k">if</span> <span class="n">basic_filter</span><span class="o">.</span><span class="n">filter_value</span><span class="o">.</span><span class="n">isnumeric</span><span class="p">():</span>
                    <span class="n">field_data_type</span> <span class="o">=</span> <span class="n">fl</span><span class="o">.</span><span class="n">get_schema_column</span><span class="p">(</span><span class="n">basic_filter</span><span class="o">.</span><span class="n">field</span><span class="p">)</span><span class="o">.</span><span class="n">generic_datatype</span><span class="p">()</span>
                    <span class="k">if</span> <span class="n">field_data_type</span> <span class="o">==</span> <span class="s1">&#39;str&#39;</span><span class="p">:</span>
                        <span class="n">_f</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;[</span><span class="si">{</span><span class="n">basic_filter</span><span class="o">.</span><span class="n">field</span><span class="si">}</span><span class="s1">]</span><span class="si">{</span><span class="n">basic_filter</span><span class="o">.</span><span class="n">filter_type</span><span class="si">}</span><span class="s1">&quot;</span><span class="si">{</span><span class="n">basic_filter</span><span class="o">.</span><span class="n">filter_value</span><span class="si">}</span><span class="s1">&quot;&#39;</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">_f</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;[</span><span class="si">{</span><span class="n">basic_filter</span><span class="o">.</span><span class="n">field</span><span class="si">}</span><span class="s1">]</span><span class="si">{</span><span class="n">basic_filter</span><span class="o">.</span><span class="n">filter_type</span><span class="si">}{</span><span class="n">basic_filter</span><span class="o">.</span><span class="n">filter_value</span><span class="si">}</span><span class="s1">&#39;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">_f</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;[</span><span class="si">{</span><span class="n">basic_filter</span><span class="o">.</span><span class="n">field</span><span class="si">}</span><span class="s1">]</span><span class="si">{</span><span class="n">basic_filter</span><span class="o">.</span><span class="n">filter_type</span><span class="si">}</span><span class="s1">&quot;</span><span class="si">{</span><span class="n">basic_filter</span><span class="o">.</span><span class="n">filter_value</span><span class="si">}</span><span class="s1">&quot;&#39;</span>
                <span class="n">filter_settings</span><span class="o">.</span><span class="n">filter_input</span><span class="o">.</span><span class="n">advanced_filter</span> <span class="o">=</span> <span class="n">_f</span>
                <span class="k">return</span> <span class="n">fl</span><span class="o">.</span><span class="n">do_filter</span><span class="p">(</span><span class="n">_f</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">filter_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span> <span class="n">_func</span><span class="p">,</span>
                           <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;filter&#39;</span><span class="p">,</span>
                           <span class="n">renew_schema</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                           <span class="n">setting_input</span><span class="o">=</span><span class="n">filter_settings</span><span class="p">,</span>
                           <span class="n">input_node_ids</span><span class="o">=</span><span class="p">[</span><span class="n">filter_settings</span><span class="o">.</span><span class="n">depending_on_id</span><span class="p">]</span>
                           <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_record_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_number_of_records</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeRecordCount</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a filter node to the graph.</span>

<span class="sd">        Args:</span>
<span class="sd">            node_number_of_records: The settings for the record count operation.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">fl</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">fl</span><span class="o">.</span><span class="n">get_record_count</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">node_number_of_records</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                           <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                           <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;record_count&#39;</span><span class="p">,</span>
                           <span class="n">setting_input</span><span class="o">=</span><span class="n">node_number_of_records</span><span class="p">,</span>
                           <span class="n">input_node_ids</span><span class="o">=</span><span class="p">[</span><span class="n">node_number_of_records</span><span class="o">.</span><span class="n">depending_on_id</span><span class="p">])</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_polars_code</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_polars_code</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodePolarsCode</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a node that executes custom Polars code.</span>

<span class="sd">        Args:</span>
<span class="sd">            node_polars_code: The settings for the Polars code node.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="o">*</span><span class="n">flowfile_tables</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">execute_polars_code</span><span class="p">(</span><span class="o">*</span><span class="n">flowfile_tables</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="n">node_polars_code</span><span class="o">.</span><span class="n">polars_code_input</span><span class="o">.</span><span class="n">polars_code</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">node_polars_code</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                           <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                           <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;polars_code&#39;</span><span class="p">,</span>
                           <span class="n">setting_input</span><span class="o">=</span><span class="n">node_polars_code</span><span class="p">,</span>
                           <span class="n">input_node_ids</span><span class="o">=</span><span class="n">node_polars_code</span><span class="o">.</span><span class="n">depending_on_ids</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">polars_code_parser</span><span class="o">.</span><span class="n">validate_code</span><span class="p">(</span><span class="n">node_polars_code</span><span class="o">.</span><span class="n">polars_code_input</span><span class="o">.</span><span class="n">polars_code</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">node_polars_code</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
            <span class="n">node</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_dependency_on_polars_lazy_frame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                            <span class="n">lazy_frame</span><span class="p">:</span> <span class="n">pl</span><span class="o">.</span><span class="n">LazyFrame</span><span class="p">,</span>
                                            <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a special node that directly injects a Polars LazyFrame into the graph.</span>

<span class="sd">        Note: This is intended for backend use and will not work in the UI editor.</span>

<span class="sd">        Args:</span>
<span class="sd">            lazy_frame: The Polars LazyFrame to inject.</span>
<span class="sd">            node_id: The ID for the new node.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">():</span>
            <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">lazy_frame</span><span class="p">)</span>
        <span class="n">node_promise</span> <span class="o">=</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodePromise</span><span class="p">(</span><span class="n">flow_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">flow_id</span><span class="p">,</span>
                                                <span class="n">node_id</span><span class="o">=</span><span class="n">node_id</span><span class="p">,</span> <span class="n">node_type</span><span class="o">=</span><span class="s2">&quot;polars_lazy_frame&quot;</span><span class="p">,</span>
                                                <span class="n">is_setup</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">node_promise</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span> <span class="n">node_type</span><span class="o">=</span><span class="n">node_promise</span><span class="o">.</span><span class="n">node_type</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                           <span class="n">setting_input</span><span class="o">=</span><span class="n">node_promise</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_unique</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">unique_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeUnique</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a node to find and remove duplicate rows.</span>

<span class="sd">        Args:</span>
<span class="sd">            unique_settings: The settings for the unique operation.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">fl</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">fl</span><span class="o">.</span><span class="n">make_unique</span><span class="p">(</span><span class="n">unique_settings</span><span class="o">.</span><span class="n">unique_input</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">unique_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                           <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                           <span class="n">input_columns</span><span class="o">=</span><span class="p">[],</span>
                           <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;unique&#39;</span><span class="p">,</span>
                           <span class="n">setting_input</span><span class="o">=</span><span class="n">unique_settings</span><span class="p">,</span>
                           <span class="n">input_node_ids</span><span class="o">=</span><span class="p">[</span><span class="n">unique_settings</span><span class="o">.</span><span class="n">depending_on_id</span><span class="p">])</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_graph_solver</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">graph_solver_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeGraphSolver</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a node that solves graph-like problems within the data.</span>

<span class="sd">        This node can be used for operations like finding network paths,</span>
<span class="sd">        calculating connected components, or performing other graph algorithms</span>
<span class="sd">        on relational data that represents nodes and edges.</span>

<span class="sd">        Args:</span>
<span class="sd">            graph_solver_settings: The settings object defining the graph inputs</span>
<span class="sd">                and the specific algorithm to apply.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">fl</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">fl</span><span class="o">.</span><span class="n">solve_graph</span><span class="p">(</span><span class="n">graph_solver_settings</span><span class="o">.</span><span class="n">graph_solver_input</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">graph_solver_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                           <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                           <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;graph_solver&#39;</span><span class="p">,</span>
                           <span class="n">setting_input</span><span class="o">=</span><span class="n">graph_solver_settings</span><span class="p">,</span>
                           <span class="n">input_node_ids</span><span class="o">=</span><span class="p">[</span><span class="n">graph_solver_settings</span><span class="o">.</span><span class="n">depending_on_id</span><span class="p">])</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_formula</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">function_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeFormula</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a node that applies a formula to create or modify a column.</span>

<span class="sd">        Args:</span>
<span class="sd">            function_settings: The settings for the formula operation.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">error</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="n">function_settings</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">field</span><span class="o">.</span><span class="n">data_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Auto&quot;</span><span class="p">):</span>
            <span class="n">output_type</span> <span class="o">=</span> <span class="n">cast_str_to_polars_type</span><span class="p">(</span><span class="n">function_settings</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">field</span><span class="o">.</span><span class="n">data_type</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">output_type</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">output_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Auto&quot;</span><span class="p">):</span>
            <span class="n">new_col</span> <span class="o">=</span> <span class="p">[</span><span class="n">FlowfileColumn</span><span class="o">.</span><span class="n">from_input</span><span class="p">(</span><span class="n">column_name</span><span class="o">=</span><span class="n">function_settings</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                                                 <span class="n">data_type</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">output_type</span><span class="p">))]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">new_col</span> <span class="o">=</span> <span class="p">[</span><span class="n">FlowfileColumn</span><span class="o">.</span><span class="n">from_input</span><span class="p">(</span><span class="n">function_settings</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;String&#39;</span><span class="p">)]</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">fl</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">fl</span><span class="o">.</span><span class="n">apply_sql_formula</span><span class="p">(</span><span class="n">func</span><span class="o">=</span><span class="n">function_settings</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">function</span><span class="p">,</span>
                                        <span class="n">col_name</span><span class="o">=</span><span class="n">function_settings</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                                        <span class="n">output_data_type</span><span class="o">=</span><span class="n">output_type</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">function_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span> <span class="n">_func</span><span class="p">,</span>
                           <span class="n">output_schema</span><span class="o">=</span><span class="n">new_col</span><span class="p">,</span>
                           <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;formula&#39;</span><span class="p">,</span>
                           <span class="n">renew_schema</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                           <span class="n">setting_input</span><span class="o">=</span><span class="n">function_settings</span><span class="p">,</span>
                           <span class="n">input_node_ids</span><span class="o">=</span><span class="p">[</span><span class="n">function_settings</span><span class="o">.</span><span class="n">depending_on_id</span><span class="p">]</span>
                           <span class="p">)</span>
        <span class="k">if</span> <span class="n">error</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">function_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
            <span class="n">node</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="n">error</span>
            <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="n">error</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_cross_join</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cross_join_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeCrossJoin</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowGraph&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a cross join node to the graph.</span>

<span class="sd">        Args:</span>
<span class="sd">            cross_join_settings: The settings for the cross join operation.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The `FlowGraph` instance for method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">main</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">left_select</span> <span class="ow">in</span> <span class="n">cross_join_settings</span><span class="o">.</span><span class="n">cross_join_input</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">renames</span><span class="p">:</span>
                <span class="n">left_select</span><span class="o">.</span><span class="n">is_available</span> <span class="o">=</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">left_select</span><span class="o">.</span><span class="n">old_name</span> <span class="ow">in</span> <span class="n">main</span><span class="o">.</span><span class="n">schema</span> <span class="k">else</span> <span class="kc">False</span>
            <span class="k">for</span> <span class="n">right_select</span> <span class="ow">in</span> <span class="n">cross_join_settings</span><span class="o">.</span><span class="n">cross_join_input</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">renames</span><span class="p">:</span>
                <span class="n">right_select</span><span class="o">.</span><span class="n">is_available</span> <span class="o">=</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">right_select</span><span class="o">.</span><span class="n">old_name</span> <span class="ow">in</span> <span class="n">right</span><span class="o">.</span><span class="n">schema</span> <span class="k">else</span> <span class="kc">False</span>

            <span class="k">return</span> <span class="n">main</span><span class="o">.</span><span class="n">do_cross_join</span><span class="p">(</span><span class="n">cross_join_input</span><span class="o">=</span><span class="n">cross_join_settings</span><span class="o">.</span><span class="n">cross_join_input</span><span class="p">,</span>
                                      <span class="n">auto_generate_selection</span><span class="o">=</span><span class="n">cross_join_settings</span><span class="o">.</span><span class="n">auto_generate_selection</span><span class="p">,</span>
                                      <span class="n">verify_integrity</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                      <span class="n">other</span><span class="o">=</span><span class="n">right</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">cross_join_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                           <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                           <span class="n">input_columns</span><span class="o">=</span><span class="p">[],</span>
                           <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;cross_join&#39;</span><span class="p">,</span>
                           <span class="n">setting_input</span><span class="o">=</span><span class="n">cross_join_settings</span><span class="p">,</span>
                           <span class="n">input_node_ids</span><span class="o">=</span><span class="n">cross_join_settings</span><span class="o">.</span><span class="n">depending_on_ids</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_join</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">join_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeJoin</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowGraph&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a join node to combine two data streams based on key columns.</span>

<span class="sd">        Args:</span>
<span class="sd">            join_settings: The settings for the join operation.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The `FlowGraph` instance for method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">main</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">left_select</span> <span class="ow">in</span> <span class="n">join_settings</span><span class="o">.</span><span class="n">join_input</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">renames</span><span class="p">:</span>
                <span class="n">left_select</span><span class="o">.</span><span class="n">is_available</span> <span class="o">=</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">left_select</span><span class="o">.</span><span class="n">old_name</span> <span class="ow">in</span> <span class="n">main</span><span class="o">.</span><span class="n">schema</span> <span class="k">else</span> <span class="kc">False</span>
            <span class="k">for</span> <span class="n">right_select</span> <span class="ow">in</span> <span class="n">join_settings</span><span class="o">.</span><span class="n">join_input</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">renames</span><span class="p">:</span>
                <span class="n">right_select</span><span class="o">.</span><span class="n">is_available</span> <span class="o">=</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">right_select</span><span class="o">.</span><span class="n">old_name</span> <span class="ow">in</span> <span class="n">right</span><span class="o">.</span><span class="n">schema</span> <span class="k">else</span> <span class="kc">False</span>

            <span class="k">return</span> <span class="n">main</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">join_input</span><span class="o">=</span><span class="n">join_settings</span><span class="o">.</span><span class="n">join_input</span><span class="p">,</span>
                             <span class="n">auto_generate_selection</span><span class="o">=</span><span class="n">join_settings</span><span class="o">.</span><span class="n">auto_generate_selection</span><span class="p">,</span>
                             <span class="n">verify_integrity</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                             <span class="n">other</span><span class="o">=</span><span class="n">right</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">join_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                           <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                           <span class="n">input_columns</span><span class="o">=</span><span class="p">[],</span>
                           <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;join&#39;</span><span class="p">,</span>
                           <span class="n">setting_input</span><span class="o">=</span><span class="n">join_settings</span><span class="p">,</span>
                           <span class="n">input_node_ids</span><span class="o">=</span><span class="n">join_settings</span><span class="o">.</span><span class="n">depending_on_ids</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_fuzzy_match</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fuzzy_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeFuzzyMatch</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowGraph&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a fuzzy matching node to join data on approximate string matches.</span>

<span class="sd">        Args:</span>
<span class="sd">            fuzzy_settings: The settings for the fuzzy match operation.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The `FlowGraph` instance for method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">main</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span><span class="p">:</span>
            <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">fuzzy_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">execution_location</span> <span class="o">==</span> <span class="s2">&quot;local&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">main</span><span class="o">.</span><span class="n">fuzzy_join</span><span class="p">(</span><span class="n">fuzzy_match_input</span><span class="o">=</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">fuzzy_settings</span><span class="o">.</span><span class="n">join_input</span><span class="p">),</span>
                                       <span class="n">other</span><span class="o">=</span><span class="n">right</span><span class="p">,</span>
                                       <span class="n">node_logger</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">get_node_logger</span><span class="p">(</span><span class="n">fuzzy_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">))</span>

            <span class="n">f</span> <span class="o">=</span> <span class="n">main</span><span class="o">.</span><span class="n">start_fuzzy_join</span><span class="p">(</span><span class="n">fuzzy_match_input</span><span class="o">=</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">fuzzy_settings</span><span class="o">.</span><span class="n">join_input</span><span class="p">),</span> <span class="n">other</span><span class="o">=</span><span class="n">right</span><span class="p">,</span> <span class="n">file_ref</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">hash</span><span class="p">,</span>
                                      <span class="n">flow_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">node_id</span><span class="o">=</span><span class="n">fuzzy_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Started the fuzzy match action&quot;</span><span class="p">)</span>
            <span class="n">node</span><span class="o">.</span><span class="n">_fetch_cached_df</span> <span class="o">=</span> <span class="n">f</span>  <span class="c1"># Add to the node so it can be cancelled and fetch later if needed</span>
            <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">get_result</span><span class="p">())</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">schema_callback</span><span class="p">():</span>
            <span class="n">fm_input_copy</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">fuzzy_settings</span><span class="o">.</span><span class="n">join_input</span><span class="p">)</span>  <span class="c1"># Deepcopy create an unique object per func</span>
            <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">fuzzy_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">calculate_fuzzy_match_schema</span><span class="p">(</span><span class="n">fm_input_copy</span><span class="p">,</span>
                                                <span class="n">left_schema</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">schema</span><span class="p">,</span>
                                                <span class="n">right_schema</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">right_input</span><span class="o">.</span><span class="n">schema</span>
                                                <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">fuzzy_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                           <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                           <span class="n">input_columns</span><span class="o">=</span><span class="p">[],</span>
                           <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;fuzzy_match&#39;</span><span class="p">,</span>
                           <span class="n">setting_input</span><span class="o">=</span><span class="n">fuzzy_settings</span><span class="p">,</span>
                           <span class="n">input_node_ids</span><span class="o">=</span><span class="n">fuzzy_settings</span><span class="o">.</span><span class="n">depending_on_ids</span><span class="p">,</span>
                           <span class="n">schema_callback</span><span class="o">=</span><span class="n">schema_callback</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_text_to_rows</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_text_to_rows</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeTextToRows</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowGraph&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a node that splits cell values into multiple rows.</span>

<span class="sd">        This is useful for un-nesting data where a single field contains multiple</span>
<span class="sd">        values separated by a delimiter.</span>

<span class="sd">        Args:</span>
<span class="sd">            node_text_to_rows: The settings object that specifies the column to split</span>
<span class="sd">                and the delimiter to use.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The `FlowGraph` instance for method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">table</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">table</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">node_text_to_rows</span><span class="o">.</span><span class="n">text_to_rows_input</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">node_text_to_rows</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                           <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                           <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;text_to_rows&#39;</span><span class="p">,</span>
                           <span class="n">setting_input</span><span class="o">=</span><span class="n">node_text_to_rows</span><span class="p">,</span>
                           <span class="n">input_node_ids</span><span class="o">=</span><span class="p">[</span><span class="n">node_text_to_rows</span><span class="o">.</span><span class="n">depending_on_id</span><span class="p">])</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_sort</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sort_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeSort</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowGraph&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a node to sort the data based on one or more columns.</span>

<span class="sd">        Args:</span>
<span class="sd">            sort_settings: The settings for the sort operation.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The `FlowGraph` instance for method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">table</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">table</span><span class="o">.</span><span class="n">do_sort</span><span class="p">(</span><span class="n">sort_settings</span><span class="o">.</span><span class="n">sort_input</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">sort_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                           <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                           <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;sort&#39;</span><span class="p">,</span>
                           <span class="n">setting_input</span><span class="o">=</span><span class="n">sort_settings</span><span class="p">,</span>
                           <span class="n">input_node_ids</span><span class="o">=</span><span class="p">[</span><span class="n">sort_settings</span><span class="o">.</span><span class="n">depending_on_id</span><span class="p">])</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_sample</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sample_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeSample</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowGraph&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a node to take a random or top-N sample of the data.</span>

<span class="sd">        Args:</span>
<span class="sd">            sample_settings: The settings object specifying the size of the sample.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The `FlowGraph` instance for method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">table</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">table</span><span class="o">.</span><span class="n">get_sample</span><span class="p">(</span><span class="n">sample_settings</span><span class="o">.</span><span class="n">sample_size</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">sample_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                           <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                           <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;sample&#39;</span><span class="p">,</span>
                           <span class="n">setting_input</span><span class="o">=</span><span class="n">sample_settings</span><span class="p">,</span>
                           <span class="n">input_node_ids</span><span class="o">=</span><span class="p">[</span><span class="n">sample_settings</span><span class="o">.</span><span class="n">depending_on_id</span><span class="p">]</span>
                           <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_record_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeRecordId</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowGraph&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a node to create a new column with a unique ID for each record.</span>

<span class="sd">        Args:</span>
<span class="sd">            record_id_settings: The settings object specifying the name of the</span>
<span class="sd">                new record ID column.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The `FlowGraph` instance for method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">table</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">table</span><span class="o">.</span><span class="n">add_record_id</span><span class="p">(</span><span class="n">record_id_settings</span><span class="o">.</span><span class="n">record_id_input</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">record_id_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                           <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                           <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;record_id&#39;</span><span class="p">,</span>
                           <span class="n">setting_input</span><span class="o">=</span><span class="n">record_id_settings</span><span class="p">,</span>
                           <span class="n">input_node_ids</span><span class="o">=</span><span class="p">[</span><span class="n">record_id_settings</span><span class="o">.</span><span class="n">depending_on_id</span><span class="p">]</span>
                           <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeSelect</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowGraph&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a node to select, rename, reorder, or drop columns.</span>

<span class="sd">        Args:</span>
<span class="sd">            select_settings: The settings for the select operation.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The `FlowGraph` instance for method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">select_cols</span> <span class="o">=</span> <span class="n">select_settings</span><span class="o">.</span><span class="n">select_input</span>
        <span class="n">drop_cols</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">old_name</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">select_settings</span><span class="o">.</span><span class="n">select_input</span><span class="p">)</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">table</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span><span class="p">:</span>
            <span class="n">input_cols</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">table</span><span class="o">.</span><span class="n">schema</span><span class="p">)</span>
            <span class="n">ids_to_remove</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">select_col</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">select_cols</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">select_col</span><span class="o">.</span><span class="n">data_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">select_col</span><span class="o">.</span><span class="n">data_type</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">get_schema_column</span><span class="p">(</span><span class="n">select_col</span><span class="o">.</span><span class="n">old_name</span><span class="p">)</span><span class="o">.</span><span class="n">data_type</span>
                <span class="k">if</span> <span class="n">select_col</span><span class="o">.</span><span class="n">old_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">input_cols</span><span class="p">:</span>
                    <span class="n">select_col</span><span class="o">.</span><span class="n">is_available</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">select_col</span><span class="o">.</span><span class="n">keep</span><span class="p">:</span>
                        <span class="n">ids_to_remove</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">select_col</span><span class="o">.</span><span class="n">is_available</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">ids_to_remove</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">ids_to_remove</span><span class="p">:</span>
                <span class="n">v</span> <span class="o">=</span> <span class="n">select_cols</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="k">del</span> <span class="n">v</span>
            <span class="k">return</span> <span class="n">table</span><span class="o">.</span><span class="n">do_select</span><span class="p">(</span><span class="n">select_inputs</span><span class="o">=</span><span class="n">transform_schema</span><span class="o">.</span><span class="n">SelectInputs</span><span class="p">(</span><span class="n">select_cols</span><span class="p">),</span>
                                   <span class="n">keep_missing</span><span class="o">=</span><span class="n">select_settings</span><span class="o">.</span><span class="n">keep_missing</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">select_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                           <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                           <span class="n">input_columns</span><span class="o">=</span><span class="p">[],</span>
                           <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;select&#39;</span><span class="p">,</span>
                           <span class="n">drop_columns</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">drop_cols</span><span class="p">),</span>
                           <span class="n">setting_input</span><span class="o">=</span><span class="n">select_settings</span><span class="p">,</span>
                           <span class="n">input_node_ids</span><span class="o">=</span><span class="p">[</span><span class="n">select_settings</span><span class="o">.</span><span class="n">depending_on_id</span><span class="p">])</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">graph_has_functions</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Checks if the graph has any nodes.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_node_ids</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">delete_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a node from the graph and updates all its connections.</span>

<span class="sd">        Args:</span>
<span class="sd">            node_id: The ID of the node to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception: If the node with the given ID does not exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Starting deletion of node with ID: </span><span class="si">{</span><span class="n">node_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_node_db</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">node</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found node: </span><span class="si">{</span><span class="n">node_id</span><span class="si">}</span><span class="s2">, processing deletion&quot;</span><span class="p">)</span>

            <span class="n">lead_to_steps</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">FlowNode</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">leads_to_nodes</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Node </span><span class="si">{</span><span class="n">node_id</span><span class="si">}</span><span class="s2"> leads to </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">lead_to_steps</span><span class="p">)</span><span class="si">}</span><span class="s2"> other nodes&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">lead_to_steps</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">lead_to_step</span> <span class="ow">in</span> <span class="n">lead_to_steps</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Deleting input node </span><span class="si">{</span><span class="n">node_id</span><span class="si">}</span><span class="s2"> from dependent node </span><span class="si">{</span><span class="n">lead_to_step</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="n">lead_to_step</span><span class="o">.</span><span class="n">delete_input_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">,</span> <span class="n">complete</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">node</span><span class="o">.</span><span class="n">is_start</span><span class="p">:</span>
                <span class="n">depends_on</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">FlowNode</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">get_all_inputs</span><span class="p">()</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Node </span><span class="si">{</span><span class="n">node_id</span><span class="si">}</span><span class="s2"> depends on </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">depends_on</span><span class="p">)</span><span class="si">}</span><span class="s2"> other nodes&quot;</span><span class="p">)</span>

                <span class="k">for</span> <span class="n">depend_on</span> <span class="ow">in</span> <span class="n">depends_on</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Removing lead_to reference </span><span class="si">{</span><span class="n">node_id</span><span class="si">}</span><span class="s2"> from node </span><span class="si">{</span><span class="n">depend_on</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="n">depend_on</span><span class="o">.</span><span class="n">delete_lead_to_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_node_db</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Successfully removed node </span><span class="si">{</span><span class="n">node_id</span><span class="si">}</span><span class="s2"> from node_db&quot;</span><span class="p">)</span>
            <span class="k">del</span> <span class="n">node</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Node object deleted&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to find node with id </span><span class="si">{</span><span class="n">node_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Node with id </span><span class="si">{</span><span class="n">node_id</span><span class="si">}</span><span class="s2"> does not exist&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">graph_has_input_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Checks if the graph has an initial input data source.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_input_data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_node_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                      <span class="n">node_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
                      <span class="n">function</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span>
                      <span class="n">input_columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                      <span class="n">output_schema</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">FlowfileColumn</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                      <span class="n">node_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                      <span class="n">drop_columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                      <span class="n">renew_schema</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                      <span class="n">setting_input</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                      <span class="n">cache_results</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                      <span class="n">schema_callback</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                      <span class="n">input_node_ids</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowNode</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The core method for adding or updating a node in the graph.</span>

<span class="sd">        Args:</span>
<span class="sd">            node_id: The unique ID for the node.</span>
<span class="sd">            function: The core processing function for the node.</span>
<span class="sd">            input_columns: A list of input column names required by the function.</span>
<span class="sd">            output_schema: A predefined schema for the node&#39;s output.</span>
<span class="sd">            node_type: A string identifying the type of node (e.g., &#39;filter&#39;, &#39;join&#39;).</span>
<span class="sd">            drop_columns: A list of columns to be dropped after the function executes.</span>
<span class="sd">            renew_schema: If True, the schema is recalculated after execution.</span>
<span class="sd">            setting_input: A configuration object containing settings for the node.</span>
<span class="sd">            cache_results: If True, the node&#39;s results are cached for future runs.</span>
<span class="sd">            schema_callback: A function that dynamically calculates the output schema.</span>
<span class="sd">            input_node_ids: A list of IDs for the nodes that this node depends on.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created or updated FlowNode object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">existing_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">existing_node</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">existing_node</span><span class="o">.</span><span class="n">node_type</span> <span class="o">!=</span> <span class="n">node_type</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">delete_node</span><span class="p">(</span><span class="n">existing_node</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
                <span class="n">existing_node</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">existing_node</span><span class="p">:</span>
            <span class="n">input_nodes</span> <span class="o">=</span> <span class="n">existing_node</span><span class="o">.</span><span class="n">all_inputs</span>
        <span class="k">elif</span> <span class="n">input_node_ids</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">input_nodes</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span> <span class="k">for</span> <span class="n">node_id</span> <span class="ow">in</span> <span class="n">input_node_ids</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">input_nodes</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_columns</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">input_columns</span><span class="p">]</span>
        <span class="k">if</span> <span class="p">(</span>
                <span class="n">input_nodes</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span>
                <span class="n">function</span><span class="o">.</span><span class="vm">__name__</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;placeholder&#39;</span><span class="p">,</span> <span class="s1">&#39;analysis_preparation&#39;</span><span class="p">)</span> <span class="ow">or</span>
                <span class="n">node_type</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;cloud_storage_reader&quot;</span><span class="p">,</span> <span class="s2">&quot;polars_lazy_frame&quot;</span><span class="p">,</span> <span class="s2">&quot;input_data&quot;</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">existing_node</span><span class="p">:</span>
                <span class="n">node</span> <span class="o">=</span> <span class="n">FlowNode</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">node_id</span><span class="p">,</span>
                                <span class="n">function</span><span class="o">=</span><span class="n">function</span><span class="p">,</span>
                                <span class="n">output_schema</span><span class="o">=</span><span class="n">output_schema</span><span class="p">,</span>
                                <span class="n">input_columns</span><span class="o">=</span><span class="n">input_columns</span><span class="p">,</span>
                                <span class="n">drop_columns</span><span class="o">=</span><span class="n">drop_columns</span><span class="p">,</span>
                                <span class="n">renew_schema</span><span class="o">=</span><span class="n">renew_schema</span><span class="p">,</span>
                                <span class="n">setting_input</span><span class="o">=</span><span class="n">setting_input</span><span class="p">,</span>
                                <span class="n">node_type</span><span class="o">=</span><span class="n">node_type</span><span class="p">,</span>
                                <span class="n">name</span><span class="o">=</span><span class="n">function</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                                <span class="n">schema_callback</span><span class="o">=</span><span class="n">schema_callback</span><span class="p">,</span>
                                <span class="n">parent_uuid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">existing_node</span><span class="o">.</span><span class="n">update_node</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="n">function</span><span class="p">,</span>
                                          <span class="n">output_schema</span><span class="o">=</span><span class="n">output_schema</span><span class="p">,</span>
                                          <span class="n">input_columns</span><span class="o">=</span><span class="n">input_columns</span><span class="p">,</span>
                                          <span class="n">drop_columns</span><span class="o">=</span><span class="n">drop_columns</span><span class="p">,</span>
                                          <span class="n">setting_input</span><span class="o">=</span><span class="n">setting_input</span><span class="p">,</span>
                                          <span class="n">schema_callback</span><span class="o">=</span><span class="n">schema_callback</span><span class="p">)</span>
                <span class="n">node</span> <span class="o">=</span> <span class="n">existing_node</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;No data initialized&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_node_db</span><span class="p">[</span><span class="n">node_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_node_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">node</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_include_cols</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">include_columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds columns to both the input and output column lists.</span>

<span class="sd">        Args:</span>
<span class="sd">            include_columns: A list of column names to include.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">include_columns</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">column</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_input_cols</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_input_cols</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">column</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">column</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_output_cols</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_output_cols</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">column</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_output</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output_file</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeOutput</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds an output node to write the final data to a destination.</span>

<span class="sd">        Args:</span>
<span class="sd">            output_file: The settings for the output file.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">):</span>
            <span class="n">output_file</span><span class="o">.</span><span class="n">output_settings</span><span class="o">.</span><span class="n">populate_abs_file_path</span><span class="p">()</span>
            <span class="n">execute_remote</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">execution_location</span> <span class="o">!=</span> <span class="s1">&#39;local&#39;</span>
            <span class="n">df</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">output_fs</span><span class="o">=</span><span class="n">output_file</span><span class="o">.</span><span class="n">output_settings</span><span class="p">,</span> <span class="n">flow_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">node_id</span><span class="o">=</span><span class="n">output_file</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                      <span class="n">execute_remote</span><span class="o">=</span><span class="n">execute_remote</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">df</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">schema_callback</span><span class="p">():</span>
            <span class="n">input_node</span><span class="p">:</span> <span class="n">FlowNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">output_file</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

            <span class="k">return</span> <span class="n">input_node</span><span class="o">.</span><span class="n">schema</span>
        <span class="n">input_node_id</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">output_file</span><span class="p">,</span> <span class="s2">&quot;depending_on_id&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">output_file</span><span class="p">,</span> <span class="s1">&#39;depending_on_id&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">output_file</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                           <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                           <span class="n">input_columns</span><span class="o">=</span><span class="p">[],</span>
                           <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;output&#39;</span><span class="p">,</span>
                           <span class="n">setting_input</span><span class="o">=</span><span class="n">output_file</span><span class="p">,</span>
                           <span class="n">schema_callback</span><span class="o">=</span><span class="n">schema_callback</span><span class="p">,</span>
                           <span class="n">input_node_ids</span><span class="o">=</span><span class="p">[</span><span class="n">input_node_id</span><span class="p">])</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_database_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_database_writer</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeDatabaseWriter</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a node to write data to a database.</span>

<span class="sd">        Args:</span>
<span class="sd">            node_database_writer: The settings for the database writer node.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">node_type</span> <span class="o">=</span> <span class="s1">&#39;database_writer&#39;</span>
        <span class="n">database_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">DatabaseWriteSettings</span> <span class="o">=</span> <span class="n">node_database_writer</span><span class="o">.</span><span class="n">database_write_settings</span>
        <span class="n">database_connection</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">input_schema</span><span class="o">.</span><span class="n">DatabaseConnection</span> <span class="o">|</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">FullDatabaseConnection</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">database_settings</span><span class="o">.</span><span class="n">connection_mode</span> <span class="o">==</span> <span class="s1">&#39;inline&#39;</span><span class="p">:</span>
            <span class="n">database_connection</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">DatabaseConnection</span> <span class="o">=</span> <span class="n">database_settings</span><span class="o">.</span><span class="n">database_connection</span>
            <span class="n">encrypted_password</span> <span class="o">=</span> <span class="n">get_encrypted_secret</span><span class="p">(</span><span class="n">current_user_id</span><span class="o">=</span><span class="n">node_database_writer</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span>
                                                      <span class="n">secret_name</span><span class="o">=</span><span class="n">database_connection</span><span class="o">.</span><span class="n">password_ref</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">encrypted_password</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Password not found&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">database_reference_settings</span> <span class="o">=</span> <span class="n">get_local_database_connection</span><span class="p">(</span><span class="n">database_settings</span><span class="o">.</span><span class="n">database_connection_name</span><span class="p">,</span>
                                                                        <span class="n">node_database_writer</span><span class="o">.</span><span class="n">user_id</span><span class="p">)</span>
            <span class="n">encrypted_password</span> <span class="o">=</span> <span class="n">database_reference_settings</span><span class="o">.</span><span class="n">password</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">):</span>
            <span class="n">df</span><span class="o">.</span><span class="n">lazy</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">database_external_write_settings</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">sql_models</span><span class="o">.</span><span class="n">DatabaseExternalWriteSettings</span><span class="o">.</span><span class="n">create_from_from_node_database_writer</span><span class="p">(</span>
                    <span class="n">node_database_writer</span><span class="o">=</span><span class="n">node_database_writer</span><span class="p">,</span>
                    <span class="n">password</span><span class="o">=</span><span class="n">encrypted_password</span><span class="p">,</span>
                    <span class="n">table_name</span><span class="o">=</span><span class="p">(</span><span class="n">database_settings</span><span class="o">.</span><span class="n">schema_name</span><span class="o">+</span><span class="s1">&#39;.&#39;</span><span class="o">+</span><span class="n">database_settings</span><span class="o">.</span><span class="n">table_name</span>
                                <span class="k">if</span> <span class="n">database_settings</span><span class="o">.</span><span class="n">schema_name</span> <span class="k">else</span> <span class="n">database_settings</span><span class="o">.</span><span class="n">table_name</span><span class="p">),</span>
                    <span class="n">database_reference_settings</span><span class="o">=</span><span class="p">(</span><span class="n">database_reference_settings</span> <span class="k">if</span> <span class="n">database_settings</span><span class="o">.</span><span class="n">connection_mode</span> <span class="o">==</span> <span class="s1">&#39;reference&#39;</span>
                                                 <span class="k">else</span> <span class="kc">None</span><span class="p">),</span>
                    <span class="n">lf</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">data_frame</span>
                <span class="p">)</span>
            <span class="p">)</span>
            <span class="n">external_database_writer</span> <span class="o">=</span> <span class="n">ExternalDatabaseWriter</span><span class="p">(</span><span class="n">database_external_write_settings</span><span class="p">,</span> <span class="n">wait_on_completion</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="n">node</span><span class="o">.</span><span class="n">_fetch_cached_df</span> <span class="o">=</span> <span class="n">external_database_writer</span>
            <span class="n">external_database_writer</span><span class="o">.</span><span class="n">get_result</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">df</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">schema_callback</span><span class="p">():</span>
            <span class="n">input_node</span><span class="p">:</span> <span class="n">FlowNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_database_writer</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">input_node</span><span class="o">.</span><span class="n">schema</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span>
            <span class="n">node_id</span><span class="o">=</span><span class="n">node_database_writer</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
            <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
            <span class="n">input_columns</span><span class="o">=</span><span class="p">[],</span>
            <span class="n">node_type</span><span class="o">=</span><span class="n">node_type</span><span class="p">,</span>
            <span class="n">setting_input</span><span class="o">=</span><span class="n">node_database_writer</span><span class="p">,</span>
            <span class="n">schema_callback</span><span class="o">=</span><span class="n">schema_callback</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_database_writer</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_database_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_database_reader</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeDatabaseReader</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a node to read data from a database.</span>

<span class="sd">        Args:</span>
<span class="sd">            node_database_reader: The settings for the database reader node.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Adding database reader&quot;</span><span class="p">)</span>
        <span class="n">node_type</span> <span class="o">=</span> <span class="s1">&#39;database_reader&#39;</span>
        <span class="n">database_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">DatabaseSettings</span> <span class="o">=</span> <span class="n">node_database_reader</span><span class="o">.</span><span class="n">database_settings</span>
        <span class="n">database_connection</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">input_schema</span><span class="o">.</span><span class="n">DatabaseConnection</span> <span class="o">|</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">FullDatabaseConnection</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">database_settings</span><span class="o">.</span><span class="n">connection_mode</span> <span class="o">==</span> <span class="s1">&#39;inline&#39;</span><span class="p">:</span>
            <span class="n">database_connection</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">DatabaseConnection</span> <span class="o">=</span> <span class="n">database_settings</span><span class="o">.</span><span class="n">database_connection</span>
            <span class="n">encrypted_password</span> <span class="o">=</span> <span class="n">get_encrypted_secret</span><span class="p">(</span><span class="n">current_user_id</span><span class="o">=</span><span class="n">node_database_reader</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span>
                                                      <span class="n">secret_name</span><span class="o">=</span><span class="n">database_connection</span><span class="o">.</span><span class="n">password_ref</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">encrypted_password</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Password not found&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">database_reference_settings</span> <span class="o">=</span> <span class="n">get_local_database_connection</span><span class="p">(</span><span class="n">database_settings</span><span class="o">.</span><span class="n">database_connection_name</span><span class="p">,</span>
                                                                        <span class="n">node_database_reader</span><span class="o">.</span><span class="n">user_id</span><span class="p">)</span>
            <span class="n">database_connection</span> <span class="o">=</span> <span class="n">database_reference_settings</span>
            <span class="n">encrypted_password</span> <span class="o">=</span> <span class="n">database_reference_settings</span><span class="o">.</span><span class="n">password</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">():</span>
            <span class="n">sql_source</span> <span class="o">=</span> <span class="n">BaseSqlSource</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="kc">None</span> <span class="k">if</span> <span class="n">database_settings</span><span class="o">.</span><span class="n">query_mode</span> <span class="o">==</span> <span class="s1">&#39;table&#39;</span> <span class="k">else</span> <span class="n">database_settings</span><span class="o">.</span><span class="n">query</span><span class="p">,</span>
                                       <span class="n">table_name</span><span class="o">=</span><span class="n">database_settings</span><span class="o">.</span><span class="n">table_name</span><span class="p">,</span>
                                       <span class="n">schema_name</span><span class="o">=</span><span class="n">database_settings</span><span class="o">.</span><span class="n">schema_name</span><span class="p">,</span>
                                       <span class="n">fields</span><span class="o">=</span><span class="n">node_database_reader</span><span class="o">.</span><span class="n">fields</span><span class="p">,</span>
                                       <span class="p">)</span>
            <span class="n">database_external_read_settings</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">sql_models</span><span class="o">.</span><span class="n">DatabaseExternalReadSettings</span><span class="o">.</span><span class="n">create_from_from_node_database_reader</span><span class="p">(</span>
                    <span class="n">node_database_reader</span><span class="o">=</span><span class="n">node_database_reader</span><span class="p">,</span>
                    <span class="n">password</span><span class="o">=</span><span class="n">encrypted_password</span><span class="p">,</span>
                    <span class="n">query</span><span class="o">=</span><span class="n">sql_source</span><span class="o">.</span><span class="n">query</span><span class="p">,</span>
                    <span class="n">database_reference_settings</span><span class="o">=</span><span class="p">(</span><span class="n">database_reference_settings</span> <span class="k">if</span> <span class="n">database_settings</span><span class="o">.</span><span class="n">connection_mode</span> <span class="o">==</span> <span class="s1">&#39;reference&#39;</span>
                                                 <span class="k">else</span> <span class="kc">None</span><span class="p">),</span>
                <span class="p">)</span>
            <span class="p">)</span>

            <span class="n">external_database_fetcher</span> <span class="o">=</span> <span class="n">ExternalDatabaseFetcher</span><span class="p">(</span><span class="n">database_external_read_settings</span><span class="p">,</span> <span class="n">wait_on_completion</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="n">node</span><span class="o">.</span><span class="n">_fetch_cached_df</span> <span class="o">=</span> <span class="n">external_database_fetcher</span>
            <span class="n">fl</span> <span class="o">=</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">external_database_fetcher</span><span class="o">.</span><span class="n">get_result</span><span class="p">())</span>
            <span class="n">node_database_reader</span><span class="o">.</span><span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">get_minimal_field_info</span><span class="p">()</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">fl</span><span class="o">.</span><span class="n">schema</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">fl</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">schema_callback</span><span class="p">():</span>
            <span class="n">sql_source</span> <span class="o">=</span> <span class="n">SqlSource</span><span class="p">(</span><span class="n">connection_string</span><span class="o">=</span>
                                   <span class="n">sql_utils</span><span class="o">.</span><span class="n">construct_sql_uri</span><span class="p">(</span><span class="n">database_type</span><span class="o">=</span><span class="n">database_connection</span><span class="o">.</span><span class="n">database_type</span><span class="p">,</span>
                                                               <span class="n">host</span><span class="o">=</span><span class="n">database_connection</span><span class="o">.</span><span class="n">host</span><span class="p">,</span>
                                                               <span class="n">port</span><span class="o">=</span><span class="n">database_connection</span><span class="o">.</span><span class="n">port</span><span class="p">,</span>
                                                               <span class="n">database</span><span class="o">=</span><span class="n">database_connection</span><span class="o">.</span><span class="n">database</span><span class="p">,</span>
                                                               <span class="n">username</span><span class="o">=</span><span class="n">database_connection</span><span class="o">.</span><span class="n">username</span><span class="p">,</span>
                                                               <span class="n">password</span><span class="o">=</span><span class="n">decrypt_secret</span><span class="p">(</span><span class="n">encrypted_password</span><span class="p">)),</span>
                                   <span class="n">query</span><span class="o">=</span><span class="kc">None</span> <span class="k">if</span> <span class="n">database_settings</span><span class="o">.</span><span class="n">query_mode</span> <span class="o">==</span> <span class="s1">&#39;table&#39;</span> <span class="k">else</span> <span class="n">database_settings</span><span class="o">.</span><span class="n">query</span><span class="p">,</span>
                                   <span class="n">table_name</span><span class="o">=</span><span class="n">database_settings</span><span class="o">.</span><span class="n">table_name</span><span class="p">,</span>
                                   <span class="n">schema_name</span><span class="o">=</span><span class="n">database_settings</span><span class="o">.</span><span class="n">schema_name</span><span class="p">,</span>
                                   <span class="n">fields</span><span class="o">=</span><span class="n">node_database_reader</span><span class="o">.</span><span class="n">fields</span><span class="p">,</span>
                                   <span class="p">)</span>
            <span class="k">return</span> <span class="n">sql_source</span><span class="o">.</span><span class="n">get_schema</span><span class="p">()</span>

        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_database_reader</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">node</span><span class="p">:</span>
            <span class="n">node</span><span class="o">.</span><span class="n">node_type</span> <span class="o">=</span> <span class="n">node_type</span>
            <span class="n">node</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">node_type</span>
            <span class="n">node</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="n">_func</span>
            <span class="n">node</span><span class="o">.</span><span class="n">setting_input</span> <span class="o">=</span> <span class="n">node_database_reader</span>
            <span class="n">node</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">cache_results</span> <span class="o">=</span> <span class="n">node_database_reader</span><span class="o">.</span><span class="n">cache_results</span>
            <span class="k">if</span> <span class="n">node_database_reader</span><span class="o">.</span><span class="n">node_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">start_node</span><span class="o">.</span><span class="n">node_id</span> <span class="k">for</span> <span class="n">start_node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
            <span class="n">node</span><span class="o">.</span><span class="n">schema_callback</span> <span class="o">=</span> <span class="n">schema_callback</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">node</span> <span class="o">=</span> <span class="n">FlowNode</span><span class="p">(</span><span class="n">node_database_reader</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                            <span class="n">setting_input</span><span class="o">=</span><span class="n">node_database_reader</span><span class="p">,</span>
                            <span class="n">name</span><span class="o">=</span><span class="n">node_type</span><span class="p">,</span> <span class="n">node_type</span><span class="o">=</span><span class="n">node_type</span><span class="p">,</span> <span class="n">parent_uuid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">,</span>
                            <span class="n">schema_callback</span><span class="o">=</span><span class="n">schema_callback</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_node_db</span><span class="p">[</span><span class="n">node_database_reader</span><span class="o">.</span><span class="n">node_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_node_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node_database_reader</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_sql_source</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">external_source_input</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeExternalSource</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a node that reads data from a SQL source.</span>

<span class="sd">        This is a convenience alias for `add_external_source`.</span>

<span class="sd">        Args:</span>
<span class="sd">            external_source_input: The settings for the external SQL source node.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Adding sql source&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_external_source</span><span class="p">(</span><span class="n">external_source_input</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_cloud_storage_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_cloud_storage_writer</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeCloudStorageWriter</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a node to write data to a cloud storage provider.</span>

<span class="sd">        Args:</span>
<span class="sd">            node_cloud_storage_writer: The settings for the cloud storage writer node.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">node_type</span> <span class="o">=</span> <span class="s2">&quot;cloud_storage_writer&quot;</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">):</span>
            <span class="n">df</span><span class="o">.</span><span class="n">lazy</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">execute_remote</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">execution_location</span> <span class="o">!=</span> <span class="s1">&#39;local&#39;</span>
            <span class="n">cloud_connection_settings</span> <span class="o">=</span> <span class="n">get_cloud_connection_settings</span><span class="p">(</span>
                <span class="n">connection_name</span><span class="o">=</span><span class="n">node_cloud_storage_writer</span><span class="o">.</span><span class="n">cloud_storage_settings</span><span class="o">.</span><span class="n">connection_name</span><span class="p">,</span>
                <span class="n">user_id</span><span class="o">=</span><span class="n">node_cloud_storage_writer</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span>
                <span class="n">auth_mode</span><span class="o">=</span><span class="n">node_cloud_storage_writer</span><span class="o">.</span><span class="n">cloud_storage_settings</span><span class="o">.</span><span class="n">auth_mode</span>
            <span class="p">)</span>
            <span class="n">full_cloud_storage_connection</span> <span class="o">=</span> <span class="n">FullCloudStorageConnection</span><span class="p">(</span>
                <span class="n">storage_type</span><span class="o">=</span><span class="n">cloud_connection_settings</span><span class="o">.</span><span class="n">storage_type</span><span class="p">,</span>
                <span class="n">auth_method</span><span class="o">=</span><span class="n">cloud_connection_settings</span><span class="o">.</span><span class="n">auth_method</span><span class="p">,</span>
                <span class="n">aws_allow_unsafe_html</span><span class="o">=</span><span class="n">cloud_connection_settings</span><span class="o">.</span><span class="n">aws_allow_unsafe_html</span><span class="p">,</span>
                <span class="o">**</span><span class="n">CloudStorageReader</span><span class="o">.</span><span class="n">get_storage_options</span><span class="p">(</span><span class="n">cloud_connection_settings</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">execute_remote</span><span class="p">:</span>
                <span class="n">settings</span> <span class="o">=</span> <span class="n">get_cloud_storage_write_settings_worker_interface</span><span class="p">(</span>
                    <span class="n">write_settings</span><span class="o">=</span><span class="n">node_cloud_storage_writer</span><span class="o">.</span><span class="n">cloud_storage_settings</span><span class="p">,</span>
                    <span class="n">connection</span><span class="o">=</span><span class="n">full_cloud_storage_connection</span><span class="p">,</span>
                    <span class="n">lf</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">data_frame</span><span class="p">,</span>
                    <span class="n">flowfile_node_id</span><span class="o">=</span><span class="n">node_cloud_storage_writer</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                    <span class="n">flowfile_flow_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">flow_id</span><span class="p">)</span>
                <span class="n">external_database_writer</span> <span class="o">=</span> <span class="n">ExternalCloudWriter</span><span class="p">(</span><span class="n">settings</span><span class="p">,</span> <span class="n">wait_on_completion</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                <span class="n">node</span><span class="o">.</span><span class="n">_fetch_cached_df</span> <span class="o">=</span> <span class="n">external_database_writer</span>
                <span class="n">external_database_writer</span><span class="o">.</span><span class="n">get_result</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">cloud_storage_write_settings_internal</span> <span class="o">=</span> <span class="n">CloudStorageWriteSettingsInternal</span><span class="p">(</span>
                    <span class="n">connection</span><span class="o">=</span><span class="n">full_cloud_storage_connection</span><span class="p">,</span>
                    <span class="n">write_settings</span><span class="o">=</span><span class="n">node_cloud_storage_writer</span><span class="o">.</span><span class="n">cloud_storage_settings</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">df</span><span class="o">.</span><span class="n">to_cloud_storage_obj</span><span class="p">(</span><span class="n">cloud_storage_write_settings_internal</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">df</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">schema_callback</span><span class="p">():</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Starting to run the schema callback for cloud storage writer&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_cloud_storage_writer</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span><span class="o">.</span><span class="n">is_correct</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_cloud_storage_writer</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">schema</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">[</span><span class="n">FlowfileColumn</span><span class="o">.</span><span class="n">from_input</span><span class="p">(</span><span class="n">column_name</span><span class="o">=</span><span class="s2">&quot;__error__&quot;</span><span class="p">,</span> <span class="n">data_type</span><span class="o">=</span><span class="s2">&quot;String&quot;</span><span class="p">)]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span>
            <span class="n">node_id</span><span class="o">=</span><span class="n">node_cloud_storage_writer</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
            <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
            <span class="n">input_columns</span><span class="o">=</span><span class="p">[],</span>
            <span class="n">node_type</span><span class="o">=</span><span class="n">node_type</span><span class="p">,</span>
            <span class="n">setting_input</span><span class="o">=</span><span class="n">node_cloud_storage_writer</span><span class="p">,</span>
            <span class="n">schema_callback</span><span class="o">=</span><span class="n">schema_callback</span><span class="p">,</span>
            <span class="n">input_node_ids</span><span class="o">=</span><span class="p">[</span><span class="n">node_cloud_storage_writer</span><span class="o">.</span><span class="n">depending_on_id</span><span class="p">]</span>
        <span class="p">)</span>

        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_cloud_storage_writer</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_cloud_storage_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_cloud_storage_reader</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeCloudStorageReader</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a cloud storage read node to the flow graph.</span>

<span class="sd">        Args:</span>
<span class="sd">            node_cloud_storage_reader: The settings for the cloud storage read node.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">node_type</span> <span class="o">=</span> <span class="s2">&quot;cloud_storage_reader&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Adding cloud storage reader&quot;</span><span class="p">)</span>
        <span class="n">cloud_storage_read_settings</span> <span class="o">=</span> <span class="n">node_cloud_storage_reader</span><span class="o">.</span><span class="n">cloud_storage_settings</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">():</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Starting to run the schema callback for cloud storage reader&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Starting to run the schema callback for cloud storage reader&quot;</span><span class="p">)</span>
            <span class="n">settings</span> <span class="o">=</span> <span class="n">CloudStorageReadSettingsInternal</span><span class="p">(</span><span class="n">read_settings</span><span class="o">=</span><span class="n">cloud_storage_read_settings</span><span class="p">,</span>
                                                        <span class="n">connection</span><span class="o">=</span><span class="n">get_cloud_connection_settings</span><span class="p">(</span>
                                                            <span class="n">connection_name</span><span class="o">=</span><span class="n">cloud_storage_read_settings</span><span class="o">.</span><span class="n">connection_name</span><span class="p">,</span>
                                                            <span class="n">user_id</span><span class="o">=</span><span class="n">node_cloud_storage_reader</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span>
                                                            <span class="n">auth_mode</span><span class="o">=</span><span class="n">cloud_storage_read_settings</span><span class="o">.</span><span class="n">auth_mode</span>
                                                        <span class="p">))</span>
            <span class="n">fl</span> <span class="o">=</span> <span class="n">FlowDataEngine</span><span class="o">.</span><span class="n">from_cloud_storage_obj</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">fl</span>

        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">node_cloud_storage_reader</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                                  <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                                  <span class="n">cache_results</span><span class="o">=</span><span class="n">node_cloud_storage_reader</span><span class="o">.</span><span class="n">cache_results</span><span class="p">,</span>
                                  <span class="n">setting_input</span><span class="o">=</span><span class="n">node_cloud_storage_reader</span><span class="p">,</span>
                                  <span class="n">node_type</span><span class="o">=</span><span class="n">node_type</span><span class="p">,</span>
                                  <span class="p">)</span>
        <span class="k">if</span> <span class="n">node_cloud_storage_reader</span><span class="o">.</span><span class="n">node_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">start_node</span><span class="o">.</span><span class="n">node_id</span> <span class="k">for</span> <span class="n">start_node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_external_source</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                            <span class="n">external_source_input</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeExternalSource</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a node for a custom external data source.</span>

<span class="sd">        Args:</span>
<span class="sd">            external_source_input: The settings for the external source node.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">node_type</span> <span class="o">=</span> <span class="s1">&#39;external_source&#39;</span>
        <span class="n">external_source_script</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">external_sources</span><span class="o">.</span><span class="n">custom_external_sources</span><span class="p">,</span> <span class="n">external_source_input</span><span class="o">.</span><span class="n">identifier</span><span class="p">)</span>
        <span class="n">source_settings</span> <span class="o">=</span> <span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">input_schema</span><span class="p">,</span> <span class="n">snake_case_to_camel_case</span><span class="p">(</span><span class="n">external_source_input</span><span class="o">.</span><span class="n">identifier</span><span class="p">))</span><span class="o">.</span>
                           <span class="n">model_validate</span><span class="p">(</span><span class="n">external_source_input</span><span class="o">.</span><span class="n">source_settings</span><span class="p">))</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">external_source_script</span><span class="p">,</span> <span class="s1">&#39;initial_getter&#39;</span><span class="p">):</span>
            <span class="n">initial_getter</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">external_source_script</span><span class="p">,</span> <span class="s1">&#39;initial_getter&#39;</span><span class="p">)(</span><span class="n">source_settings</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">initial_getter</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">data_getter</span> <span class="o">=</span> <span class="n">external_source_script</span><span class="o">.</span><span class="n">getter</span><span class="p">(</span><span class="n">source_settings</span><span class="p">)</span>
        <span class="n">external_source</span> <span class="o">=</span> <span class="n">data_source_factory</span><span class="p">(</span><span class="n">source_type</span><span class="o">=</span><span class="s1">&#39;custom&#39;</span><span class="p">,</span>
                                              <span class="n">data_getter</span><span class="o">=</span><span class="n">data_getter</span><span class="p">,</span>
                                              <span class="n">initial_data_getter</span><span class="o">=</span><span class="n">initial_getter</span><span class="p">,</span>
                                              <span class="n">orientation</span><span class="o">=</span><span class="n">external_source_input</span><span class="o">.</span><span class="n">source_settings</span><span class="o">.</span><span class="n">orientation</span><span class="p">,</span>
                                              <span class="n">schema</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">():</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Calling external source&#39;</span><span class="p">)</span>
            <span class="n">fl</span> <span class="o">=</span> <span class="n">FlowDataEngine</span><span class="o">.</span><span class="n">create_from_external_source</span><span class="p">(</span><span class="n">external_source</span><span class="o">=</span><span class="n">external_source</span><span class="p">)</span>
            <span class="n">external_source_input</span><span class="o">.</span><span class="n">source_settings</span><span class="o">.</span><span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">get_minimal_field_info</span><span class="p">()</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">fl</span><span class="o">.</span><span class="n">schema</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">fl</span>

        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">external_source_input</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">node</span><span class="p">:</span>
            <span class="n">node</span><span class="o">.</span><span class="n">node_type</span> <span class="o">=</span> <span class="n">node_type</span>
            <span class="n">node</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">node_type</span>
            <span class="n">node</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="n">_func</span>
            <span class="n">node</span><span class="o">.</span><span class="n">setting_input</span> <span class="o">=</span> <span class="n">external_source_input</span>
            <span class="n">node</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">cache_results</span> <span class="o">=</span> <span class="n">external_source_input</span><span class="o">.</span><span class="n">cache_results</span>
            <span class="k">if</span> <span class="n">external_source_input</span><span class="o">.</span><span class="n">node_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">start_node</span><span class="o">.</span><span class="n">node_id</span> <span class="k">for</span> <span class="n">start_node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">node</span> <span class="o">=</span> <span class="n">FlowNode</span><span class="p">(</span><span class="n">external_source_input</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                            <span class="n">setting_input</span><span class="o">=</span><span class="n">external_source_input</span><span class="p">,</span>
                            <span class="n">name</span><span class="o">=</span><span class="n">node_type</span><span class="p">,</span> <span class="n">node_type</span><span class="o">=</span><span class="n">node_type</span><span class="p">,</span> <span class="n">parent_uuid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_node_db</span><span class="p">[</span><span class="n">external_source_input</span><span class="o">.</span><span class="n">node_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_node_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">external_source_input</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">external_source_input</span><span class="o">.</span><span class="n">source_settings</span><span class="o">.</span><span class="n">fields</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">external_source_input</span><span class="o">.</span><span class="n">source_settings</span><span class="o">.</span><span class="n">fields</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Using provided schema in the node&#39;</span><span class="p">)</span>

            <span class="k">def</span><span class="w"> </span><span class="nf">schema_callback</span><span class="p">():</span>
                <span class="k">return</span> <span class="p">[</span><span class="n">FlowfileColumn</span><span class="o">.</span><span class="n">from_input</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">f</span><span class="o">.</span><span class="n">data_type</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span>
                        <span class="n">external_source_input</span><span class="o">.</span><span class="n">source_settings</span><span class="o">.</span><span class="n">fields</span><span class="p">]</span>

            <span class="n">node</span><span class="o">.</span><span class="n">schema_callback</span> <span class="o">=</span> <span class="n">schema_callback</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;Removing schema&#39;</span><span class="p">)</span>
            <span class="n">node</span><span class="o">.</span><span class="n">_schema_callback</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">external_source_input</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                           <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                           <span class="n">input_columns</span><span class="o">=</span><span class="p">[],</span>
                           <span class="n">node_type</span><span class="o">=</span><span class="n">node_type</span><span class="p">,</span>
                           <span class="n">setting_input</span><span class="o">=</span><span class="n">external_source_input</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_file</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeRead</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a node to read data from a local file (e.g., CSV, Parquet, Excel).</span>

<span class="sd">        Args:</span>
<span class="sd">            input_file: The settings for the read operation.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span><span class="o">.</span><span class="n">file_type</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;xlsx&#39;</span><span class="p">,</span> <span class="s1">&#39;excel&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span><span class="o">.</span><span class="n">sheet_name</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="n">sheet_name</span> <span class="o">=</span> <span class="n">fastexcel</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span><span class="o">.</span><span class="n">path</span><span class="p">)</span><span class="o">.</span><span class="n">sheet_names</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span><span class="o">.</span><span class="n">sheet_name</span> <span class="o">=</span> <span class="n">sheet_name</span>

        <span class="n">received_file</span> <span class="o">=</span> <span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span>
        <span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span><span class="o">.</span><span class="n">set_absolute_filepath</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">():</span>
            <span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span><span class="o">.</span><span class="n">set_absolute_filepath</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span><span class="o">.</span><span class="n">file_type</span> <span class="o">==</span> <span class="s1">&#39;parquet&#39;</span><span class="p">:</span>
                <span class="n">input_data</span> <span class="o">=</span> <span class="n">FlowDataEngine</span><span class="o">.</span><span class="n">create_from_path</span><span class="p">(</span><span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span><span class="o">.</span><span class="n">file_type</span> <span class="o">==</span> <span class="s1">&#39;csv&#39;</span> <span class="ow">and</span> <span class="s1">&#39;utf&#39;</span> <span class="ow">in</span> <span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span><span class="o">.</span><span class="n">encoding</span><span class="p">:</span>
                <span class="n">input_data</span> <span class="o">=</span> <span class="n">FlowDataEngine</span><span class="o">.</span><span class="n">create_from_path</span><span class="p">(</span><span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">input_data</span> <span class="o">=</span> <span class="n">FlowDataEngine</span><span class="o">.</span><span class="n">create_from_path_worker</span><span class="p">(</span><span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span><span class="p">,</span>
                                                                    <span class="n">node_id</span><span class="o">=</span><span class="n">input_file</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                                                                    <span class="n">flow_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">flow_id</span><span class="p">)</span>
            <span class="n">input_data</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span><span class="o">.</span><span class="n">name</span>
            <span class="k">return</span> <span class="n">input_data</span>

        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">input_file</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
        <span class="n">schema_callback</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">node</span><span class="p">:</span>
            <span class="n">start_hash</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">hash</span>
            <span class="n">node</span><span class="o">.</span><span class="n">node_type</span> <span class="o">=</span> <span class="s1">&#39;read&#39;</span>
            <span class="n">node</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;read&#39;</span>
            <span class="n">node</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="n">_func</span>
            <span class="n">node</span><span class="o">.</span><span class="n">setting_input</span> <span class="o">=</span> <span class="n">input_file</span>
            <span class="k">if</span> <span class="n">input_file</span><span class="o">.</span><span class="n">node_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">start_node</span><span class="o">.</span><span class="n">node_id</span> <span class="k">for</span> <span class="n">start_node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">start_hash</span> <span class="o">!=</span> <span class="n">node</span><span class="o">.</span><span class="n">hash</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Hash changed, updating schema&#39;</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">received_file</span><span class="o">.</span><span class="n">fields</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="c1"># If the file has fields defined, we can use them to create the schema</span>
                    <span class="k">def</span><span class="w"> </span><span class="nf">schema_callback</span><span class="p">():</span>
                        <span class="k">return</span> <span class="p">[</span><span class="n">FlowfileColumn</span><span class="o">.</span><span class="n">from_input</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">f</span><span class="o">.</span><span class="n">data_type</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">received_file</span><span class="o">.</span><span class="n">fields</span><span class="p">]</span>

                <span class="k">elif</span> <span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span><span class="o">.</span><span class="n">file_type</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;csv&#39;</span><span class="p">,</span> <span class="s1">&#39;json&#39;</span><span class="p">,</span> <span class="s1">&#39;parquet&#39;</span><span class="p">):</span>
                    <span class="c1"># everything that can be scanned by polars</span>
                    <span class="k">def</span><span class="w"> </span><span class="nf">schema_callback</span><span class="p">():</span>
                        <span class="n">input_data</span> <span class="o">=</span> <span class="n">FlowDataEngine</span><span class="o">.</span><span class="n">create_from_path</span><span class="p">(</span><span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span><span class="p">)</span>
                        <span class="k">return</span> <span class="n">input_data</span><span class="o">.</span><span class="n">schema</span>

                <span class="k">elif</span> <span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span><span class="o">.</span><span class="n">file_type</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;xlsx&#39;</span><span class="p">,</span> <span class="s1">&#39;excel&#39;</span><span class="p">):</span>
                    <span class="c1"># If the file is an Excel file, we need to use the openpyxl engine to read the schema</span>
                    <span class="n">schema_callback</span> <span class="o">=</span> <span class="n">get_xlsx_schema_callback</span><span class="p">(</span><span class="n">engine</span><span class="o">=</span><span class="s1">&#39;openpyxl&#39;</span><span class="p">,</span>
                                                               <span class="n">file_path</span><span class="o">=</span><span class="n">received_file</span><span class="o">.</span><span class="n">file_path</span><span class="p">,</span>
                                                               <span class="n">sheet_name</span><span class="o">=</span><span class="n">received_file</span><span class="o">.</span><span class="n">sheet_name</span><span class="p">,</span>
                                                               <span class="n">start_row</span><span class="o">=</span><span class="n">received_file</span><span class="o">.</span><span class="n">start_row</span><span class="p">,</span>
                                                               <span class="n">end_row</span><span class="o">=</span><span class="n">received_file</span><span class="o">.</span><span class="n">end_row</span><span class="p">,</span>
                                                               <span class="n">start_column</span><span class="o">=</span><span class="n">received_file</span><span class="o">.</span><span class="n">start_column</span><span class="p">,</span>
                                                               <span class="n">end_column</span><span class="o">=</span><span class="n">received_file</span><span class="o">.</span><span class="n">end_column</span><span class="p">,</span>
                                                               <span class="n">has_headers</span><span class="o">=</span><span class="n">received_file</span><span class="o">.</span><span class="n">has_headers</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">schema_callback</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">node</span> <span class="o">=</span> <span class="n">FlowNode</span><span class="p">(</span><span class="n">input_file</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                            <span class="n">setting_input</span><span class="o">=</span><span class="n">input_file</span><span class="p">,</span>
                            <span class="n">name</span><span class="o">=</span><span class="s1">&#39;read&#39;</span><span class="p">,</span> <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;read&#39;</span><span class="p">,</span> <span class="n">parent_uuid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_node_db</span><span class="p">[</span><span class="n">input_file</span><span class="o">.</span><span class="n">node_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_node_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">input_file</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">schema_callback</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">node</span><span class="o">.</span><span class="n">schema_callback</span> <span class="o">=</span> <span class="n">schema_callback</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_datasource</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_file</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">input_schema</span><span class="o">.</span><span class="n">NodeDatasource</span><span class="p">,</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeManualInput</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowGraph&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a data source node to the graph.</span>

<span class="sd">        This method serves as a factory for creating starting nodes, handling both</span>
<span class="sd">        file-based sources and direct manual data entry.</span>

<span class="sd">        Args:</span>
<span class="sd">            input_file: The configuration object for the data source.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The `FlowGraph` instance for method chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_file</span><span class="p">,</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeManualInput</span><span class="p">):</span>
            <span class="n">input_data</span> <span class="o">=</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">input_file</span><span class="o">.</span><span class="n">raw_data_format</span><span class="p">)</span>
            <span class="n">ref</span> <span class="o">=</span> <span class="s1">&#39;manual_input&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">input_data</span> <span class="o">=</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">path_ref</span><span class="o">=</span><span class="n">input_file</span><span class="o">.</span><span class="n">file_ref</span><span class="p">)</span>
            <span class="n">ref</span> <span class="o">=</span> <span class="s1">&#39;datasource&#39;</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">input_file</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">node</span><span class="p">:</span>
            <span class="n">node</span><span class="o">.</span><span class="n">node_type</span> <span class="o">=</span> <span class="n">ref</span>
            <span class="n">node</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">ref</span>
            <span class="n">node</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="n">input_data</span>
            <span class="n">node</span><span class="o">.</span><span class="n">setting_input</span> <span class="o">=</span> <span class="n">input_file</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">input_file</span><span class="o">.</span><span class="n">node_id</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">start_node</span><span class="o">.</span><span class="n">node_id</span> <span class="k">for</span> <span class="n">start_node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">input_data</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
            <span class="n">node</span> <span class="o">=</span> <span class="n">FlowNode</span><span class="p">(</span><span class="n">input_file</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="n">input_data</span><span class="p">,</span>
                            <span class="n">setting_input</span><span class="o">=</span><span class="n">input_file</span><span class="p">,</span>
                            <span class="n">name</span><span class="o">=</span><span class="n">ref</span><span class="p">,</span> <span class="n">node_type</span><span class="o">=</span><span class="n">ref</span><span class="p">,</span> <span class="n">parent_uuid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_node_db</span><span class="p">[</span><span class="n">input_file</span><span class="o">.</span><span class="n">node_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_node_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">input_file</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_manual_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_file</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeManualInput</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a node for manual data entry.</span>

<span class="sd">        This is a convenience alias for `add_datasource`.</span>

<span class="sd">        Args:</span>
<span class="sd">            input_file: The settings and data for the manual input node.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_datasource</span><span class="p">(</span><span class="n">input_file</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlowNode</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a list of all FlowNode objects in the graph.&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_node_db</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">execution_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">schemas</span><span class="o">.</span><span class="n">ExecutionModeLiteral</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the current execution mode (&#39;Development&#39; or &#39;Performance&#39;).&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">execution_mode</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_implicit_starter_nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlowNode</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Finds nodes that can act as starting points but are not explicitly defined as such.</span>

<span class="sd">        Some nodes, like the Polars Code node, can function without an input. This</span>
<span class="sd">        method identifies such nodes if they have no incoming connections.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of `FlowNode` objects that are implicit starting nodes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">starting_node_ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">node</span><span class="o">.</span><span class="n">node_id</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="p">]</span>
        <span class="n">implicit_starting_nodes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">node_template</span><span class="o">.</span><span class="n">can_be_start</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">node</span><span class="o">.</span><span class="n">has_input</span> <span class="ow">and</span> <span class="n">node</span><span class="o">.</span><span class="n">node_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">starting_node_ids</span><span class="p">:</span>
                <span class="n">implicit_starting_nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">implicit_starting_nodes</span>

    <span class="nd">@execution_mode</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">execution_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="n">schemas</span><span class="o">.</span><span class="n">ExecutionModeLiteral</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets the execution mode for the flow.</span>

<span class="sd">        Args:</span>
<span class="sd">            mode: The execution mode to set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">execution_mode</span> <span class="o">=</span> <span class="n">mode</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">execution_location</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">schemas</span><span class="o">.</span><span class="n">ExecutionLocationsLiteral</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the current execution location.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">execution_location</span>

    <span class="nd">@execution_location</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">execution_location</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">execution_location</span><span class="p">:</span> <span class="n">schemas</span><span class="o">.</span><span class="n">ExecutionLocationsLiteral</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets the execution location for the flow.</span>

<span class="sd">        Args:</span>
<span class="sd">            execution_location: The execution location to set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">execution_location</span> <span class="o">!=</span> <span class="n">execution_location</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">execution_location</span> <span class="o">=</span> <span class="n">execution_location</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">validate_if_node_can_be_fetched</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">flow_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_node_db</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">flow_node</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Node not found found&quot;</span><span class="p">)</span>
        <span class="n">skip_nodes</span><span class="p">,</span> <span class="n">execution_order</span> <span class="o">=</span> <span class="n">compute_execution_plan</span><span class="p">(</span>
            <span class="n">nodes</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">,</span> <span class="n">flow_starts</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">get_implicit_starter_nodes</span><span class="p">()</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">flow_node</span><span class="o">.</span><span class="n">node_id</span> <span class="ow">in</span> <span class="p">[</span><span class="n">skip_node</span><span class="o">.</span><span class="n">node_id</span> <span class="k">for</span> <span class="n">skip_node</span> <span class="ow">in</span> <span class="n">skip_nodes</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Node can not be executed because it does not have it&#39;s inputs&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_initial_run_information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number_of_nodes</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                                       <span class="n">run_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;fetch_one&quot;</span><span class="p">,</span> <span class="s2">&quot;full_run&quot;</span><span class="p">]):</span>
        <span class="k">return</span> <span class="n">RunInformation</span><span class="p">(</span>
            <span class="n">flow_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">start_time</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(),</span> <span class="n">end_time</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">success</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">number_of_nodes</span><span class="o">=</span><span class="n">number_of_nodes</span><span class="p">,</span> <span class="n">node_step_result</span><span class="o">=</span><span class="p">[],</span>
            <span class="n">run_type</span><span class="o">=</span><span class="n">run_type</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">trigger_fetch_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RunInformation</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Executes a specific node in the graph by its ID.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Flow is already running&quot;</span><span class="p">)</span>
        <span class="n">flow_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_running</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_canceled</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">clear_log_file</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">latest_run_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_initial_run_information</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;fetch_one&quot;</span><span class="p">)</span>
        <span class="n">node_logger</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">get_node_logger</span><span class="p">(</span><span class="n">flow_node</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
        <span class="n">node_result</span> <span class="o">=</span> <span class="n">NodeResult</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">flow_node</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span> <span class="n">node_name</span><span class="o">=</span><span class="n">flow_node</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Starting to run: node </span><span class="si">{</span><span class="n">flow_node</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">, start time: </span><span class="si">{</span><span class="n">node_result</span><span class="o">.</span><span class="n">start_timestamp</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">latest_run_info</span><span class="o">.</span><span class="n">node_step_result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node_result</span><span class="p">)</span>
            <span class="n">flow_node</span><span class="o">.</span><span class="n">execute_node</span><span class="p">(</span><span class="n">run_location</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">execution_location</span><span class="p">,</span>
                                   <span class="n">performance_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">node_logger</span><span class="o">=</span><span class="n">node_logger</span><span class="p">,</span>
                                   <span class="n">optimize_for_downstream</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">reset_cache</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">node_result</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">flow_node</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_canceled</span><span class="p">:</span>
                <span class="n">node_result</span><span class="o">.</span><span class="n">success</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="n">node_result</span><span class="o">.</span><span class="n">success</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="n">node_result</span><span class="o">.</span><span class="n">is_running</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="n">node_result</span><span class="o">.</span><span class="n">success</span> <span class="o">=</span> <span class="n">flow_node</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="ow">is</span> <span class="kc">None</span>
            <span class="n">node_result</span><span class="o">.</span><span class="n">end_timestamp</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
            <span class="n">node_result</span><span class="o">.</span><span class="n">run_time</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">node_result</span><span class="o">.</span><span class="n">end_timestamp</span> <span class="o">-</span> <span class="n">node_result</span><span class="o">.</span><span class="n">start_timestamp</span><span class="p">)</span>
            <span class="n">node_result</span><span class="o">.</span><span class="n">is_running</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">latest_run_info</span><span class="o">.</span><span class="n">nodes_completed</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">latest_run_info</span><span class="o">.</span><span class="n">end_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_running</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_run_info</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">node_result</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="s1">&#39;Node did not run&#39;</span>
            <span class="n">node_result</span><span class="o">.</span><span class="n">success</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="n">node_result</span><span class="o">.</span><span class="n">end_timestamp</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
            <span class="n">node_result</span><span class="o">.</span><span class="n">run_time</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">node_result</span><span class="o">.</span><span class="n">end_timestamp</span> <span class="o">-</span> <span class="n">node_result</span><span class="o">.</span><span class="n">start_timestamp</span><span class="p">)</span>
            <span class="n">node_result</span><span class="o">.</span><span class="n">is_running</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="n">node_logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Error in node </span><span class="si">{</span><span class="n">flow_node</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_running</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">run_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RunInformation</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Executes the entire data flow graph from start to finish.</span>

<span class="sd">        It determines the correct execution order, runs each node,</span>
<span class="sd">        collects results, and handles errors and cancellations.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A RunInformation object summarizing the execution results.</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception: If the flow is already running.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Flow is already running&#39;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_running</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_canceled</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">clear_log_file</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Starting to run flowfile flow...&#39;</span><span class="p">)</span>

            <span class="n">skip_nodes</span><span class="p">,</span> <span class="n">execution_order</span> <span class="o">=</span> <span class="n">compute_execution_plan</span><span class="p">(</span>
                <span class="n">nodes</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">,</span>
                <span class="n">flow_starts</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">get_implicit_starter_nodes</span><span class="p">()</span>
            <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">latest_run_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_initial_run_information</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">execution_order</span><span class="p">),</span> <span class="s2">&quot;full_run&quot;</span><span class="p">)</span>

            <span class="n">skip_node_message</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="p">,</span> <span class="n">skip_nodes</span><span class="p">)</span>
            <span class="n">execution_order_message</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="p">,</span> <span class="n">execution_order</span><span class="p">)</span>
            <span class="n">performance_mode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">execution_mode</span> <span class="o">==</span> <span class="s1">&#39;Performance&#39;</span>

            <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">execution_order</span><span class="p">:</span>
                <span class="n">node_logger</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">get_node_logger</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_canceled</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Flow canceled&#39;</span><span class="p">)</span>
                    <span class="k">break</span>
                <span class="k">if</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">skip_nodes</span><span class="p">:</span>
                    <span class="n">node_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Skipping node </span><span class="si">{</span><span class="n">node</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                    <span class="k">continue</span>
                <span class="n">node_result</span> <span class="o">=</span> <span class="n">NodeResult</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span> <span class="n">node_name</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">latest_run_info</span><span class="o">.</span><span class="n">node_step_result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node_result</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Starting to run: node </span><span class="si">{</span><span class="n">node</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">, start time: </span><span class="si">{</span><span class="n">node_result</span><span class="o">.</span><span class="n">start_timestamp</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">node</span><span class="o">.</span><span class="n">execute_node</span><span class="p">(</span><span class="n">run_location</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">execution_location</span><span class="p">,</span>
                                  <span class="n">performance_mode</span><span class="o">=</span><span class="n">performance_mode</span><span class="p">,</span>
                                  <span class="n">node_logger</span><span class="o">=</span><span class="n">node_logger</span><span class="p">)</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">node_result</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span><span class="p">)</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_canceled</span><span class="p">:</span>
                        <span class="n">node_result</span><span class="o">.</span><span class="n">success</span> <span class="o">=</span> <span class="kc">None</span>
                        <span class="n">node_result</span><span class="o">.</span><span class="n">success</span> <span class="o">=</span> <span class="kc">None</span>
                        <span class="n">node_result</span><span class="o">.</span><span class="n">is_running</span> <span class="o">=</span> <span class="kc">False</span>
                        <span class="k">continue</span>
                    <span class="n">node_result</span><span class="o">.</span><span class="n">success</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="ow">is</span> <span class="kc">None</span>
                    <span class="n">node_result</span><span class="o">.</span><span class="n">end_timestamp</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
                    <span class="n">node_result</span><span class="o">.</span><span class="n">run_time</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">node_result</span><span class="o">.</span><span class="n">end_timestamp</span> <span class="o">-</span> <span class="n">node_result</span><span class="o">.</span><span class="n">start_timestamp</span><span class="p">)</span>
                    <span class="n">node_result</span><span class="o">.</span><span class="n">is_running</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="n">node_result</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="s1">&#39;Node did not run&#39;</span>
                    <span class="n">node_result</span><span class="o">.</span><span class="n">success</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="n">node_result</span><span class="o">.</span><span class="n">end_timestamp</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
                    <span class="n">node_result</span><span class="o">.</span><span class="n">run_time</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">node_result</span><span class="o">.</span><span class="n">end_timestamp</span> <span class="o">-</span> <span class="n">node_result</span><span class="o">.</span><span class="n">start_timestamp</span><span class="p">)</span>
                    <span class="n">node_result</span><span class="o">.</span><span class="n">is_running</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="n">node_logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Error in node </span><span class="si">{</span><span class="n">node</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">node_result</span><span class="o">.</span><span class="n">success</span><span class="p">:</span>
                    <span class="n">skip_nodes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">get_all_dependent_nodes</span><span class="p">()))</span>
                <span class="n">node_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Completed node with success: </span><span class="si">{</span><span class="n">node_result</span><span class="o">.</span><span class="n">success</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">latest_run_info</span><span class="o">.</span><span class="n">nodes_completed</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Flow completed!&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">end_datetime</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_running</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_canceled</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Flow canceled&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_run_info</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">e</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_running</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_run_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RunInformation</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a summary of the most recent graph execution.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A RunInformation object with details about the last run.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">is_running</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_running</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">latest_run_info</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="k">elif</span> <span class="ow">not</span> <span class="n">is_running</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">latest_run_info</span><span class="o">.</span><span class="n">success</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">latest_run_info</span>

        <span class="n">run_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">latest_run_info</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_running</span><span class="p">:</span>
            <span class="n">run_info</span><span class="o">.</span><span class="n">success</span> <span class="o">=</span> <span class="nb">all</span><span class="p">(</span><span class="n">nr</span><span class="o">.</span><span class="n">success</span> <span class="k">for</span> <span class="n">nr</span> <span class="ow">in</span> <span class="n">run_info</span><span class="o">.</span><span class="n">node_step_result</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">run_info</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">node_connections</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Computes and returns a list of all connections in the graph.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of tuples, where each tuple is a (source_id, target_id) pair.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">connections</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
            <span class="n">outgoing_connections</span> <span class="o">=</span> <span class="p">[(</span><span class="n">node</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span> <span class="n">ltn</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span> <span class="k">for</span> <span class="n">ltn</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">leads_to_nodes</span><span class="p">]</span>
            <span class="n">incoming_connections</span> <span class="o">=</span> <span class="p">[(</span><span class="n">don</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span> <span class="n">node</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span> <span class="k">for</span> <span class="n">don</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">all_inputs</span><span class="p">]</span>
            <span class="n">node_connections</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">outgoing_connections</span> <span class="o">+</span> <span class="n">incoming_connections</span> <span class="k">if</span> <span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                                                                                           <span class="ow">and</span> <span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)]</span>
            <span class="k">for</span> <span class="n">node_connection</span> <span class="ow">in</span> <span class="n">node_connections</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">node_connection</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">connections</span><span class="p">:</span>
                    <span class="n">connections</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">node_connection</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">connections</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_node_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">include_example</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">NodeData</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieves all data needed to render a node in the UI.</span>

<span class="sd">        Args:</span>
<span class="sd">            node_id: The ID of the node.</span>
<span class="sd">            include_example: Whether to include data samples in the result.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A NodeData object, or None if the node is not found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_node_db</span><span class="p">[</span><span class="n">node_id</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">node</span><span class="o">.</span><span class="n">get_node_data</span><span class="p">(</span><span class="n">flow_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">include_example</span><span class="o">=</span><span class="n">include_example</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_node_storage</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">schemas</span><span class="o">.</span><span class="n">FlowInformation</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Serializes the entire graph&#39;s state into a storable format.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A FlowInformation object representing the complete graph.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">node_information</span> <span class="o">=</span> <span class="p">{</span><span class="n">node</span><span class="o">.</span><span class="n">node_id</span><span class="p">:</span> <span class="n">node</span><span class="o">.</span><span class="n">get_node_information</span><span class="p">()</span> <span class="k">for</span>
                            <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span> <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">is_setup</span> <span class="ow">and</span> <span class="n">node</span><span class="o">.</span><span class="n">is_correct</span><span class="p">}</span>

        <span class="k">return</span> <span class="n">schemas</span><span class="o">.</span><span class="n">FlowInformation</span><span class="p">(</span><span class="n">flow_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">flow_id</span><span class="p">,</span>
                                       <span class="n">flow_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                                       <span class="n">flow_settings</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="p">,</span>
                                       <span class="n">data</span><span class="o">=</span><span class="n">node_information</span><span class="p">,</span>
                                       <span class="n">node_starts</span><span class="o">=</span><span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">node_id</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="p">],</span>
                                       <span class="n">node_connections</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_connections</span>
                                       <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">cancel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Cancels an ongoing graph execution.&quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_canceled</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
            <span class="n">node</span><span class="o">.</span><span class="n">cancel</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">close_flow</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Performs cleanup operations, such as clearing node caches.&quot;&quot;&quot;</span>

        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
            <span class="n">node</span><span class="o">.</span><span class="n">remove_cache</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">save_flow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flow_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Saves the current state of the flow graph to a file.</span>

<span class="sd">        Args:</span>
<span class="sd">            flow_path: The path where the flow file will be saved.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Saving flow to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">flow_path</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">flow_path</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">flow_path</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_node_storage</span><span class="p">(),</span> <span class="n">f</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error saving flow: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">flow_path</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_frontend_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Formats the graph structure into a JSON-like dictionary for a specific legacy frontend.</span>

<span class="sd">        This method transforms the graph&#39;s state into a format compatible with the</span>
<span class="sd">        Drawflow.js library.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A dictionary representing the graph in Drawflow format.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;Home&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{}</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">flow_info</span><span class="p">:</span> <span class="n">schemas</span><span class="o">.</span><span class="n">FlowInformation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node_storage</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">node_id</span><span class="p">,</span> <span class="n">node_info</span> <span class="ow">in</span> <span class="n">flow_info</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">node_info</span><span class="o">.</span><span class="n">is_setup</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">pos_x</span> <span class="o">=</span> <span class="n">node_info</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">pos_x</span>
                    <span class="n">pos_y</span> <span class="o">=</span> <span class="n">node_info</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">pos_y</span>
                    <span class="c1"># Basic node structure</span>
                    <span class="n">result</span><span class="p">[</span><span class="s2">&quot;Home&quot;</span><span class="p">][</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="nb">str</span><span class="p">(</span><span class="n">node_id</span><span class="p">)]</span> <span class="o">=</span> <span class="p">{</span>
                        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">node_info</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">node_info</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
                        <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{},</span>  <span class="c1"># Additional data can go here</span>
                        <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="n">node_info</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
                        <span class="s2">&quot;html&quot;</span><span class="p">:</span> <span class="n">node_info</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
                        <span class="s2">&quot;typenode&quot;</span><span class="p">:</span> <span class="s2">&quot;vue&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{},</span>
                        <span class="s2">&quot;outputs&quot;</span><span class="p">:</span> <span class="p">{},</span>
                        <span class="s2">&quot;pos_x&quot;</span><span class="p">:</span> <span class="n">pos_x</span><span class="p">,</span>
                        <span class="s2">&quot;pos_y&quot;</span><span class="p">:</span> <span class="n">pos_y</span>
                    <span class="p">}</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="c1"># Add outputs to the node based on `outputs` in your backend data</span>
            <span class="k">if</span> <span class="n">node_info</span><span class="o">.</span><span class="n">outputs</span><span class="p">:</span>
                <span class="n">outputs</span> <span class="o">=</span> <span class="p">{</span><span class="n">o</span><span class="p">:</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">node_info</span><span class="o">.</span><span class="n">outputs</span><span class="p">}</span>
                <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">node_info</span><span class="o">.</span><span class="n">outputs</span><span class="p">:</span>
                    <span class="n">outputs</span><span class="p">[</span><span class="n">o</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">connections</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">output_node_id</span><span class="p">,</span> <span class="n">n_connections</span> <span class="ow">in</span> <span class="n">outputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">leading_to_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">output_node_id</span><span class="p">)</span>
                    <span class="n">input_types</span> <span class="o">=</span> <span class="n">leading_to_node</span><span class="o">.</span><span class="n">get_input_type</span><span class="p">(</span><span class="n">node_info</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">input_type</span> <span class="ow">in</span> <span class="n">input_types</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">input_type</span> <span class="o">==</span> <span class="s1">&#39;main&#39;</span><span class="p">:</span>
                            <span class="n">input_frontend_id</span> <span class="o">=</span> <span class="s1">&#39;input_1&#39;</span>
                        <span class="k">elif</span> <span class="n">input_type</span> <span class="o">==</span> <span class="s1">&#39;right&#39;</span><span class="p">:</span>
                            <span class="n">input_frontend_id</span> <span class="o">=</span> <span class="s1">&#39;input_2&#39;</span>
                        <span class="k">elif</span> <span class="n">input_type</span> <span class="o">==</span> <span class="s1">&#39;left&#39;</span><span class="p">:</span>
                            <span class="n">input_frontend_id</span> <span class="o">=</span> <span class="s1">&#39;input_3&#39;</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">input_frontend_id</span> <span class="o">=</span> <span class="s1">&#39;input_1&#39;</span>
                        <span class="n">connection</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;node&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">output_node_id</span><span class="p">),</span> <span class="s2">&quot;input&quot;</span><span class="p">:</span> <span class="n">input_frontend_id</span><span class="p">}</span>
                        <span class="n">connections</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">connection</span><span class="p">)</span>

                <span class="n">result</span><span class="p">[</span><span class="s2">&quot;Home&quot;</span><span class="p">][</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="nb">str</span><span class="p">(</span><span class="n">node_id</span><span class="p">)][</span><span class="s2">&quot;outputs&quot;</span><span class="p">][</span><span class="s2">&quot;output_1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;connections&quot;</span><span class="p">:</span> <span class="n">connections</span><span class="p">}</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">result</span><span class="p">[</span><span class="s2">&quot;Home&quot;</span><span class="p">][</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="nb">str</span><span class="p">(</span><span class="n">node_id</span><span class="p">)][</span><span class="s2">&quot;outputs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;output_1&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;connections&quot;</span><span class="p">:</span> <span class="p">[]}}</span>

            <span class="c1"># Add input to the node based on `depending_on_id` in your backend data</span>
            <span class="k">if</span> <span class="n">node_info</span><span class="o">.</span><span class="n">left_input_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">node_info</span><span class="o">.</span><span class="n">right_input_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">node_info</span><span class="o">.</span><span class="n">input_ids</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">main_inputs</span> <span class="o">=</span> <span class="n">node_info</span><span class="o">.</span><span class="n">main_input_ids</span>
                <span class="n">result</span><span class="p">[</span><span class="s2">&quot;Home&quot;</span><span class="p">][</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="nb">str</span><span class="p">(</span><span class="n">node_id</span><span class="p">)][</span><span class="s2">&quot;inputs&quot;</span><span class="p">][</span><span class="s2">&quot;input_1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;connections&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;node&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">main_node_id</span><span class="p">),</span> <span class="s2">&quot;input&quot;</span><span class="p">:</span> <span class="s2">&quot;output_1&quot;</span><span class="p">}</span> <span class="k">for</span> <span class="n">main_node_id</span> <span class="ow">in</span> <span class="n">main_inputs</span><span class="p">]</span>
                <span class="p">}</span>
                <span class="k">if</span> <span class="n">node_info</span><span class="o">.</span><span class="n">right_input_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">result</span><span class="p">[</span><span class="s2">&quot;Home&quot;</span><span class="p">][</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="nb">str</span><span class="p">(</span><span class="n">node_id</span><span class="p">)][</span><span class="s2">&quot;inputs&quot;</span><span class="p">][</span><span class="s2">&quot;input_2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                        <span class="s2">&quot;connections&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;node&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">node_info</span><span class="o">.</span><span class="n">right_input_id</span><span class="p">),</span> <span class="s2">&quot;input&quot;</span><span class="p">:</span> <span class="s2">&quot;output_1&quot;</span><span class="p">}]</span>
                    <span class="p">}</span>
                <span class="k">if</span> <span class="n">node_info</span><span class="o">.</span><span class="n">left_input_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">result</span><span class="p">[</span><span class="s2">&quot;Home&quot;</span><span class="p">][</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="nb">str</span><span class="p">(</span><span class="n">node_id</span><span class="p">)][</span><span class="s2">&quot;inputs&quot;</span><span class="p">][</span><span class="s2">&quot;input_3&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                        <span class="s2">&quot;connections&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;node&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">node_info</span><span class="o">.</span><span class="n">left_input_id</span><span class="p">),</span> <span class="s2">&quot;input&quot;</span><span class="p">:</span> <span class="s2">&quot;output_1&quot;</span><span class="p">}]</span>
                    <span class="p">}</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_vue_flow_input</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">schemas</span><span class="o">.</span><span class="n">VueFlowInput</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Formats the graph&#39;s nodes and edges into a schema suitable for the VueFlow frontend.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A VueFlowInput object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">edges</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">schemas</span><span class="o">.</span><span class="n">NodeEdge</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">nodes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">schemas</span><span class="o">.</span><span class="n">NodeInput</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
            <span class="n">nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">get_node_input</span><span class="p">())</span>
            <span class="n">edges</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">get_edge_input</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">schemas</span><span class="o">.</span><span class="n">VueFlowInput</span><span class="p">(</span><span class="n">node_edges</span><span class="o">=</span><span class="n">edges</span><span class="p">,</span> <span class="n">node_inputs</span><span class="o">=</span><span class="n">nodes</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Forces a deep reset on all nodes in the graph.&quot;&quot;&quot;</span>

        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
            <span class="n">node</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">copy_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_node_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodePromise</span><span class="p">,</span> <span class="n">existing_setting_input</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">node_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a copy of an existing node.</span>

<span class="sd">        Args:</span>
<span class="sd">            new_node_settings: The promise containing new settings (like ID and position).</span>
<span class="sd">            existing_setting_input: The settings object from the node being copied.</span>
<span class="sd">            node_type: The type of the node being copied.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_node_promise</span><span class="p">(</span><span class="n">new_node_settings</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">existing_setting_input</span><span class="p">,</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodePromise</span><span class="p">):</span>
            <span class="k">return</span>

        <span class="n">combined_settings</span> <span class="o">=</span> <span class="n">combine_existing_settings_and_new_settings</span><span class="p">(</span>
            <span class="n">existing_setting_input</span><span class="p">,</span> <span class="n">new_node_settings</span>
        <span class="p">)</span>
        <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;add_</span><span class="si">{</span><span class="n">node_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)(</span><span class="n">combined_settings</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">generate_code</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generates code for the flow graph.</span>
<span class="sd">        This method exports the flow graph to a Polars-compatible format.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">flowfile_core.flowfile.code_generator.code_generator</span><span class="w"> </span><span class="kn">import</span> <span class="n">export_flow_to_polars</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">export_flow_to_polars</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.execution_location" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">execution_location</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Gets the current execution location.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.execution_mode" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">execution_mode</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Gets the current execution mode ('Development' or 'Performance').</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.flow_id" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">flow_id</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Gets the unique identifier of the flow.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.graph_has_functions" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">graph_has_functions</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Checks if the graph has any nodes.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.graph_has_input_data" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">graph_has_input_data</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Checks if the graph has an initial input data source.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.node_connections" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">node_connections</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Computes and returns a list of all connections in the graph.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="typing.Tuple">Tuple</span>[<span title="int">int</span>, <span title="int">int</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of tuples, where each tuple is a (source_id, target_id) pair.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.nodes" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">nodes</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Gets a list of all FlowNode objects in the graph.</p>

    </div>

</div>




<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.__init__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">flow_settings</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">input_cols</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">output_cols</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">path_ref</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">input_flow</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cache_results</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Initializes a new FlowGraph instance.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>flow_settings</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            FlowSettings (flowfile_core.schemas.schemas.FlowSettings)" href="#flowfile_core.schemas.schemas.FlowSettings">FlowSettings</a> | <a class="autorefs autorefs-internal" title="            FlowGraphConfig (flowfile_core.schemas.schemas.FlowGraphConfig)" href="#flowfile_core.schemas.schemas.FlowGraphConfig">FlowGraphConfig</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The configuration settings for the flow.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the flow.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>input_cols</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of input column names.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>output_cols</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of output column names.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>path_ref</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An optional path to an initial data source.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>input_flow</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="pyarrow.parquet.ParquetFile">ParquetFile</span>, <a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a>, <a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_graph.FlowGraph" href="#flowfile_core.flowfile.flow_graph.FlowGraph">FlowGraph</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An optional existing data object to start the flow with.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>cache_results</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A global flag to enable or disable result caching.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
             <span class="n">flow_settings</span><span class="p">:</span> <span class="n">schemas</span><span class="o">.</span><span class="n">FlowSettings</span> <span class="o">|</span> <span class="n">schemas</span><span class="o">.</span><span class="n">FlowGraphConfig</span><span class="p">,</span>
             <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">input_cols</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">output_cols</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">path_ref</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">input_flow</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">ParquetFile</span><span class="p">,</span> <span class="n">FlowDataEngine</span><span class="p">,</span> <span class="s2">&quot;FlowGraph&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">cache_results</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initializes a new FlowGraph instance.</span>

<span class="sd">    Args:</span>
<span class="sd">        flow_settings: The configuration settings for the flow.</span>
<span class="sd">        name: The name of the flow.</span>
<span class="sd">        input_cols: A list of input column names.</span>
<span class="sd">        output_cols: A list of output column names.</span>
<span class="sd">        path_ref: An optional path to an initial data source.</span>
<span class="sd">        input_flow: An optional existing data object to start the flow with.</span>
<span class="sd">        cache_results: A global flag to enable or disable result caching.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">flow_settings</span><span class="p">,</span> <span class="n">schemas</span><span class="o">.</span><span class="n">FlowGraphConfig</span><span class="p">):</span>
        <span class="n">flow_settings</span> <span class="o">=</span> <span class="n">schemas</span><span class="o">.</span><span class="n">FlowSettings</span><span class="o">.</span><span class="n">from_flow_settings_input</span><span class="p">(</span><span class="n">flow_settings</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_flow_settings</span> <span class="o">=</span> <span class="n">flow_settings</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">uuid</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid1</span><span class="p">())</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">start_datetime</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">end_datetime</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">latest_run_info</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_flow_id</span> <span class="o">=</span> <span class="n">flow_settings</span><span class="o">.</span><span class="n">flow_id</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span> <span class="o">=</span> <span class="n">FlowLogger</span><span class="p">(</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">flow_id</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">FlowNode</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_results</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">schema</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">has_over_row_function</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_input_cols</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">input_cols</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">input_cols</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_output_cols</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">output_cols</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">output_cols</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_node_ids</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_node_db</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cache_results</span> <span class="o">=</span> <span class="n">cache_results</span>
    <span class="bp">self</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">=</span> <span class="n">name</span> <span class="k">if</span> <span class="n">name</span> <span class="k">else</span> <span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">depends_on</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">path_ref</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_datasource</span><span class="p">(</span><span class="n">input_schema</span><span class="o">.</span><span class="n">NodeDatasource</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">path_ref</span><span class="p">))</span>
    <span class="k">elif</span> <span class="n">input_flow</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_datasource</span><span class="p">(</span><span class="n">input_file</span><span class="o">=</span><span class="n">input_flow</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.__repr__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="fm">__repr__</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Provides the official string representation of the FlowGraph instance.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Provides the official string representation of the FlowGraph instance.&quot;&quot;&quot;</span>
    <span class="n">settings_str</span> <span class="o">=</span> <span class="s2">&quot;  -&quot;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">  -&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="p">)</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;FlowGraph(</span><span class="se">\n</span><span class="s2">Nodes: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_node_db</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">Settings:</span><span class="se">\n</span><span class="si">{</span><span class="n">settings_str</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_cloud_storage_reader" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_cloud_storage_reader</span><span class="p">(</span><span class="n">node_cloud_storage_reader</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a cloud storage read node to the flow graph.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>node_cloud_storage_reader</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodeCloudStorageReader (flowfile_core.schemas.input_schema.NodeCloudStorageReader)" href="#flowfile_core.schemas.input_schema.NodeCloudStorageReader">NodeCloudStorageReader</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings for the cloud storage read node.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_cloud_storage_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_cloud_storage_reader</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeCloudStorageReader</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a cloud storage read node to the flow graph.</span>

<span class="sd">    Args:</span>
<span class="sd">        node_cloud_storage_reader: The settings for the cloud storage read node.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">node_type</span> <span class="o">=</span> <span class="s2">&quot;cloud_storage_reader&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Adding cloud storage reader&quot;</span><span class="p">)</span>
    <span class="n">cloud_storage_read_settings</span> <span class="o">=</span> <span class="n">node_cloud_storage_reader</span><span class="o">.</span><span class="n">cloud_storage_settings</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">():</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Starting to run the schema callback for cloud storage reader&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Starting to run the schema callback for cloud storage reader&quot;</span><span class="p">)</span>
        <span class="n">settings</span> <span class="o">=</span> <span class="n">CloudStorageReadSettingsInternal</span><span class="p">(</span><span class="n">read_settings</span><span class="o">=</span><span class="n">cloud_storage_read_settings</span><span class="p">,</span>
                                                    <span class="n">connection</span><span class="o">=</span><span class="n">get_cloud_connection_settings</span><span class="p">(</span>
                                                        <span class="n">connection_name</span><span class="o">=</span><span class="n">cloud_storage_read_settings</span><span class="o">.</span><span class="n">connection_name</span><span class="p">,</span>
                                                        <span class="n">user_id</span><span class="o">=</span><span class="n">node_cloud_storage_reader</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span>
                                                        <span class="n">auth_mode</span><span class="o">=</span><span class="n">cloud_storage_read_settings</span><span class="o">.</span><span class="n">auth_mode</span>
                                                    <span class="p">))</span>
        <span class="n">fl</span> <span class="o">=</span> <span class="n">FlowDataEngine</span><span class="o">.</span><span class="n">from_cloud_storage_obj</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">fl</span>

    <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">node_cloud_storage_reader</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                              <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                              <span class="n">cache_results</span><span class="o">=</span><span class="n">node_cloud_storage_reader</span><span class="o">.</span><span class="n">cache_results</span><span class="p">,</span>
                              <span class="n">setting_input</span><span class="o">=</span><span class="n">node_cloud_storage_reader</span><span class="p">,</span>
                              <span class="n">node_type</span><span class="o">=</span><span class="n">node_type</span><span class="p">,</span>
                              <span class="p">)</span>
    <span class="k">if</span> <span class="n">node_cloud_storage_reader</span><span class="o">.</span><span class="n">node_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">start_node</span><span class="o">.</span><span class="n">node_id</span> <span class="k">for</span> <span class="n">start_node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_cloud_storage_writer" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_cloud_storage_writer</span><span class="p">(</span><span class="n">node_cloud_storage_writer</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a node to write data to a cloud storage provider.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>node_cloud_storage_writer</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodeCloudStorageWriter (flowfile_core.schemas.input_schema.NodeCloudStorageWriter)" href="#flowfile_core.schemas.input_schema.NodeCloudStorageWriter">NodeCloudStorageWriter</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings for the cloud storage writer node.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_cloud_storage_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_cloud_storage_writer</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeCloudStorageWriter</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a node to write data to a cloud storage provider.</span>

<span class="sd">    Args:</span>
<span class="sd">        node_cloud_storage_writer: The settings for the cloud storage writer node.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">node_type</span> <span class="o">=</span> <span class="s2">&quot;cloud_storage_writer&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">):</span>
        <span class="n">df</span><span class="o">.</span><span class="n">lazy</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">execute_remote</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">execution_location</span> <span class="o">!=</span> <span class="s1">&#39;local&#39;</span>
        <span class="n">cloud_connection_settings</span> <span class="o">=</span> <span class="n">get_cloud_connection_settings</span><span class="p">(</span>
            <span class="n">connection_name</span><span class="o">=</span><span class="n">node_cloud_storage_writer</span><span class="o">.</span><span class="n">cloud_storage_settings</span><span class="o">.</span><span class="n">connection_name</span><span class="p">,</span>
            <span class="n">user_id</span><span class="o">=</span><span class="n">node_cloud_storage_writer</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span>
            <span class="n">auth_mode</span><span class="o">=</span><span class="n">node_cloud_storage_writer</span><span class="o">.</span><span class="n">cloud_storage_settings</span><span class="o">.</span><span class="n">auth_mode</span>
        <span class="p">)</span>
        <span class="n">full_cloud_storage_connection</span> <span class="o">=</span> <span class="n">FullCloudStorageConnection</span><span class="p">(</span>
            <span class="n">storage_type</span><span class="o">=</span><span class="n">cloud_connection_settings</span><span class="o">.</span><span class="n">storage_type</span><span class="p">,</span>
            <span class="n">auth_method</span><span class="o">=</span><span class="n">cloud_connection_settings</span><span class="o">.</span><span class="n">auth_method</span><span class="p">,</span>
            <span class="n">aws_allow_unsafe_html</span><span class="o">=</span><span class="n">cloud_connection_settings</span><span class="o">.</span><span class="n">aws_allow_unsafe_html</span><span class="p">,</span>
            <span class="o">**</span><span class="n">CloudStorageReader</span><span class="o">.</span><span class="n">get_storage_options</span><span class="p">(</span><span class="n">cloud_connection_settings</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">execute_remote</span><span class="p">:</span>
            <span class="n">settings</span> <span class="o">=</span> <span class="n">get_cloud_storage_write_settings_worker_interface</span><span class="p">(</span>
                <span class="n">write_settings</span><span class="o">=</span><span class="n">node_cloud_storage_writer</span><span class="o">.</span><span class="n">cloud_storage_settings</span><span class="p">,</span>
                <span class="n">connection</span><span class="o">=</span><span class="n">full_cloud_storage_connection</span><span class="p">,</span>
                <span class="n">lf</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">data_frame</span><span class="p">,</span>
                <span class="n">flowfile_node_id</span><span class="o">=</span><span class="n">node_cloud_storage_writer</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                <span class="n">flowfile_flow_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">flow_id</span><span class="p">)</span>
            <span class="n">external_database_writer</span> <span class="o">=</span> <span class="n">ExternalCloudWriter</span><span class="p">(</span><span class="n">settings</span><span class="p">,</span> <span class="n">wait_on_completion</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="n">node</span><span class="o">.</span><span class="n">_fetch_cached_df</span> <span class="o">=</span> <span class="n">external_database_writer</span>
            <span class="n">external_database_writer</span><span class="o">.</span><span class="n">get_result</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cloud_storage_write_settings_internal</span> <span class="o">=</span> <span class="n">CloudStorageWriteSettingsInternal</span><span class="p">(</span>
                <span class="n">connection</span><span class="o">=</span><span class="n">full_cloud_storage_connection</span><span class="p">,</span>
                <span class="n">write_settings</span><span class="o">=</span><span class="n">node_cloud_storage_writer</span><span class="o">.</span><span class="n">cloud_storage_settings</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">df</span><span class="o">.</span><span class="n">to_cloud_storage_obj</span><span class="p">(</span><span class="n">cloud_storage_write_settings_internal</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">df</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">schema_callback</span><span class="p">():</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Starting to run the schema callback for cloud storage writer&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_cloud_storage_writer</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span><span class="o">.</span><span class="n">is_correct</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_cloud_storage_writer</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">schema</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">FlowfileColumn</span><span class="o">.</span><span class="n">from_input</span><span class="p">(</span><span class="n">column_name</span><span class="o">=</span><span class="s2">&quot;__error__&quot;</span><span class="p">,</span> <span class="n">data_type</span><span class="o">=</span><span class="s2">&quot;String&quot;</span><span class="p">)]</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span>
        <span class="n">node_id</span><span class="o">=</span><span class="n">node_cloud_storage_writer</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
        <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
        <span class="n">input_columns</span><span class="o">=</span><span class="p">[],</span>
        <span class="n">node_type</span><span class="o">=</span><span class="n">node_type</span><span class="p">,</span>
        <span class="n">setting_input</span><span class="o">=</span><span class="n">node_cloud_storage_writer</span><span class="p">,</span>
        <span class="n">schema_callback</span><span class="o">=</span><span class="n">schema_callback</span><span class="p">,</span>
        <span class="n">input_node_ids</span><span class="o">=</span><span class="p">[</span><span class="n">node_cloud_storage_writer</span><span class="o">.</span><span class="n">depending_on_id</span><span class="p">]</span>
    <span class="p">)</span>

    <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_cloud_storage_writer</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_cross_join" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_cross_join</span><span class="p">(</span><span class="n">cross_join_settings</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a cross join node to the graph.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>cross_join_settings</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodeCrossJoin (flowfile_core.schemas.input_schema.NodeCrossJoin)" href="#flowfile_core.schemas.input_schema.NodeCrossJoin">NodeCrossJoin</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings for the cross join operation.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_graph.FlowGraph" href="#flowfile_core.flowfile.flow_graph.FlowGraph">FlowGraph</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The <code>FlowGraph</code> instance for method chaining.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_cross_join</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cross_join_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeCrossJoin</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowGraph&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a cross join node to the graph.</span>

<span class="sd">    Args:</span>
<span class="sd">        cross_join_settings: The settings for the cross join operation.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The `FlowGraph` instance for method chaining.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">main</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">left_select</span> <span class="ow">in</span> <span class="n">cross_join_settings</span><span class="o">.</span><span class="n">cross_join_input</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">renames</span><span class="p">:</span>
            <span class="n">left_select</span><span class="o">.</span><span class="n">is_available</span> <span class="o">=</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">left_select</span><span class="o">.</span><span class="n">old_name</span> <span class="ow">in</span> <span class="n">main</span><span class="o">.</span><span class="n">schema</span> <span class="k">else</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">right_select</span> <span class="ow">in</span> <span class="n">cross_join_settings</span><span class="o">.</span><span class="n">cross_join_input</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">renames</span><span class="p">:</span>
            <span class="n">right_select</span><span class="o">.</span><span class="n">is_available</span> <span class="o">=</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">right_select</span><span class="o">.</span><span class="n">old_name</span> <span class="ow">in</span> <span class="n">right</span><span class="o">.</span><span class="n">schema</span> <span class="k">else</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">main</span><span class="o">.</span><span class="n">do_cross_join</span><span class="p">(</span><span class="n">cross_join_input</span><span class="o">=</span><span class="n">cross_join_settings</span><span class="o">.</span><span class="n">cross_join_input</span><span class="p">,</span>
                                  <span class="n">auto_generate_selection</span><span class="o">=</span><span class="n">cross_join_settings</span><span class="o">.</span><span class="n">auto_generate_selection</span><span class="p">,</span>
                                  <span class="n">verify_integrity</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                  <span class="n">other</span><span class="o">=</span><span class="n">right</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">cross_join_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                       <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                       <span class="n">input_columns</span><span class="o">=</span><span class="p">[],</span>
                       <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;cross_join&#39;</span><span class="p">,</span>
                       <span class="n">setting_input</span><span class="o">=</span><span class="n">cross_join_settings</span><span class="p">,</span>
                       <span class="n">input_node_ids</span><span class="o">=</span><span class="n">cross_join_settings</span><span class="o">.</span><span class="n">depending_on_ids</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_database_reader" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_database_reader</span><span class="p">(</span><span class="n">node_database_reader</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a node to read data from a database.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>node_database_reader</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodeDatabaseReader (flowfile_core.schemas.input_schema.NodeDatabaseReader)" href="#flowfile_core.schemas.input_schema.NodeDatabaseReader">NodeDatabaseReader</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings for the database reader node.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_database_reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_database_reader</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeDatabaseReader</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a node to read data from a database.</span>

<span class="sd">    Args:</span>
<span class="sd">        node_database_reader: The settings for the database reader node.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Adding database reader&quot;</span><span class="p">)</span>
    <span class="n">node_type</span> <span class="o">=</span> <span class="s1">&#39;database_reader&#39;</span>
    <span class="n">database_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">DatabaseSettings</span> <span class="o">=</span> <span class="n">node_database_reader</span><span class="o">.</span><span class="n">database_settings</span>
    <span class="n">database_connection</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">input_schema</span><span class="o">.</span><span class="n">DatabaseConnection</span> <span class="o">|</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">FullDatabaseConnection</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">database_settings</span><span class="o">.</span><span class="n">connection_mode</span> <span class="o">==</span> <span class="s1">&#39;inline&#39;</span><span class="p">:</span>
        <span class="n">database_connection</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">DatabaseConnection</span> <span class="o">=</span> <span class="n">database_settings</span><span class="o">.</span><span class="n">database_connection</span>
        <span class="n">encrypted_password</span> <span class="o">=</span> <span class="n">get_encrypted_secret</span><span class="p">(</span><span class="n">current_user_id</span><span class="o">=</span><span class="n">node_database_reader</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span>
                                                  <span class="n">secret_name</span><span class="o">=</span><span class="n">database_connection</span><span class="o">.</span><span class="n">password_ref</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">encrypted_password</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Password not found&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">database_reference_settings</span> <span class="o">=</span> <span class="n">get_local_database_connection</span><span class="p">(</span><span class="n">database_settings</span><span class="o">.</span><span class="n">database_connection_name</span><span class="p">,</span>
                                                                    <span class="n">node_database_reader</span><span class="o">.</span><span class="n">user_id</span><span class="p">)</span>
        <span class="n">database_connection</span> <span class="o">=</span> <span class="n">database_reference_settings</span>
        <span class="n">encrypted_password</span> <span class="o">=</span> <span class="n">database_reference_settings</span><span class="o">.</span><span class="n">password</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">():</span>
        <span class="n">sql_source</span> <span class="o">=</span> <span class="n">BaseSqlSource</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="kc">None</span> <span class="k">if</span> <span class="n">database_settings</span><span class="o">.</span><span class="n">query_mode</span> <span class="o">==</span> <span class="s1">&#39;table&#39;</span> <span class="k">else</span> <span class="n">database_settings</span><span class="o">.</span><span class="n">query</span><span class="p">,</span>
                                   <span class="n">table_name</span><span class="o">=</span><span class="n">database_settings</span><span class="o">.</span><span class="n">table_name</span><span class="p">,</span>
                                   <span class="n">schema_name</span><span class="o">=</span><span class="n">database_settings</span><span class="o">.</span><span class="n">schema_name</span><span class="p">,</span>
                                   <span class="n">fields</span><span class="o">=</span><span class="n">node_database_reader</span><span class="o">.</span><span class="n">fields</span><span class="p">,</span>
                                   <span class="p">)</span>
        <span class="n">database_external_read_settings</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">sql_models</span><span class="o">.</span><span class="n">DatabaseExternalReadSettings</span><span class="o">.</span><span class="n">create_from_from_node_database_reader</span><span class="p">(</span>
                <span class="n">node_database_reader</span><span class="o">=</span><span class="n">node_database_reader</span><span class="p">,</span>
                <span class="n">password</span><span class="o">=</span><span class="n">encrypted_password</span><span class="p">,</span>
                <span class="n">query</span><span class="o">=</span><span class="n">sql_source</span><span class="o">.</span><span class="n">query</span><span class="p">,</span>
                <span class="n">database_reference_settings</span><span class="o">=</span><span class="p">(</span><span class="n">database_reference_settings</span> <span class="k">if</span> <span class="n">database_settings</span><span class="o">.</span><span class="n">connection_mode</span> <span class="o">==</span> <span class="s1">&#39;reference&#39;</span>
                                             <span class="k">else</span> <span class="kc">None</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="n">external_database_fetcher</span> <span class="o">=</span> <span class="n">ExternalDatabaseFetcher</span><span class="p">(</span><span class="n">database_external_read_settings</span><span class="p">,</span> <span class="n">wait_on_completion</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">node</span><span class="o">.</span><span class="n">_fetch_cached_df</span> <span class="o">=</span> <span class="n">external_database_fetcher</span>
        <span class="n">fl</span> <span class="o">=</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">external_database_fetcher</span><span class="o">.</span><span class="n">get_result</span><span class="p">())</span>
        <span class="n">node_database_reader</span><span class="o">.</span><span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">get_minimal_field_info</span><span class="p">()</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">fl</span><span class="o">.</span><span class="n">schema</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">fl</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">schema_callback</span><span class="p">():</span>
        <span class="n">sql_source</span> <span class="o">=</span> <span class="n">SqlSource</span><span class="p">(</span><span class="n">connection_string</span><span class="o">=</span>
                               <span class="n">sql_utils</span><span class="o">.</span><span class="n">construct_sql_uri</span><span class="p">(</span><span class="n">database_type</span><span class="o">=</span><span class="n">database_connection</span><span class="o">.</span><span class="n">database_type</span><span class="p">,</span>
                                                           <span class="n">host</span><span class="o">=</span><span class="n">database_connection</span><span class="o">.</span><span class="n">host</span><span class="p">,</span>
                                                           <span class="n">port</span><span class="o">=</span><span class="n">database_connection</span><span class="o">.</span><span class="n">port</span><span class="p">,</span>
                                                           <span class="n">database</span><span class="o">=</span><span class="n">database_connection</span><span class="o">.</span><span class="n">database</span><span class="p">,</span>
                                                           <span class="n">username</span><span class="o">=</span><span class="n">database_connection</span><span class="o">.</span><span class="n">username</span><span class="p">,</span>
                                                           <span class="n">password</span><span class="o">=</span><span class="n">decrypt_secret</span><span class="p">(</span><span class="n">encrypted_password</span><span class="p">)),</span>
                               <span class="n">query</span><span class="o">=</span><span class="kc">None</span> <span class="k">if</span> <span class="n">database_settings</span><span class="o">.</span><span class="n">query_mode</span> <span class="o">==</span> <span class="s1">&#39;table&#39;</span> <span class="k">else</span> <span class="n">database_settings</span><span class="o">.</span><span class="n">query</span><span class="p">,</span>
                               <span class="n">table_name</span><span class="o">=</span><span class="n">database_settings</span><span class="o">.</span><span class="n">table_name</span><span class="p">,</span>
                               <span class="n">schema_name</span><span class="o">=</span><span class="n">database_settings</span><span class="o">.</span><span class="n">schema_name</span><span class="p">,</span>
                               <span class="n">fields</span><span class="o">=</span><span class="n">node_database_reader</span><span class="o">.</span><span class="n">fields</span><span class="p">,</span>
                               <span class="p">)</span>
        <span class="k">return</span> <span class="n">sql_source</span><span class="o">.</span><span class="n">get_schema</span><span class="p">()</span>

    <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_database_reader</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">node</span><span class="p">:</span>
        <span class="n">node</span><span class="o">.</span><span class="n">node_type</span> <span class="o">=</span> <span class="n">node_type</span>
        <span class="n">node</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">node_type</span>
        <span class="n">node</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="n">_func</span>
        <span class="n">node</span><span class="o">.</span><span class="n">setting_input</span> <span class="o">=</span> <span class="n">node_database_reader</span>
        <span class="n">node</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">cache_results</span> <span class="o">=</span> <span class="n">node_database_reader</span><span class="o">.</span><span class="n">cache_results</span>
        <span class="k">if</span> <span class="n">node_database_reader</span><span class="o">.</span><span class="n">node_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">start_node</span><span class="o">.</span><span class="n">node_id</span> <span class="k">for</span> <span class="n">start_node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="n">node</span><span class="o">.</span><span class="n">schema_callback</span> <span class="o">=</span> <span class="n">schema_callback</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">FlowNode</span><span class="p">(</span><span class="n">node_database_reader</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                        <span class="n">setting_input</span><span class="o">=</span><span class="n">node_database_reader</span><span class="p">,</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">node_type</span><span class="p">,</span> <span class="n">node_type</span><span class="o">=</span><span class="n">node_type</span><span class="p">,</span> <span class="n">parent_uuid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">,</span>
                        <span class="n">schema_callback</span><span class="o">=</span><span class="n">schema_callback</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_node_db</span><span class="p">[</span><span class="n">node_database_reader</span><span class="o">.</span><span class="n">node_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_node_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node_database_reader</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_database_writer" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_database_writer</span><span class="p">(</span><span class="n">node_database_writer</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a node to write data to a database.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>node_database_writer</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodeDatabaseWriter (flowfile_core.schemas.input_schema.NodeDatabaseWriter)" href="#flowfile_core.schemas.input_schema.NodeDatabaseWriter">NodeDatabaseWriter</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings for the database writer node.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_database_writer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_database_writer</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeDatabaseWriter</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a node to write data to a database.</span>

<span class="sd">    Args:</span>
<span class="sd">        node_database_writer: The settings for the database writer node.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">node_type</span> <span class="o">=</span> <span class="s1">&#39;database_writer&#39;</span>
    <span class="n">database_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">DatabaseWriteSettings</span> <span class="o">=</span> <span class="n">node_database_writer</span><span class="o">.</span><span class="n">database_write_settings</span>
    <span class="n">database_connection</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">input_schema</span><span class="o">.</span><span class="n">DatabaseConnection</span> <span class="o">|</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">FullDatabaseConnection</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">database_settings</span><span class="o">.</span><span class="n">connection_mode</span> <span class="o">==</span> <span class="s1">&#39;inline&#39;</span><span class="p">:</span>
        <span class="n">database_connection</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">DatabaseConnection</span> <span class="o">=</span> <span class="n">database_settings</span><span class="o">.</span><span class="n">database_connection</span>
        <span class="n">encrypted_password</span> <span class="o">=</span> <span class="n">get_encrypted_secret</span><span class="p">(</span><span class="n">current_user_id</span><span class="o">=</span><span class="n">node_database_writer</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span>
                                                  <span class="n">secret_name</span><span class="o">=</span><span class="n">database_connection</span><span class="o">.</span><span class="n">password_ref</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">encrypted_password</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Password not found&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">database_reference_settings</span> <span class="o">=</span> <span class="n">get_local_database_connection</span><span class="p">(</span><span class="n">database_settings</span><span class="o">.</span><span class="n">database_connection_name</span><span class="p">,</span>
                                                                    <span class="n">node_database_writer</span><span class="o">.</span><span class="n">user_id</span><span class="p">)</span>
        <span class="n">encrypted_password</span> <span class="o">=</span> <span class="n">database_reference_settings</span><span class="o">.</span><span class="n">password</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">):</span>
        <span class="n">df</span><span class="o">.</span><span class="n">lazy</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">database_external_write_settings</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">sql_models</span><span class="o">.</span><span class="n">DatabaseExternalWriteSettings</span><span class="o">.</span><span class="n">create_from_from_node_database_writer</span><span class="p">(</span>
                <span class="n">node_database_writer</span><span class="o">=</span><span class="n">node_database_writer</span><span class="p">,</span>
                <span class="n">password</span><span class="o">=</span><span class="n">encrypted_password</span><span class="p">,</span>
                <span class="n">table_name</span><span class="o">=</span><span class="p">(</span><span class="n">database_settings</span><span class="o">.</span><span class="n">schema_name</span><span class="o">+</span><span class="s1">&#39;.&#39;</span><span class="o">+</span><span class="n">database_settings</span><span class="o">.</span><span class="n">table_name</span>
                            <span class="k">if</span> <span class="n">database_settings</span><span class="o">.</span><span class="n">schema_name</span> <span class="k">else</span> <span class="n">database_settings</span><span class="o">.</span><span class="n">table_name</span><span class="p">),</span>
                <span class="n">database_reference_settings</span><span class="o">=</span><span class="p">(</span><span class="n">database_reference_settings</span> <span class="k">if</span> <span class="n">database_settings</span><span class="o">.</span><span class="n">connection_mode</span> <span class="o">==</span> <span class="s1">&#39;reference&#39;</span>
                                             <span class="k">else</span> <span class="kc">None</span><span class="p">),</span>
                <span class="n">lf</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">data_frame</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="n">external_database_writer</span> <span class="o">=</span> <span class="n">ExternalDatabaseWriter</span><span class="p">(</span><span class="n">database_external_write_settings</span><span class="p">,</span> <span class="n">wait_on_completion</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">node</span><span class="o">.</span><span class="n">_fetch_cached_df</span> <span class="o">=</span> <span class="n">external_database_writer</span>
        <span class="n">external_database_writer</span><span class="o">.</span><span class="n">get_result</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">df</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">schema_callback</span><span class="p">():</span>
        <span class="n">input_node</span><span class="p">:</span> <span class="n">FlowNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_database_writer</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">input_node</span><span class="o">.</span><span class="n">schema</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span>
        <span class="n">node_id</span><span class="o">=</span><span class="n">node_database_writer</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
        <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
        <span class="n">input_columns</span><span class="o">=</span><span class="p">[],</span>
        <span class="n">node_type</span><span class="o">=</span><span class="n">node_type</span><span class="p">,</span>
        <span class="n">setting_input</span><span class="o">=</span><span class="n">node_database_writer</span><span class="p">,</span>
        <span class="n">schema_callback</span><span class="o">=</span><span class="n">schema_callback</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_database_writer</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_datasource" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_datasource</span><span class="p">(</span><span class="n">input_file</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a data source node to the graph.</p>
<p>This method serves as a factory for creating starting nodes, handling both
file-based sources and direct manual data entry.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>input_file</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<a class="autorefs autorefs-internal" title="            NodeDatasource (flowfile_core.schemas.input_schema.NodeDatasource)" href="#flowfile_core.schemas.input_schema.NodeDatasource">NodeDatasource</a>, <a class="autorefs autorefs-internal" title="            NodeManualInput (flowfile_core.schemas.input_schema.NodeManualInput)" href="#flowfile_core.schemas.input_schema.NodeManualInput">NodeManualInput</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The configuration object for the data source.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_graph.FlowGraph" href="#flowfile_core.flowfile.flow_graph.FlowGraph">FlowGraph</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The <code>FlowGraph</code> instance for method chaining.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1523</span>
<span class="normal">1524</span>
<span class="normal">1525</span>
<span class="normal">1526</span>
<span class="normal">1527</span>
<span class="normal">1528</span>
<span class="normal">1529</span>
<span class="normal">1530</span>
<span class="normal">1531</span>
<span class="normal">1532</span>
<span class="normal">1533</span>
<span class="normal">1534</span>
<span class="normal">1535</span>
<span class="normal">1536</span>
<span class="normal">1537</span>
<span class="normal">1538</span>
<span class="normal">1539</span>
<span class="normal">1540</span>
<span class="normal">1541</span>
<span class="normal">1542</span>
<span class="normal">1543</span>
<span class="normal">1544</span>
<span class="normal">1545</span>
<span class="normal">1546</span>
<span class="normal">1547</span>
<span class="normal">1548</span>
<span class="normal">1549</span>
<span class="normal">1550</span>
<span class="normal">1551</span>
<span class="normal">1552</span>
<span class="normal">1553</span>
<span class="normal">1554</span>
<span class="normal">1555</span>
<span class="normal">1556</span>
<span class="normal">1557</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_datasource</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_file</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">input_schema</span><span class="o">.</span><span class="n">NodeDatasource</span><span class="p">,</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeManualInput</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowGraph&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a data source node to the graph.</span>

<span class="sd">    This method serves as a factory for creating starting nodes, handling both</span>
<span class="sd">    file-based sources and direct manual data entry.</span>

<span class="sd">    Args:</span>
<span class="sd">        input_file: The configuration object for the data source.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The `FlowGraph` instance for method chaining.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_file</span><span class="p">,</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeManualInput</span><span class="p">):</span>
        <span class="n">input_data</span> <span class="o">=</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">input_file</span><span class="o">.</span><span class="n">raw_data_format</span><span class="p">)</span>
        <span class="n">ref</span> <span class="o">=</span> <span class="s1">&#39;manual_input&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">input_data</span> <span class="o">=</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">path_ref</span><span class="o">=</span><span class="n">input_file</span><span class="o">.</span><span class="n">file_ref</span><span class="p">)</span>
        <span class="n">ref</span> <span class="o">=</span> <span class="s1">&#39;datasource&#39;</span>
    <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">input_file</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">node</span><span class="p">:</span>
        <span class="n">node</span><span class="o">.</span><span class="n">node_type</span> <span class="o">=</span> <span class="n">ref</span>
        <span class="n">node</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">ref</span>
        <span class="n">node</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="n">input_data</span>
        <span class="n">node</span><span class="o">.</span><span class="n">setting_input</span> <span class="o">=</span> <span class="n">input_file</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">input_file</span><span class="o">.</span><span class="n">node_id</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">start_node</span><span class="o">.</span><span class="n">node_id</span> <span class="k">for</span> <span class="n">start_node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">input_data</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">FlowNode</span><span class="p">(</span><span class="n">input_file</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="n">input_data</span><span class="p">,</span>
                        <span class="n">setting_input</span><span class="o">=</span><span class="n">input_file</span><span class="p">,</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">ref</span><span class="p">,</span> <span class="n">node_type</span><span class="o">=</span><span class="n">ref</span><span class="p">,</span> <span class="n">parent_uuid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_node_db</span><span class="p">[</span><span class="n">input_file</span><span class="o">.</span><span class="n">node_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_node_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">input_file</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_dependency_on_polars_lazy_frame" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_dependency_on_polars_lazy_frame</span><span class="p">(</span><span class="n">lazy_frame</span><span class="p">,</span> <span class="n">node_id</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a special node that directly injects a Polars LazyFrame into the graph.</p>
<p>Note: This is intended for backend use and will not work in the UI editor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>lazy_frame</code>
            </td>
            <td>
                  <code><span title="polars.LazyFrame">LazyFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Polars LazyFrame to inject.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>node_id</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID for the new node.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_dependency_on_polars_lazy_frame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                        <span class="n">lazy_frame</span><span class="p">:</span> <span class="n">pl</span><span class="o">.</span><span class="n">LazyFrame</span><span class="p">,</span>
                                        <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a special node that directly injects a Polars LazyFrame into the graph.</span>

<span class="sd">    Note: This is intended for backend use and will not work in the UI editor.</span>

<span class="sd">    Args:</span>
<span class="sd">        lazy_frame: The Polars LazyFrame to inject.</span>
<span class="sd">        node_id: The ID for the new node.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">():</span>
        <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">lazy_frame</span><span class="p">)</span>
    <span class="n">node_promise</span> <span class="o">=</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodePromise</span><span class="p">(</span><span class="n">flow_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">flow_id</span><span class="p">,</span>
                                            <span class="n">node_id</span><span class="o">=</span><span class="n">node_id</span><span class="p">,</span> <span class="n">node_type</span><span class="o">=</span><span class="s2">&quot;polars_lazy_frame&quot;</span><span class="p">,</span>
                                            <span class="n">is_setup</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">node_promise</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span> <span class="n">node_type</span><span class="o">=</span><span class="n">node_promise</span><span class="o">.</span><span class="n">node_type</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                       <span class="n">setting_input</span><span class="o">=</span><span class="n">node_promise</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_explore_data" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_explore_data</span><span class="p">(</span><span class="n">node_analysis</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a specialized node for data exploration and visualization.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>node_analysis</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodeExploreData (flowfile_core.schemas.input_schema.NodeExploreData)" href="#flowfile_core.schemas.input_schema.NodeExploreData">NodeExploreData</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings for the data exploration node.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_explore_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_analysis</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeExploreData</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a specialized node for data exploration and visualization.</span>

<span class="sd">    Args:</span>
<span class="sd">        node_analysis: The settings for the data exploration node.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">sample_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10000</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">analysis_preparation</span><span class="p">(</span><span class="n">flowfile_table</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">flowfile_table</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">number_of_records</span> <span class="o">=</span> <span class="n">flowfile_table</span><span class="o">.</span><span class="n">get_number_of_records</span><span class="p">(</span><span class="n">calculate_in_worker_process</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">number_of_records</span> <span class="o">=</span> <span class="n">flowfile_table</span><span class="o">.</span><span class="n">number_of_records</span>
        <span class="k">if</span> <span class="n">number_of_records</span> <span class="o">&gt;</span> <span class="n">sample_size</span><span class="p">:</span>
            <span class="n">flowfile_table</span> <span class="o">=</span> <span class="n">flowfile_table</span><span class="o">.</span><span class="n">get_sample</span><span class="p">(</span><span class="n">sample_size</span><span class="p">,</span> <span class="n">random</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">external_sampler</span> <span class="o">=</span> <span class="n">ExternalDfFetcher</span><span class="p">(</span>
            <span class="n">lf</span><span class="o">=</span><span class="n">flowfile_table</span><span class="o">.</span><span class="n">data_frame</span><span class="p">,</span>
            <span class="n">file_ref</span><span class="o">=</span><span class="s2">&quot;__gf_walker&quot;</span><span class="o">+</span><span class="n">node</span><span class="o">.</span><span class="n">hash</span><span class="p">,</span>
            <span class="n">wait_on_completion</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">node_id</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
            <span class="n">flow_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">flow_id</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">node</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">analysis_data_generator</span> <span class="o">=</span> <span class="n">get_read_top_n</span><span class="p">(</span><span class="n">external_sampler</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">file_ref</span><span class="p">,</span>
                                                              <span class="n">n</span><span class="o">=</span><span class="nb">min</span><span class="p">(</span><span class="n">sample_size</span><span class="p">,</span> <span class="n">number_of_records</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">flowfile_table</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">schema_callback</span><span class="p">():</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_analysis</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">all_inputs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">input_node</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">all_inputs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">input_node</span><span class="o">.</span><span class="n">schema</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">FlowfileColumn</span><span class="o">.</span><span class="n">from_input</span><span class="p">(</span><span class="s1">&#39;col_1&#39;</span><span class="p">,</span> <span class="s1">&#39;na&#39;</span><span class="p">)]</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">node_analysis</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span> <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;explore_data&#39;</span><span class="p">,</span>
                       <span class="n">function</span><span class="o">=</span><span class="n">analysis_preparation</span><span class="p">,</span>
                       <span class="n">setting_input</span><span class="o">=</span><span class="n">node_analysis</span><span class="p">,</span> <span class="n">schema_callback</span><span class="o">=</span><span class="n">schema_callback</span><span class="p">)</span>
    <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_analysis</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_external_source" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_external_source</span><span class="p">(</span><span class="n">external_source_input</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a node for a custom external data source.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>external_source_input</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodeExternalSource (flowfile_core.schemas.input_schema.NodeExternalSource)" href="#flowfile_core.schemas.input_schema.NodeExternalSource">NodeExternalSource</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings for the external source node.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span>
<span class="normal">1389</span>
<span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_external_source</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                        <span class="n">external_source_input</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeExternalSource</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a node for a custom external data source.</span>

<span class="sd">    Args:</span>
<span class="sd">        external_source_input: The settings for the external source node.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">node_type</span> <span class="o">=</span> <span class="s1">&#39;external_source&#39;</span>
    <span class="n">external_source_script</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">external_sources</span><span class="o">.</span><span class="n">custom_external_sources</span><span class="p">,</span> <span class="n">external_source_input</span><span class="o">.</span><span class="n">identifier</span><span class="p">)</span>
    <span class="n">source_settings</span> <span class="o">=</span> <span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">input_schema</span><span class="p">,</span> <span class="n">snake_case_to_camel_case</span><span class="p">(</span><span class="n">external_source_input</span><span class="o">.</span><span class="n">identifier</span><span class="p">))</span><span class="o">.</span>
                       <span class="n">model_validate</span><span class="p">(</span><span class="n">external_source_input</span><span class="o">.</span><span class="n">source_settings</span><span class="p">))</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">external_source_script</span><span class="p">,</span> <span class="s1">&#39;initial_getter&#39;</span><span class="p">):</span>
        <span class="n">initial_getter</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">external_source_script</span><span class="p">,</span> <span class="s1">&#39;initial_getter&#39;</span><span class="p">)(</span><span class="n">source_settings</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">initial_getter</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">data_getter</span> <span class="o">=</span> <span class="n">external_source_script</span><span class="o">.</span><span class="n">getter</span><span class="p">(</span><span class="n">source_settings</span><span class="p">)</span>
    <span class="n">external_source</span> <span class="o">=</span> <span class="n">data_source_factory</span><span class="p">(</span><span class="n">source_type</span><span class="o">=</span><span class="s1">&#39;custom&#39;</span><span class="p">,</span>
                                          <span class="n">data_getter</span><span class="o">=</span><span class="n">data_getter</span><span class="p">,</span>
                                          <span class="n">initial_data_getter</span><span class="o">=</span><span class="n">initial_getter</span><span class="p">,</span>
                                          <span class="n">orientation</span><span class="o">=</span><span class="n">external_source_input</span><span class="o">.</span><span class="n">source_settings</span><span class="o">.</span><span class="n">orientation</span><span class="p">,</span>
                                          <span class="n">schema</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">():</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Calling external source&#39;</span><span class="p">)</span>
        <span class="n">fl</span> <span class="o">=</span> <span class="n">FlowDataEngine</span><span class="o">.</span><span class="n">create_from_external_source</span><span class="p">(</span><span class="n">external_source</span><span class="o">=</span><span class="n">external_source</span><span class="p">)</span>
        <span class="n">external_source_input</span><span class="o">.</span><span class="n">source_settings</span><span class="o">.</span><span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">get_minimal_field_info</span><span class="p">()</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">fl</span><span class="o">.</span><span class="n">schema</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">fl</span>

    <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">external_source_input</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">node</span><span class="p">:</span>
        <span class="n">node</span><span class="o">.</span><span class="n">node_type</span> <span class="o">=</span> <span class="n">node_type</span>
        <span class="n">node</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">node_type</span>
        <span class="n">node</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="n">_func</span>
        <span class="n">node</span><span class="o">.</span><span class="n">setting_input</span> <span class="o">=</span> <span class="n">external_source_input</span>
        <span class="n">node</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">cache_results</span> <span class="o">=</span> <span class="n">external_source_input</span><span class="o">.</span><span class="n">cache_results</span>
        <span class="k">if</span> <span class="n">external_source_input</span><span class="o">.</span><span class="n">node_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">start_node</span><span class="o">.</span><span class="n">node_id</span> <span class="k">for</span> <span class="n">start_node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">FlowNode</span><span class="p">(</span><span class="n">external_source_input</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                        <span class="n">setting_input</span><span class="o">=</span><span class="n">external_source_input</span><span class="p">,</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">node_type</span><span class="p">,</span> <span class="n">node_type</span><span class="o">=</span><span class="n">node_type</span><span class="p">,</span> <span class="n">parent_uuid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_node_db</span><span class="p">[</span><span class="n">external_source_input</span><span class="o">.</span><span class="n">node_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_node_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">external_source_input</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">external_source_input</span><span class="o">.</span><span class="n">source_settings</span><span class="o">.</span><span class="n">fields</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">external_source_input</span><span class="o">.</span><span class="n">source_settings</span><span class="o">.</span><span class="n">fields</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Using provided schema in the node&#39;</span><span class="p">)</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">schema_callback</span><span class="p">():</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">FlowfileColumn</span><span class="o">.</span><span class="n">from_input</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">f</span><span class="o">.</span><span class="n">data_type</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span>
                    <span class="n">external_source_input</span><span class="o">.</span><span class="n">source_settings</span><span class="o">.</span><span class="n">fields</span><span class="p">]</span>

        <span class="n">node</span><span class="o">.</span><span class="n">schema_callback</span> <span class="o">=</span> <span class="n">schema_callback</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;Removing schema&#39;</span><span class="p">)</span>
        <span class="n">node</span><span class="o">.</span><span class="n">_schema_callback</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">external_source_input</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                       <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                       <span class="n">input_columns</span><span class="o">=</span><span class="p">[],</span>
                       <span class="n">node_type</span><span class="o">=</span><span class="n">node_type</span><span class="p">,</span>
                       <span class="n">setting_input</span><span class="o">=</span><span class="n">external_source_input</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_filter" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_filter</span><span class="p">(</span><span class="n">filter_settings</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a filter node to the graph.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>filter_settings</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodeFilter (flowfile_core.schemas.input_schema.NodeFilter)" href="#flowfile_core.schemas.input_schema.NodeFilter">NodeFilter</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings for the filter operation.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeFilter</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a filter node to the graph.</span>

<span class="sd">    Args:</span>
<span class="sd">        filter_settings: The settings for the filter operation.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">is_advanced</span> <span class="o">=</span> <span class="n">filter_settings</span><span class="o">.</span><span class="n">filter_input</span><span class="o">.</span><span class="n">filter_type</span> <span class="o">==</span> <span class="s1">&#39;advanced&#39;</span>
    <span class="k">if</span> <span class="n">is_advanced</span><span class="p">:</span>
        <span class="n">predicate</span> <span class="o">=</span> <span class="n">filter_settings</span><span class="o">.</span><span class="n">filter_input</span><span class="o">.</span><span class="n">advanced_filter</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">_basic_filter</span> <span class="o">=</span> <span class="n">filter_settings</span><span class="o">.</span><span class="n">filter_input</span><span class="o">.</span><span class="n">basic_filter</span>
        <span class="n">filter_settings</span><span class="o">.</span><span class="n">filter_input</span><span class="o">.</span><span class="n">advanced_filter</span> <span class="o">=</span> <span class="p">(</span><span class="sa">f</span><span class="s1">&#39;[</span><span class="si">{</span><span class="n">_basic_filter</span><span class="o">.</span><span class="n">field</span><span class="si">}</span><span class="s1">]</span><span class="si">{</span><span class="n">_basic_filter</span><span class="o">.</span><span class="n">filter_type</span><span class="si">}</span><span class="s1">&quot;&#39;</span>
                                                        <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">_basic_filter</span><span class="o">.</span><span class="n">filter_value</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">fl</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">):</span>
        <span class="n">is_advanced</span> <span class="o">=</span> <span class="n">filter_settings</span><span class="o">.</span><span class="n">filter_input</span><span class="o">.</span><span class="n">filter_type</span> <span class="o">==</span> <span class="s1">&#39;advanced&#39;</span>
        <span class="k">if</span> <span class="n">is_advanced</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">fl</span><span class="o">.</span><span class="n">do_filter</span><span class="p">(</span><span class="n">predicate</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">basic_filter</span> <span class="o">=</span> <span class="n">filter_settings</span><span class="o">.</span><span class="n">filter_input</span><span class="o">.</span><span class="n">basic_filter</span>
            <span class="k">if</span> <span class="n">basic_filter</span><span class="o">.</span><span class="n">filter_value</span><span class="o">.</span><span class="n">isnumeric</span><span class="p">():</span>
                <span class="n">field_data_type</span> <span class="o">=</span> <span class="n">fl</span><span class="o">.</span><span class="n">get_schema_column</span><span class="p">(</span><span class="n">basic_filter</span><span class="o">.</span><span class="n">field</span><span class="p">)</span><span class="o">.</span><span class="n">generic_datatype</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">field_data_type</span> <span class="o">==</span> <span class="s1">&#39;str&#39;</span><span class="p">:</span>
                    <span class="n">_f</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;[</span><span class="si">{</span><span class="n">basic_filter</span><span class="o">.</span><span class="n">field</span><span class="si">}</span><span class="s1">]</span><span class="si">{</span><span class="n">basic_filter</span><span class="o">.</span><span class="n">filter_type</span><span class="si">}</span><span class="s1">&quot;</span><span class="si">{</span><span class="n">basic_filter</span><span class="o">.</span><span class="n">filter_value</span><span class="si">}</span><span class="s1">&quot;&#39;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">_f</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;[</span><span class="si">{</span><span class="n">basic_filter</span><span class="o">.</span><span class="n">field</span><span class="si">}</span><span class="s1">]</span><span class="si">{</span><span class="n">basic_filter</span><span class="o">.</span><span class="n">filter_type</span><span class="si">}{</span><span class="n">basic_filter</span><span class="o">.</span><span class="n">filter_value</span><span class="si">}</span><span class="s1">&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">_f</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;[</span><span class="si">{</span><span class="n">basic_filter</span><span class="o">.</span><span class="n">field</span><span class="si">}</span><span class="s1">]</span><span class="si">{</span><span class="n">basic_filter</span><span class="o">.</span><span class="n">filter_type</span><span class="si">}</span><span class="s1">&quot;</span><span class="si">{</span><span class="n">basic_filter</span><span class="o">.</span><span class="n">filter_value</span><span class="si">}</span><span class="s1">&quot;&#39;</span>
            <span class="n">filter_settings</span><span class="o">.</span><span class="n">filter_input</span><span class="o">.</span><span class="n">advanced_filter</span> <span class="o">=</span> <span class="n">_f</span>
            <span class="k">return</span> <span class="n">fl</span><span class="o">.</span><span class="n">do_filter</span><span class="p">(</span><span class="n">_f</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">filter_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span> <span class="n">_func</span><span class="p">,</span>
                       <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;filter&#39;</span><span class="p">,</span>
                       <span class="n">renew_schema</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                       <span class="n">setting_input</span><span class="o">=</span><span class="n">filter_settings</span><span class="p">,</span>
                       <span class="n">input_node_ids</span><span class="o">=</span><span class="p">[</span><span class="n">filter_settings</span><span class="o">.</span><span class="n">depending_on_id</span><span class="p">]</span>
                       <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_formula" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_formula</span><span class="p">(</span><span class="n">function_settings</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a node that applies a formula to create or modify a column.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>function_settings</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodeFormula (flowfile_core.schemas.input_schema.NodeFormula)" href="#flowfile_core.schemas.input_schema.NodeFormula">NodeFormula</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings for the formula operation.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_formula</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">function_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeFormula</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a node that applies a formula to create or modify a column.</span>

<span class="sd">    Args:</span>
<span class="sd">        function_settings: The settings for the formula operation.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">error</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="n">function_settings</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">field</span><span class="o">.</span><span class="n">data_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Auto&quot;</span><span class="p">):</span>
        <span class="n">output_type</span> <span class="o">=</span> <span class="n">cast_str_to_polars_type</span><span class="p">(</span><span class="n">function_settings</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">field</span><span class="o">.</span><span class="n">data_type</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">output_type</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">output_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Auto&quot;</span><span class="p">):</span>
        <span class="n">new_col</span> <span class="o">=</span> <span class="p">[</span><span class="n">FlowfileColumn</span><span class="o">.</span><span class="n">from_input</span><span class="p">(</span><span class="n">column_name</span><span class="o">=</span><span class="n">function_settings</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                                             <span class="n">data_type</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">output_type</span><span class="p">))]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">new_col</span> <span class="o">=</span> <span class="p">[</span><span class="n">FlowfileColumn</span><span class="o">.</span><span class="n">from_input</span><span class="p">(</span><span class="n">function_settings</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;String&#39;</span><span class="p">)]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">fl</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">fl</span><span class="o">.</span><span class="n">apply_sql_formula</span><span class="p">(</span><span class="n">func</span><span class="o">=</span><span class="n">function_settings</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">function</span><span class="p">,</span>
                                    <span class="n">col_name</span><span class="o">=</span><span class="n">function_settings</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                                    <span class="n">output_data_type</span><span class="o">=</span><span class="n">output_type</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">function_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span> <span class="n">_func</span><span class="p">,</span>
                       <span class="n">output_schema</span><span class="o">=</span><span class="n">new_col</span><span class="p">,</span>
                       <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;formula&#39;</span><span class="p">,</span>
                       <span class="n">renew_schema</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                       <span class="n">setting_input</span><span class="o">=</span><span class="n">function_settings</span><span class="p">,</span>
                       <span class="n">input_node_ids</span><span class="o">=</span><span class="p">[</span><span class="n">function_settings</span><span class="o">.</span><span class="n">depending_on_id</span><span class="p">]</span>
                       <span class="p">)</span>
    <span class="k">if</span> <span class="n">error</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">function_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
        <span class="n">node</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="n">error</span>
        <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="n">error</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_fuzzy_match" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_fuzzy_match</span><span class="p">(</span><span class="n">fuzzy_settings</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a fuzzy matching node to join data on approximate string matches.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>fuzzy_settings</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodeFuzzyMatch (flowfile_core.schemas.input_schema.NodeFuzzyMatch)" href="#flowfile_core.schemas.input_schema.NodeFuzzyMatch">NodeFuzzyMatch</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings for the fuzzy match operation.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_graph.FlowGraph" href="#flowfile_core.flowfile.flow_graph.FlowGraph">FlowGraph</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The <code>FlowGraph</code> instance for method chaining.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_fuzzy_match</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fuzzy_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeFuzzyMatch</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowGraph&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a fuzzy matching node to join data on approximate string matches.</span>

<span class="sd">    Args:</span>
<span class="sd">        fuzzy_settings: The settings for the fuzzy match operation.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The `FlowGraph` instance for method chaining.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">main</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span><span class="p">:</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">fuzzy_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">execution_location</span> <span class="o">==</span> <span class="s2">&quot;local&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">main</span><span class="o">.</span><span class="n">fuzzy_join</span><span class="p">(</span><span class="n">fuzzy_match_input</span><span class="o">=</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">fuzzy_settings</span><span class="o">.</span><span class="n">join_input</span><span class="p">),</span>
                                   <span class="n">other</span><span class="o">=</span><span class="n">right</span><span class="p">,</span>
                                   <span class="n">node_logger</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">get_node_logger</span><span class="p">(</span><span class="n">fuzzy_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">))</span>

        <span class="n">f</span> <span class="o">=</span> <span class="n">main</span><span class="o">.</span><span class="n">start_fuzzy_join</span><span class="p">(</span><span class="n">fuzzy_match_input</span><span class="o">=</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">fuzzy_settings</span><span class="o">.</span><span class="n">join_input</span><span class="p">),</span> <span class="n">other</span><span class="o">=</span><span class="n">right</span><span class="p">,</span> <span class="n">file_ref</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">hash</span><span class="p">,</span>
                                  <span class="n">flow_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">node_id</span><span class="o">=</span><span class="n">fuzzy_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Started the fuzzy match action&quot;</span><span class="p">)</span>
        <span class="n">node</span><span class="o">.</span><span class="n">_fetch_cached_df</span> <span class="o">=</span> <span class="n">f</span>  <span class="c1"># Add to the node so it can be cancelled and fetch later if needed</span>
        <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">get_result</span><span class="p">())</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">schema_callback</span><span class="p">():</span>
        <span class="n">fm_input_copy</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">fuzzy_settings</span><span class="o">.</span><span class="n">join_input</span><span class="p">)</span>  <span class="c1"># Deepcopy create an unique object per func</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">fuzzy_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">calculate_fuzzy_match_schema</span><span class="p">(</span><span class="n">fm_input_copy</span><span class="p">,</span>
                                            <span class="n">left_schema</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">schema</span><span class="p">,</span>
                                            <span class="n">right_schema</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">right_input</span><span class="o">.</span><span class="n">schema</span>
                                            <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">fuzzy_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                       <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                       <span class="n">input_columns</span><span class="o">=</span><span class="p">[],</span>
                       <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;fuzzy_match&#39;</span><span class="p">,</span>
                       <span class="n">setting_input</span><span class="o">=</span><span class="n">fuzzy_settings</span><span class="p">,</span>
                       <span class="n">input_node_ids</span><span class="o">=</span><span class="n">fuzzy_settings</span><span class="o">.</span><span class="n">depending_on_ids</span><span class="p">,</span>
                       <span class="n">schema_callback</span><span class="o">=</span><span class="n">schema_callback</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_graph_solver" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_graph_solver</span><span class="p">(</span><span class="n">graph_solver_settings</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a node that solves graph-like problems within the data.</p>
<p>This node can be used for operations like finding network paths,
calculating connected components, or performing other graph algorithms
on relational data that represents nodes and edges.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>graph_solver_settings</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodeGraphSolver (flowfile_core.schemas.input_schema.NodeGraphSolver)" href="#flowfile_core.schemas.input_schema.NodeGraphSolver">NodeGraphSolver</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings object defining the graph inputs
and the specific algorithm to apply.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_graph_solver</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">graph_solver_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeGraphSolver</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a node that solves graph-like problems within the data.</span>

<span class="sd">    This node can be used for operations like finding network paths,</span>
<span class="sd">    calculating connected components, or performing other graph algorithms</span>
<span class="sd">    on relational data that represents nodes and edges.</span>

<span class="sd">    Args:</span>
<span class="sd">        graph_solver_settings: The settings object defining the graph inputs</span>
<span class="sd">            and the specific algorithm to apply.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">fl</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">fl</span><span class="o">.</span><span class="n">solve_graph</span><span class="p">(</span><span class="n">graph_solver_settings</span><span class="o">.</span><span class="n">graph_solver_input</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">graph_solver_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                       <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                       <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;graph_solver&#39;</span><span class="p">,</span>
                       <span class="n">setting_input</span><span class="o">=</span><span class="n">graph_solver_settings</span><span class="p">,</span>
                       <span class="n">input_node_ids</span><span class="o">=</span><span class="p">[</span><span class="n">graph_solver_settings</span><span class="o">.</span><span class="n">depending_on_id</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_group_by" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_group_by</span><span class="p">(</span><span class="n">group_by_settings</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a group-by aggregation node to the graph.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>group_by_settings</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodeGroupBy (flowfile_core.schemas.input_schema.NodeGroupBy)" href="#flowfile_core.schemas.input_schema.NodeGroupBy">NodeGroupBy</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings for the group-by operation.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_group_by</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">group_by_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeGroupBy</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a group-by aggregation node to the graph.</span>

<span class="sd">    Args:</span>
<span class="sd">        group_by_settings: The settings for the group-by operation.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">fl</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">fl</span><span class="o">.</span><span class="n">do_group_by</span><span class="p">(</span><span class="n">group_by_settings</span><span class="o">.</span><span class="n">groupby_input</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">group_by_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                       <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                       <span class="n">node_type</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;group_by&#39;</span><span class="p">,</span>
                       <span class="n">setting_input</span><span class="o">=</span><span class="n">group_by_settings</span><span class="p">,</span>
                       <span class="n">input_node_ids</span><span class="o">=</span><span class="p">[</span><span class="n">group_by_settings</span><span class="o">.</span><span class="n">depending_on_id</span><span class="p">])</span>

    <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">group_by_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">schema_callback</span><span class="p">():</span>

        <span class="n">output_columns</span> <span class="o">=</span> <span class="p">[(</span><span class="n">c</span><span class="o">.</span><span class="n">old_name</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">new_name</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">output_type</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">group_by_settings</span><span class="o">.</span><span class="n">groupby_input</span><span class="o">.</span><span class="n">agg_cols</span><span class="p">]</span>
        <span class="n">depends_on</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">input_schema_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="n">s</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">s</span><span class="o">.</span><span class="n">data_type</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">depends_on</span><span class="o">.</span><span class="n">schema</span><span class="p">}</span>
        <span class="n">output_schema</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">old_name</span><span class="p">,</span> <span class="n">new_name</span><span class="p">,</span> <span class="n">data_type</span> <span class="ow">in</span> <span class="n">output_columns</span><span class="p">:</span>
            <span class="n">data_type</span> <span class="o">=</span> <span class="n">input_schema_dict</span><span class="p">[</span><span class="n">old_name</span><span class="p">]</span> <span class="k">if</span> <span class="n">data_type</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">data_type</span>
            <span class="n">output_schema</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">FlowfileColumn</span><span class="o">.</span><span class="n">from_input</span><span class="p">(</span><span class="n">data_type</span><span class="o">=</span><span class="n">data_type</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="n">new_name</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">output_schema</span>

    <span class="n">node</span><span class="o">.</span><span class="n">schema_callback</span> <span class="o">=</span> <span class="n">schema_callback</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_include_cols" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_include_cols</span><span class="p">(</span><span class="n">include_columns</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds columns to both the input and output column lists.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>include_columns</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of column names to include.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_include_cols</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">include_columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds columns to both the input and output column lists.</span>

<span class="sd">    Args:</span>
<span class="sd">        include_columns: A list of column names to include.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">include_columns</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">column</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_input_cols</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_input_cols</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">column</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">column</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_output_cols</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_output_cols</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">column</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_initial_node_analysis" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_initial_node_analysis</span><span class="p">(</span><span class="n">node_promise</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a data exploration/analysis node based on a node promise.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>node_promise</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodePromise (flowfile_core.schemas.input_schema.NodePromise)" href="#flowfile_core.schemas.input_schema.NodePromise">NodePromise</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The promise representing the node to be analyzed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_initial_node_analysis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_promise</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodePromise</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a data exploration/analysis node based on a node promise.</span>

<span class="sd">    Args:</span>
<span class="sd">        node_promise: The promise representing the node to be analyzed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">node_analysis</span> <span class="o">=</span> <span class="n">create_graphic_walker_node_from_node_promise</span><span class="p">(</span><span class="n">node_promise</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">add_explore_data</span><span class="p">(</span><span class="n">node_analysis</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_join" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_join</span><span class="p">(</span><span class="n">join_settings</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a join node to combine two data streams based on key columns.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>join_settings</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodeJoin (flowfile_core.schemas.input_schema.NodeJoin)" href="#flowfile_core.schemas.input_schema.NodeJoin">NodeJoin</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings for the join operation.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_graph.FlowGraph" href="#flowfile_core.flowfile.flow_graph.FlowGraph">FlowGraph</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The <code>FlowGraph</code> instance for method chaining.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_join</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">join_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeJoin</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowGraph&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a join node to combine two data streams based on key columns.</span>

<span class="sd">    Args:</span>
<span class="sd">        join_settings: The settings for the join operation.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The `FlowGraph` instance for method chaining.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">main</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">left_select</span> <span class="ow">in</span> <span class="n">join_settings</span><span class="o">.</span><span class="n">join_input</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">renames</span><span class="p">:</span>
            <span class="n">left_select</span><span class="o">.</span><span class="n">is_available</span> <span class="o">=</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">left_select</span><span class="o">.</span><span class="n">old_name</span> <span class="ow">in</span> <span class="n">main</span><span class="o">.</span><span class="n">schema</span> <span class="k">else</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">right_select</span> <span class="ow">in</span> <span class="n">join_settings</span><span class="o">.</span><span class="n">join_input</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">renames</span><span class="p">:</span>
            <span class="n">right_select</span><span class="o">.</span><span class="n">is_available</span> <span class="o">=</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">right_select</span><span class="o">.</span><span class="n">old_name</span> <span class="ow">in</span> <span class="n">right</span><span class="o">.</span><span class="n">schema</span> <span class="k">else</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">main</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">join_input</span><span class="o">=</span><span class="n">join_settings</span><span class="o">.</span><span class="n">join_input</span><span class="p">,</span>
                         <span class="n">auto_generate_selection</span><span class="o">=</span><span class="n">join_settings</span><span class="o">.</span><span class="n">auto_generate_selection</span><span class="p">,</span>
                         <span class="n">verify_integrity</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                         <span class="n">other</span><span class="o">=</span><span class="n">right</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">join_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                       <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                       <span class="n">input_columns</span><span class="o">=</span><span class="p">[],</span>
                       <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;join&#39;</span><span class="p">,</span>
                       <span class="n">setting_input</span><span class="o">=</span><span class="n">join_settings</span><span class="p">,</span>
                       <span class="n">input_node_ids</span><span class="o">=</span><span class="n">join_settings</span><span class="o">.</span><span class="n">depending_on_ids</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_manual_input" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_manual_input</span><span class="p">(</span><span class="n">input_file</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a node for manual data entry.</p>
<p>This is a convenience alias for <code>add_datasource</code>.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>input_file</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodeManualInput (flowfile_core.schemas.input_schema.NodeManualInput)" href="#flowfile_core.schemas.input_schema.NodeManualInput">NodeManualInput</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings and data for the manual input node.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1559</span>
<span class="normal">1560</span>
<span class="normal">1561</span>
<span class="normal">1562</span>
<span class="normal">1563</span>
<span class="normal">1564</span>
<span class="normal">1565</span>
<span class="normal">1566</span>
<span class="normal">1567</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_manual_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_file</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeManualInput</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a node for manual data entry.</span>

<span class="sd">    This is a convenience alias for `add_datasource`.</span>

<span class="sd">    Args:</span>
<span class="sd">        input_file: The settings and data for the manual input node.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">add_datasource</span><span class="p">(</span><span class="n">input_file</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_node_promise" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_node_promise</span><span class="p">(</span><span class="n">node_promise</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a placeholder node to the graph that is not yet fully configured.</p>
<p>Useful for building the graph structure before all settings are available.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>node_promise</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodePromise (flowfile_core.schemas.input_schema.NodePromise)" href="#flowfile_core.schemas.input_schema.NodePromise">NodePromise</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A promise object containing basic node information.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_node_promise</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_promise</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodePromise</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a placeholder node to the graph that is not yet fully configured.</span>

<span class="sd">    Useful for building the graph structure before all settings are available.</span>

<span class="sd">    Args:</span>
<span class="sd">        node_promise: A promise object containing basic node information.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">placeholder</span><span class="p">(</span><span class="n">n</span><span class="p">:</span> <span class="n">FlowNode</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">n</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">node_promise</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span> <span class="n">node_type</span><span class="o">=</span><span class="n">node_promise</span><span class="o">.</span><span class="n">node_type</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="n">placeholder</span><span class="p">,</span>
                       <span class="n">setting_input</span><span class="o">=</span><span class="n">node_promise</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_node_step" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="p">,</span> <span class="n">function</span><span class="p">,</span> <span class="n">input_columns</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">output_schema</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">node_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">drop_columns</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">renew_schema</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">setting_input</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cache_results</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">schema_callback</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">input_node_ids</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>The core method for adding or updating a node in the graph.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>node_id</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="int">int</span>, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The unique ID for the node.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>function</code>
            </td>
            <td>
                  <code><span title="typing.Callable">Callable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core processing function for the node.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>input_columns</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of input column names required by the function.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>output_schema</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn">FlowfileColumn</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A predefined schema for the node's output.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>node_type</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string identifying the type of node (e.g., 'filter', 'join').</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>drop_columns</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of columns to be dropped after the function executes.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>renew_schema</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, the schema is recalculated after execution.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>setting_input</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A configuration object containing settings for the node.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>cache_results</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, the node's results are cached for future runs.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>schema_callback</code>
            </td>
            <td>
                  <code><span title="typing.Callable">Callable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A function that dynamically calculates the output schema.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>input_node_ids</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of IDs for the nodes that this node depends on.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_node.flow_node.FlowNode" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode">FlowNode</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The created or updated FlowNode object.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_node_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                  <span class="n">node_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
                  <span class="n">function</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span>
                  <span class="n">input_columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                  <span class="n">output_schema</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">FlowfileColumn</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                  <span class="n">node_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                  <span class="n">drop_columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                  <span class="n">renew_schema</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                  <span class="n">setting_input</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                  <span class="n">cache_results</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                  <span class="n">schema_callback</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                  <span class="n">input_node_ids</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowNode</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The core method for adding or updating a node in the graph.</span>

<span class="sd">    Args:</span>
<span class="sd">        node_id: The unique ID for the node.</span>
<span class="sd">        function: The core processing function for the node.</span>
<span class="sd">        input_columns: A list of input column names required by the function.</span>
<span class="sd">        output_schema: A predefined schema for the node&#39;s output.</span>
<span class="sd">        node_type: A string identifying the type of node (e.g., &#39;filter&#39;, &#39;join&#39;).</span>
<span class="sd">        drop_columns: A list of columns to be dropped after the function executes.</span>
<span class="sd">        renew_schema: If True, the schema is recalculated after execution.</span>
<span class="sd">        setting_input: A configuration object containing settings for the node.</span>
<span class="sd">        cache_results: If True, the node&#39;s results are cached for future runs.</span>
<span class="sd">        schema_callback: A function that dynamically calculates the output schema.</span>
<span class="sd">        input_node_ids: A list of IDs for the nodes that this node depends on.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created or updated FlowNode object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">existing_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">existing_node</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">existing_node</span><span class="o">.</span><span class="n">node_type</span> <span class="o">!=</span> <span class="n">node_type</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">delete_node</span><span class="p">(</span><span class="n">existing_node</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
            <span class="n">existing_node</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">existing_node</span><span class="p">:</span>
        <span class="n">input_nodes</span> <span class="o">=</span> <span class="n">existing_node</span><span class="o">.</span><span class="n">all_inputs</span>
    <span class="k">elif</span> <span class="n">input_node_ids</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">input_nodes</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span> <span class="k">for</span> <span class="n">node_id</span> <span class="ow">in</span> <span class="n">input_node_ids</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">input_nodes</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_columns</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">input_columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">input_columns</span><span class="p">]</span>
    <span class="k">if</span> <span class="p">(</span>
            <span class="n">input_nodes</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span>
            <span class="n">function</span><span class="o">.</span><span class="vm">__name__</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;placeholder&#39;</span><span class="p">,</span> <span class="s1">&#39;analysis_preparation&#39;</span><span class="p">)</span> <span class="ow">or</span>
            <span class="n">node_type</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;cloud_storage_reader&quot;</span><span class="p">,</span> <span class="s2">&quot;polars_lazy_frame&quot;</span><span class="p">,</span> <span class="s2">&quot;input_data&quot;</span><span class="p">)</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">existing_node</span><span class="p">:</span>
            <span class="n">node</span> <span class="o">=</span> <span class="n">FlowNode</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">node_id</span><span class="p">,</span>
                            <span class="n">function</span><span class="o">=</span><span class="n">function</span><span class="p">,</span>
                            <span class="n">output_schema</span><span class="o">=</span><span class="n">output_schema</span><span class="p">,</span>
                            <span class="n">input_columns</span><span class="o">=</span><span class="n">input_columns</span><span class="p">,</span>
                            <span class="n">drop_columns</span><span class="o">=</span><span class="n">drop_columns</span><span class="p">,</span>
                            <span class="n">renew_schema</span><span class="o">=</span><span class="n">renew_schema</span><span class="p">,</span>
                            <span class="n">setting_input</span><span class="o">=</span><span class="n">setting_input</span><span class="p">,</span>
                            <span class="n">node_type</span><span class="o">=</span><span class="n">node_type</span><span class="p">,</span>
                            <span class="n">name</span><span class="o">=</span><span class="n">function</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                            <span class="n">schema_callback</span><span class="o">=</span><span class="n">schema_callback</span><span class="p">,</span>
                            <span class="n">parent_uuid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">existing_node</span><span class="o">.</span><span class="n">update_node</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="n">function</span><span class="p">,</span>
                                      <span class="n">output_schema</span><span class="o">=</span><span class="n">output_schema</span><span class="p">,</span>
                                      <span class="n">input_columns</span><span class="o">=</span><span class="n">input_columns</span><span class="p">,</span>
                                      <span class="n">drop_columns</span><span class="o">=</span><span class="n">drop_columns</span><span class="p">,</span>
                                      <span class="n">setting_input</span><span class="o">=</span><span class="n">setting_input</span><span class="p">,</span>
                                      <span class="n">schema_callback</span><span class="o">=</span><span class="n">schema_callback</span><span class="p">)</span>
            <span class="n">node</span> <span class="o">=</span> <span class="n">existing_node</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;No data initialized&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_node_db</span><span class="p">[</span><span class="n">node_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_node_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">node</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_output" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_output</span><span class="p">(</span><span class="n">output_file</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds an output node to write the final data to a destination.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>output_file</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodeOutput (flowfile_core.schemas.input_schema.NodeOutput)" href="#flowfile_core.schemas.input_schema.NodeOutput">NodeOutput</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings for the output file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_output</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output_file</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeOutput</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds an output node to write the final data to a destination.</span>

<span class="sd">    Args:</span>
<span class="sd">        output_file: The settings for the output file.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">):</span>
        <span class="n">output_file</span><span class="o">.</span><span class="n">output_settings</span><span class="o">.</span><span class="n">populate_abs_file_path</span><span class="p">()</span>
        <span class="n">execute_remote</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">execution_location</span> <span class="o">!=</span> <span class="s1">&#39;local&#39;</span>
        <span class="n">df</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">output_fs</span><span class="o">=</span><span class="n">output_file</span><span class="o">.</span><span class="n">output_settings</span><span class="p">,</span> <span class="n">flow_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">node_id</span><span class="o">=</span><span class="n">output_file</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                  <span class="n">execute_remote</span><span class="o">=</span><span class="n">execute_remote</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">df</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">schema_callback</span><span class="p">():</span>
        <span class="n">input_node</span><span class="p">:</span> <span class="n">FlowNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">output_file</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">input_node</span><span class="o">.</span><span class="n">schema</span>
    <span class="n">input_node_id</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">output_file</span><span class="p">,</span> <span class="s2">&quot;depending_on_id&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">output_file</span><span class="p">,</span> <span class="s1">&#39;depending_on_id&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">output_file</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                       <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                       <span class="n">input_columns</span><span class="o">=</span><span class="p">[],</span>
                       <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;output&#39;</span><span class="p">,</span>
                       <span class="n">setting_input</span><span class="o">=</span><span class="n">output_file</span><span class="p">,</span>
                       <span class="n">schema_callback</span><span class="o">=</span><span class="n">schema_callback</span><span class="p">,</span>
                       <span class="n">input_node_ids</span><span class="o">=</span><span class="p">[</span><span class="n">input_node_id</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_pivot" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_pivot</span><span class="p">(</span><span class="n">pivot_settings</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a pivot node to the graph.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>pivot_settings</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodePivot (flowfile_core.schemas.input_schema.NodePivot)" href="#flowfile_core.schemas.input_schema.NodePivot">NodePivot</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings for the pivot operation.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_pivot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pivot_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodePivot</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a pivot node to the graph.</span>

<span class="sd">    Args:</span>
<span class="sd">        pivot_settings: The settings for the pivot operation.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">fl</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">fl</span><span class="o">.</span><span class="n">do_pivot</span><span class="p">(</span><span class="n">pivot_settings</span><span class="o">.</span><span class="n">pivot_input</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">get_node_logger</span><span class="p">(</span><span class="n">pivot_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">))</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">pivot_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                       <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                       <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;pivot&#39;</span><span class="p">,</span>
                       <span class="n">setting_input</span><span class="o">=</span><span class="n">pivot_settings</span><span class="p">,</span>
                       <span class="n">input_node_ids</span><span class="o">=</span><span class="p">[</span><span class="n">pivot_settings</span><span class="o">.</span><span class="n">depending_on_id</span><span class="p">])</span>

    <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">pivot_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">schema_callback</span><span class="p">():</span>
        <span class="n">input_data</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">singular_main_input</span><span class="o">.</span><span class="n">get_resulting_data</span><span class="p">()</span>  <span class="c1"># get from the previous step the data</span>
        <span class="n">input_data</span><span class="o">.</span><span class="n">lazy</span> <span class="o">=</span> <span class="kc">True</span>  <span class="c1"># ensure the dataset is lazy</span>
        <span class="n">input_lf</span> <span class="o">=</span> <span class="n">input_data</span><span class="o">.</span><span class="n">data_frame</span>  <span class="c1"># get the lazy frame</span>
        <span class="k">return</span> <span class="n">pre_calculate_pivot_schema</span><span class="p">(</span><span class="n">input_data</span><span class="o">.</span><span class="n">schema</span><span class="p">,</span> <span class="n">pivot_settings</span><span class="o">.</span><span class="n">pivot_input</span><span class="p">,</span> <span class="n">input_lf</span><span class="o">=</span><span class="n">input_lf</span><span class="p">)</span>
    <span class="n">node</span><span class="o">.</span><span class="n">schema_callback</span> <span class="o">=</span> <span class="n">schema_callback</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_polars_code" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_polars_code</span><span class="p">(</span><span class="n">node_polars_code</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a node that executes custom Polars code.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>node_polars_code</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodePolarsCode (flowfile_core.schemas.input_schema.NodePolarsCode)" href="#flowfile_core.schemas.input_schema.NodePolarsCode">NodePolarsCode</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings for the Polars code node.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_polars_code</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_polars_code</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodePolarsCode</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a node that executes custom Polars code.</span>

<span class="sd">    Args:</span>
<span class="sd">        node_polars_code: The settings for the Polars code node.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="o">*</span><span class="n">flowfile_tables</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">execute_polars_code</span><span class="p">(</span><span class="o">*</span><span class="n">flowfile_tables</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="n">node_polars_code</span><span class="o">.</span><span class="n">polars_code_input</span><span class="o">.</span><span class="n">polars_code</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">node_polars_code</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                       <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                       <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;polars_code&#39;</span><span class="p">,</span>
                       <span class="n">setting_input</span><span class="o">=</span><span class="n">node_polars_code</span><span class="p">,</span>
                       <span class="n">input_node_ids</span><span class="o">=</span><span class="n">node_polars_code</span><span class="o">.</span><span class="n">depending_on_ids</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">polars_code_parser</span><span class="o">.</span><span class="n">validate_code</span><span class="p">(</span><span class="n">node_polars_code</span><span class="o">.</span><span class="n">polars_code_input</span><span class="o">.</span><span class="n">polars_code</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">node_polars_code</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
        <span class="n">node</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_read" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_read</span><span class="p">(</span><span class="n">input_file</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a node to read data from a local file (e.g., CSV, Parquet, Excel).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>input_file</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodeRead (flowfile_core.schemas.input_schema.NodeRead)" href="#flowfile_core.schemas.input_schema.NodeRead">NodeRead</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings for the read operation.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span>
<span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span>
<span class="normal">1476</span>
<span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span>
<span class="normal">1496</span>
<span class="normal">1497</span>
<span class="normal">1498</span>
<span class="normal">1499</span>
<span class="normal">1500</span>
<span class="normal">1501</span>
<span class="normal">1502</span>
<span class="normal">1503</span>
<span class="normal">1504</span>
<span class="normal">1505</span>
<span class="normal">1506</span>
<span class="normal">1507</span>
<span class="normal">1508</span>
<span class="normal">1509</span>
<span class="normal">1510</span>
<span class="normal">1511</span>
<span class="normal">1512</span>
<span class="normal">1513</span>
<span class="normal">1514</span>
<span class="normal">1515</span>
<span class="normal">1516</span>
<span class="normal">1517</span>
<span class="normal">1518</span>
<span class="normal">1519</span>
<span class="normal">1520</span>
<span class="normal">1521</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_file</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeRead</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a node to read data from a local file (e.g., CSV, Parquet, Excel).</span>

<span class="sd">    Args:</span>
<span class="sd">        input_file: The settings for the read operation.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span><span class="o">.</span><span class="n">file_type</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;xlsx&#39;</span><span class="p">,</span> <span class="s1">&#39;excel&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span><span class="o">.</span><span class="n">sheet_name</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
        <span class="n">sheet_name</span> <span class="o">=</span> <span class="n">fastexcel</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span><span class="o">.</span><span class="n">path</span><span class="p">)</span><span class="o">.</span><span class="n">sheet_names</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span><span class="o">.</span><span class="n">sheet_name</span> <span class="o">=</span> <span class="n">sheet_name</span>

    <span class="n">received_file</span> <span class="o">=</span> <span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span>
    <span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span><span class="o">.</span><span class="n">set_absolute_filepath</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">():</span>
        <span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span><span class="o">.</span><span class="n">set_absolute_filepath</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span><span class="o">.</span><span class="n">file_type</span> <span class="o">==</span> <span class="s1">&#39;parquet&#39;</span><span class="p">:</span>
            <span class="n">input_data</span> <span class="o">=</span> <span class="n">FlowDataEngine</span><span class="o">.</span><span class="n">create_from_path</span><span class="p">(</span><span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span><span class="o">.</span><span class="n">file_type</span> <span class="o">==</span> <span class="s1">&#39;csv&#39;</span> <span class="ow">and</span> <span class="s1">&#39;utf&#39;</span> <span class="ow">in</span> <span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span><span class="o">.</span><span class="n">encoding</span><span class="p">:</span>
            <span class="n">input_data</span> <span class="o">=</span> <span class="n">FlowDataEngine</span><span class="o">.</span><span class="n">create_from_path</span><span class="p">(</span><span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">input_data</span> <span class="o">=</span> <span class="n">FlowDataEngine</span><span class="o">.</span><span class="n">create_from_path_worker</span><span class="p">(</span><span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span><span class="p">,</span>
                                                                <span class="n">node_id</span><span class="o">=</span><span class="n">input_file</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                                                                <span class="n">flow_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">flow_id</span><span class="p">)</span>
        <span class="n">input_data</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span><span class="o">.</span><span class="n">name</span>
        <span class="k">return</span> <span class="n">input_data</span>

    <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">input_file</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
    <span class="n">schema_callback</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">node</span><span class="p">:</span>
        <span class="n">start_hash</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">hash</span>
        <span class="n">node</span><span class="o">.</span><span class="n">node_type</span> <span class="o">=</span> <span class="s1">&#39;read&#39;</span>
        <span class="n">node</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;read&#39;</span>
        <span class="n">node</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="n">_func</span>
        <span class="n">node</span><span class="o">.</span><span class="n">setting_input</span> <span class="o">=</span> <span class="n">input_file</span>
        <span class="k">if</span> <span class="n">input_file</span><span class="o">.</span><span class="n">node_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">start_node</span><span class="o">.</span><span class="n">node_id</span> <span class="k">for</span> <span class="n">start_node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">start_hash</span> <span class="o">!=</span> <span class="n">node</span><span class="o">.</span><span class="n">hash</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Hash changed, updating schema&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">received_file</span><span class="o">.</span><span class="n">fields</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="c1"># If the file has fields defined, we can use them to create the schema</span>
                <span class="k">def</span><span class="w"> </span><span class="nf">schema_callback</span><span class="p">():</span>
                    <span class="k">return</span> <span class="p">[</span><span class="n">FlowfileColumn</span><span class="o">.</span><span class="n">from_input</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">f</span><span class="o">.</span><span class="n">data_type</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">received_file</span><span class="o">.</span><span class="n">fields</span><span class="p">]</span>

            <span class="k">elif</span> <span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span><span class="o">.</span><span class="n">file_type</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;csv&#39;</span><span class="p">,</span> <span class="s1">&#39;json&#39;</span><span class="p">,</span> <span class="s1">&#39;parquet&#39;</span><span class="p">):</span>
                <span class="c1"># everything that can be scanned by polars</span>
                <span class="k">def</span><span class="w"> </span><span class="nf">schema_callback</span><span class="p">():</span>
                    <span class="n">input_data</span> <span class="o">=</span> <span class="n">FlowDataEngine</span><span class="o">.</span><span class="n">create_from_path</span><span class="p">(</span><span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span><span class="p">)</span>
                    <span class="k">return</span> <span class="n">input_data</span><span class="o">.</span><span class="n">schema</span>

            <span class="k">elif</span> <span class="n">input_file</span><span class="o">.</span><span class="n">received_file</span><span class="o">.</span><span class="n">file_type</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;xlsx&#39;</span><span class="p">,</span> <span class="s1">&#39;excel&#39;</span><span class="p">):</span>
                <span class="c1"># If the file is an Excel file, we need to use the openpyxl engine to read the schema</span>
                <span class="n">schema_callback</span> <span class="o">=</span> <span class="n">get_xlsx_schema_callback</span><span class="p">(</span><span class="n">engine</span><span class="o">=</span><span class="s1">&#39;openpyxl&#39;</span><span class="p">,</span>
                                                           <span class="n">file_path</span><span class="o">=</span><span class="n">received_file</span><span class="o">.</span><span class="n">file_path</span><span class="p">,</span>
                                                           <span class="n">sheet_name</span><span class="o">=</span><span class="n">received_file</span><span class="o">.</span><span class="n">sheet_name</span><span class="p">,</span>
                                                           <span class="n">start_row</span><span class="o">=</span><span class="n">received_file</span><span class="o">.</span><span class="n">start_row</span><span class="p">,</span>
                                                           <span class="n">end_row</span><span class="o">=</span><span class="n">received_file</span><span class="o">.</span><span class="n">end_row</span><span class="p">,</span>
                                                           <span class="n">start_column</span><span class="o">=</span><span class="n">received_file</span><span class="o">.</span><span class="n">start_column</span><span class="p">,</span>
                                                           <span class="n">end_column</span><span class="o">=</span><span class="n">received_file</span><span class="o">.</span><span class="n">end_column</span><span class="p">,</span>
                                                           <span class="n">has_headers</span><span class="o">=</span><span class="n">received_file</span><span class="o">.</span><span class="n">has_headers</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">schema_callback</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">FlowNode</span><span class="p">(</span><span class="n">input_file</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                        <span class="n">setting_input</span><span class="o">=</span><span class="n">input_file</span><span class="p">,</span>
                        <span class="n">name</span><span class="o">=</span><span class="s1">&#39;read&#39;</span><span class="p">,</span> <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;read&#39;</span><span class="p">,</span> <span class="n">parent_uuid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_node_db</span><span class="p">[</span><span class="n">input_file</span><span class="o">.</span><span class="n">node_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_node_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">input_file</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">schema_callback</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">node</span><span class="o">.</span><span class="n">schema_callback</span> <span class="o">=</span> <span class="n">schema_callback</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_record_count" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_record_count</span><span class="p">(</span><span class="n">node_number_of_records</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a filter node to the graph.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>node_number_of_records</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodeRecordCount (flowfile_core.schemas.input_schema.NodeRecordCount)" href="#flowfile_core.schemas.input_schema.NodeRecordCount">NodeRecordCount</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings for the record count operation.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_record_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_number_of_records</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeRecordCount</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a filter node to the graph.</span>

<span class="sd">    Args:</span>
<span class="sd">        node_number_of_records: The settings for the record count operation.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">fl</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">fl</span><span class="o">.</span><span class="n">get_record_count</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">node_number_of_records</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                       <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                       <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;record_count&#39;</span><span class="p">,</span>
                       <span class="n">setting_input</span><span class="o">=</span><span class="n">node_number_of_records</span><span class="p">,</span>
                       <span class="n">input_node_ids</span><span class="o">=</span><span class="p">[</span><span class="n">node_number_of_records</span><span class="o">.</span><span class="n">depending_on_id</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_record_id" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_record_id</span><span class="p">(</span><span class="n">record_id_settings</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a node to create a new column with a unique ID for each record.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>record_id_settings</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodeRecordId (flowfile_core.schemas.input_schema.NodeRecordId)" href="#flowfile_core.schemas.input_schema.NodeRecordId">NodeRecordId</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings object specifying the name of the
new record ID column.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_graph.FlowGraph" href="#flowfile_core.flowfile.flow_graph.FlowGraph">FlowGraph</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The <code>FlowGraph</code> instance for method chaining.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_record_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeRecordId</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowGraph&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a node to create a new column with a unique ID for each record.</span>

<span class="sd">    Args:</span>
<span class="sd">        record_id_settings: The settings object specifying the name of the</span>
<span class="sd">            new record ID column.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The `FlowGraph` instance for method chaining.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">table</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">table</span><span class="o">.</span><span class="n">add_record_id</span><span class="p">(</span><span class="n">record_id_settings</span><span class="o">.</span><span class="n">record_id_input</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">record_id_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                       <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                       <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;record_id&#39;</span><span class="p">,</span>
                       <span class="n">setting_input</span><span class="o">=</span><span class="n">record_id_settings</span><span class="p">,</span>
                       <span class="n">input_node_ids</span><span class="o">=</span><span class="p">[</span><span class="n">record_id_settings</span><span class="o">.</span><span class="n">depending_on_id</span><span class="p">]</span>
                       <span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_sample" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_sample</span><span class="p">(</span><span class="n">sample_settings</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a node to take a random or top-N sample of the data.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>sample_settings</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodeSample (flowfile_core.schemas.input_schema.NodeSample)" href="#flowfile_core.schemas.input_schema.NodeSample">NodeSample</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings object specifying the size of the sample.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_graph.FlowGraph" href="#flowfile_core.flowfile.flow_graph.FlowGraph">FlowGraph</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The <code>FlowGraph</code> instance for method chaining.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_sample</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sample_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeSample</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowGraph&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a node to take a random or top-N sample of the data.</span>

<span class="sd">    Args:</span>
<span class="sd">        sample_settings: The settings object specifying the size of the sample.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The `FlowGraph` instance for method chaining.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">table</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">table</span><span class="o">.</span><span class="n">get_sample</span><span class="p">(</span><span class="n">sample_settings</span><span class="o">.</span><span class="n">sample_size</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">sample_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                       <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                       <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;sample&#39;</span><span class="p">,</span>
                       <span class="n">setting_input</span><span class="o">=</span><span class="n">sample_settings</span><span class="p">,</span>
                       <span class="n">input_node_ids</span><span class="o">=</span><span class="p">[</span><span class="n">sample_settings</span><span class="o">.</span><span class="n">depending_on_id</span><span class="p">]</span>
                       <span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_select" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_select</span><span class="p">(</span><span class="n">select_settings</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a node to select, rename, reorder, or drop columns.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>select_settings</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodeSelect (flowfile_core.schemas.input_schema.NodeSelect)" href="#flowfile_core.schemas.input_schema.NodeSelect">NodeSelect</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings for the select operation.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_graph.FlowGraph" href="#flowfile_core.flowfile.flow_graph.FlowGraph">FlowGraph</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The <code>FlowGraph</code> instance for method chaining.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span>
<span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span>
<span class="normal">961</span>
<span class="normal">962</span>
<span class="normal">963</span>
<span class="normal">964</span>
<span class="normal">965</span>
<span class="normal">966</span>
<span class="normal">967</span>
<span class="normal">968</span>
<span class="normal">969</span>
<span class="normal">970</span>
<span class="normal">971</span>
<span class="normal">972</span>
<span class="normal">973</span>
<span class="normal">974</span>
<span class="normal">975</span>
<span class="normal">976</span>
<span class="normal">977</span>
<span class="normal">978</span>
<span class="normal">979</span>
<span class="normal">980</span>
<span class="normal">981</span>
<span class="normal">982</span>
<span class="normal">983</span>
<span class="normal">984</span>
<span class="normal">985</span>
<span class="normal">986</span>
<span class="normal">987</span>
<span class="normal">988</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeSelect</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowGraph&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a node to select, rename, reorder, or drop columns.</span>

<span class="sd">    Args:</span>
<span class="sd">        select_settings: The settings for the select operation.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The `FlowGraph` instance for method chaining.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">select_cols</span> <span class="o">=</span> <span class="n">select_settings</span><span class="o">.</span><span class="n">select_input</span>
    <span class="n">drop_cols</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">old_name</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">select_settings</span><span class="o">.</span><span class="n">select_input</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">table</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span><span class="p">:</span>
        <span class="n">input_cols</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">table</span><span class="o">.</span><span class="n">schema</span><span class="p">)</span>
        <span class="n">ids_to_remove</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">select_col</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">select_cols</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">select_col</span><span class="o">.</span><span class="n">data_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">select_col</span><span class="o">.</span><span class="n">data_type</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">get_schema_column</span><span class="p">(</span><span class="n">select_col</span><span class="o">.</span><span class="n">old_name</span><span class="p">)</span><span class="o">.</span><span class="n">data_type</span>
            <span class="k">if</span> <span class="n">select_col</span><span class="o">.</span><span class="n">old_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">input_cols</span><span class="p">:</span>
                <span class="n">select_col</span><span class="o">.</span><span class="n">is_available</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">select_col</span><span class="o">.</span><span class="n">keep</span><span class="p">:</span>
                    <span class="n">ids_to_remove</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">select_col</span><span class="o">.</span><span class="n">is_available</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">ids_to_remove</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">ids_to_remove</span><span class="p">:</span>
            <span class="n">v</span> <span class="o">=</span> <span class="n">select_cols</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="k">del</span> <span class="n">v</span>
        <span class="k">return</span> <span class="n">table</span><span class="o">.</span><span class="n">do_select</span><span class="p">(</span><span class="n">select_inputs</span><span class="o">=</span><span class="n">transform_schema</span><span class="o">.</span><span class="n">SelectInputs</span><span class="p">(</span><span class="n">select_cols</span><span class="p">),</span>
                               <span class="n">keep_missing</span><span class="o">=</span><span class="n">select_settings</span><span class="o">.</span><span class="n">keep_missing</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">select_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                       <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                       <span class="n">input_columns</span><span class="o">=</span><span class="p">[],</span>
                       <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;select&#39;</span><span class="p">,</span>
                       <span class="n">drop_columns</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">drop_cols</span><span class="p">),</span>
                       <span class="n">setting_input</span><span class="o">=</span><span class="n">select_settings</span><span class="p">,</span>
                       <span class="n">input_node_ids</span><span class="o">=</span><span class="p">[</span><span class="n">select_settings</span><span class="o">.</span><span class="n">depending_on_id</span><span class="p">])</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_sort" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_sort</span><span class="p">(</span><span class="n">sort_settings</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a node to sort the data based on one or more columns.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>sort_settings</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodeSort (flowfile_core.schemas.input_schema.NodeSort)" href="#flowfile_core.schemas.input_schema.NodeSort">NodeSort</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings for the sort operation.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_graph.FlowGraph" href="#flowfile_core.flowfile.flow_graph.FlowGraph">FlowGraph</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The <code>FlowGraph</code> instance for method chaining.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_sort</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sort_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeSort</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowGraph&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a node to sort the data based on one or more columns.</span>

<span class="sd">    Args:</span>
<span class="sd">        sort_settings: The settings for the sort operation.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The `FlowGraph` instance for method chaining.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">table</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">table</span><span class="o">.</span><span class="n">do_sort</span><span class="p">(</span><span class="n">sort_settings</span><span class="o">.</span><span class="n">sort_input</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">sort_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                       <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                       <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;sort&#39;</span><span class="p">,</span>
                       <span class="n">setting_input</span><span class="o">=</span><span class="n">sort_settings</span><span class="p">,</span>
                       <span class="n">input_node_ids</span><span class="o">=</span><span class="p">[</span><span class="n">sort_settings</span><span class="o">.</span><span class="n">depending_on_id</span><span class="p">])</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_sql_source" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_sql_source</span><span class="p">(</span><span class="n">external_source_input</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a node that reads data from a SQL source.</p>
<p>This is a convenience alias for <code>add_external_source</code>.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>external_source_input</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodeExternalSource (flowfile_core.schemas.input_schema.NodeExternalSource)" href="#flowfile_core.schemas.input_schema.NodeExternalSource">NodeExternalSource</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings for the external SQL source node.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_sql_source</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">external_source_input</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeExternalSource</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a node that reads data from a SQL source.</span>

<span class="sd">    This is a convenience alias for `add_external_source`.</span>

<span class="sd">    Args:</span>
<span class="sd">        external_source_input: The settings for the external SQL source node.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Adding sql source&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">add_external_source</span><span class="p">(</span><span class="n">external_source_input</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_text_to_rows" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_text_to_rows</span><span class="p">(</span><span class="n">node_text_to_rows</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a node that splits cell values into multiple rows.</p>
<p>This is useful for un-nesting data where a single field contains multiple
values separated by a delimiter.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>node_text_to_rows</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodeTextToRows (flowfile_core.schemas.input_schema.NodeTextToRows)" href="#flowfile_core.schemas.input_schema.NodeTextToRows">NodeTextToRows</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings object that specifies the column to split
and the delimiter to use.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_graph.FlowGraph" href="#flowfile_core.flowfile.flow_graph.FlowGraph">FlowGraph</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The <code>FlowGraph</code> instance for method chaining.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_text_to_rows</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_text_to_rows</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeTextToRows</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowGraph&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a node that splits cell values into multiple rows.</span>

<span class="sd">    This is useful for un-nesting data where a single field contains multiple</span>
<span class="sd">    values separated by a delimiter.</span>

<span class="sd">    Args:</span>
<span class="sd">        node_text_to_rows: The settings object that specifies the column to split</span>
<span class="sd">            and the delimiter to use.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The `FlowGraph` instance for method chaining.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">table</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">table</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">node_text_to_rows</span><span class="o">.</span><span class="n">text_to_rows_input</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">node_text_to_rows</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                       <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                       <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;text_to_rows&#39;</span><span class="p">,</span>
                       <span class="n">setting_input</span><span class="o">=</span><span class="n">node_text_to_rows</span><span class="p">,</span>
                       <span class="n">input_node_ids</span><span class="o">=</span><span class="p">[</span><span class="n">node_text_to_rows</span><span class="o">.</span><span class="n">depending_on_id</span><span class="p">])</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_union" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_union</span><span class="p">(</span><span class="n">union_settings</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a union node to combine multiple data streams.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>union_settings</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodeUnion (flowfile_core.schemas.input_schema.NodeUnion)" href="#flowfile_core.schemas.input_schema.NodeUnion">NodeUnion</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings for the union operation.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_union</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">union_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeUnion</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a union node to combine multiple data streams.</span>

<span class="sd">    Args:</span>
<span class="sd">        union_settings: The settings for the union operation.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="o">*</span><span class="n">flowfile_tables</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">):</span>
        <span class="n">dfs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">pl</span><span class="o">.</span><span class="n">LazyFrame</span><span class="p">]</span> <span class="o">|</span> <span class="n">List</span><span class="p">[</span><span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">flt</span><span class="o">.</span><span class="n">data_frame</span> <span class="k">for</span> <span class="n">flt</span> <span class="ow">in</span> <span class="n">flowfile_tables</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">dfs</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;diagonal_relaxed&#39;</span><span class="p">))</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">union_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                       <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                       <span class="n">node_type</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;union&#39;</span><span class="p">,</span>
                       <span class="n">setting_input</span><span class="o">=</span><span class="n">union_settings</span><span class="p">,</span>
                       <span class="n">input_node_ids</span><span class="o">=</span><span class="n">union_settings</span><span class="o">.</span><span class="n">depending_on_ids</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_unique" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_unique</span><span class="p">(</span><span class="n">unique_settings</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a node to find and remove duplicate rows.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>unique_settings</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodeUnique (flowfile_core.schemas.input_schema.NodeUnique)" href="#flowfile_core.schemas.input_schema.NodeUnique">NodeUnique</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings for the unique operation.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_unique</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">unique_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeUnique</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a node to find and remove duplicate rows.</span>

<span class="sd">    Args:</span>
<span class="sd">        unique_settings: The settings for the unique operation.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">fl</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">fl</span><span class="o">.</span><span class="n">make_unique</span><span class="p">(</span><span class="n">unique_settings</span><span class="o">.</span><span class="n">unique_input</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">unique_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                       <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                       <span class="n">input_columns</span><span class="o">=</span><span class="p">[],</span>
                       <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;unique&#39;</span><span class="p">,</span>
                       <span class="n">setting_input</span><span class="o">=</span><span class="n">unique_settings</span><span class="p">,</span>
                       <span class="n">input_node_ids</span><span class="o">=</span><span class="p">[</span><span class="n">unique_settings</span><span class="o">.</span><span class="n">depending_on_id</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.add_unpivot" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_unpivot</span><span class="p">(</span><span class="n">unpivot_settings</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds an unpivot node to the graph.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>unpivot_settings</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodeUnpivot (flowfile_core.schemas.input_schema.NodeUnpivot)" href="#flowfile_core.schemas.input_schema.NodeUnpivot">NodeUnpivot</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings for the unpivot operation.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_unpivot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">unpivot_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeUnpivot</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds an unpivot node to the graph.</span>

<span class="sd">    Args:</span>
<span class="sd">        unpivot_settings: The settings for the unpivot operation.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_func</span><span class="p">(</span><span class="n">fl</span><span class="p">:</span> <span class="n">FlowDataEngine</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">fl</span><span class="o">.</span><span class="n">unpivot</span><span class="p">(</span><span class="n">unpivot_settings</span><span class="o">.</span><span class="n">unpivot_input</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">add_node_step</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">unpivot_settings</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                       <span class="n">function</span><span class="o">=</span><span class="n">_func</span><span class="p">,</span>
                       <span class="n">node_type</span><span class="o">=</span><span class="s1">&#39;unpivot&#39;</span><span class="p">,</span>
                       <span class="n">setting_input</span><span class="o">=</span><span class="n">unpivot_settings</span><span class="p">,</span>
                       <span class="n">input_node_ids</span><span class="o">=</span><span class="p">[</span><span class="n">unpivot_settings</span><span class="o">.</span><span class="n">depending_on_id</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.apply_layout" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">apply_layout</span><span class="p">(</span><span class="n">y_spacing</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span> <span class="n">x_spacing</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">initial_y</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Calculates and applies a layered layout to all nodes in the graph.</p>
<p>This updates their x and y positions for UI rendering.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>y_spacing</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The vertical spacing between layers.</p>
              </div>
            </td>
            <td>
                  <code>150</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>x_spacing</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The horizontal spacing between nodes in the same layer.</p>
              </div>
            </td>
            <td>
                  <code>200</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>initial_y</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The initial y-position for the first layer.</p>
              </div>
            </td>
            <td>
                  <code>100</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">apply_layout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">y_spacing</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">150</span><span class="p">,</span> <span class="n">x_spacing</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span> <span class="n">initial_y</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculates and applies a layered layout to all nodes in the graph.</span>

<span class="sd">    This updates their x and y positions for UI rendering.</span>

<span class="sd">    Args:</span>
<span class="sd">        y_spacing: The vertical spacing between layers.</span>
<span class="sd">        x_spacing: The horizontal spacing between nodes in the same layer.</span>
<span class="sd">        initial_y: The initial y-position for the first layer.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Applying layered layout...&quot;</span><span class="p">)</span>
    <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Calculate new positions for all nodes</span>
        <span class="n">new_positions</span> <span class="o">=</span> <span class="n">calculate_layered_layout</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">y_spacing</span><span class="o">=</span><span class="n">y_spacing</span><span class="p">,</span> <span class="n">x_spacing</span><span class="o">=</span><span class="n">x_spacing</span><span class="p">,</span> <span class="n">initial_y</span><span class="o">=</span><span class="n">initial_y</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">new_positions</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Layout calculation returned no positions.&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="c1"># Apply the new positions to the setting_input of each node</span>
        <span class="n">updated_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">node_id</span><span class="p">,</span> <span class="p">(</span><span class="n">pos_x</span><span class="p">,</span> <span class="n">pos_y</span><span class="p">)</span> <span class="ow">in</span> <span class="n">new_positions</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">node</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;setting_input&#39;</span><span class="p">):</span>
                <span class="n">setting</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">setting_input</span>
                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">setting</span><span class="p">,</span> <span class="s1">&#39;pos_x&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">setting</span><span class="p">,</span> <span class="s1">&#39;pos_y&#39;</span><span class="p">):</span>
                    <span class="n">setting</span><span class="o">.</span><span class="n">pos_x</span> <span class="o">=</span> <span class="n">pos_x</span>
                    <span class="n">setting</span><span class="o">.</span><span class="n">pos_y</span> <span class="o">=</span> <span class="n">pos_y</span>
                    <span class="n">updated_count</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Node </span><span class="si">{</span><span class="n">node_id</span><span class="si">}</span><span class="s2"> setting_input (</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">setting</span><span class="p">)</span><span class="si">}</span><span class="s2">) lacks pos_x/pos_y attributes.&quot;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">node</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Node </span><span class="si">{</span><span class="n">node_id</span><span class="si">}</span><span class="s2"> lacks setting_input attribute.&quot;</span><span class="p">)</span>
            <span class="c1"># else: Node not found, already warned by calculate_layered_layout</span>

        <span class="n">end_time</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Layout applied to </span><span class="si">{</span><span class="n">updated_count</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span><span class="si">}</span><span class="s2"> nodes in </span><span class="si">{</span><span class="n">end_time</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">start_time</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> seconds.&quot;</span><span class="p">)</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error applying layout: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">raise</span>  <span class="c1"># Optional: re-raise the exception</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.cancel" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">cancel</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Cancels an ongoing graph execution.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1826</span>
<span class="normal">1827</span>
<span class="normal">1828</span>
<span class="normal">1829</span>
<span class="normal">1830</span>
<span class="normal">1831</span>
<span class="normal">1832</span>
<span class="normal">1833</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">cancel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Cancels an ongoing graph execution.&quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_canceled</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
        <span class="n">node</span><span class="o">.</span><span class="n">cancel</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.close_flow" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">close_flow</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Performs cleanup operations, such as clearing node caches.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1835</span>
<span class="normal">1836</span>
<span class="normal">1837</span>
<span class="normal">1838</span>
<span class="normal">1839</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">close_flow</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Performs cleanup operations, such as clearing node caches.&quot;&quot;&quot;</span>

    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
        <span class="n">node</span><span class="o">.</span><span class="n">remove_cache</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.copy_node" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">copy_node</span><span class="p">(</span><span class="n">new_node_settings</span><span class="p">,</span> <span class="n">existing_setting_input</span><span class="p">,</span> <span class="n">node_type</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Creates a copy of an existing node.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>new_node_settings</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodePromise (flowfile_core.schemas.input_schema.NodePromise)" href="#flowfile_core.schemas.input_schema.NodePromise">NodePromise</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The promise containing new settings (like ID and position).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>existing_setting_input</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings object from the node being copied.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>node_type</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type of the node being copied.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1954</span>
<span class="normal">1955</span>
<span class="normal">1956</span>
<span class="normal">1957</span>
<span class="normal">1958</span>
<span class="normal">1959</span>
<span class="normal">1960</span>
<span class="normal">1961</span>
<span class="normal">1962</span>
<span class="normal">1963</span>
<span class="normal">1964</span>
<span class="normal">1965</span>
<span class="normal">1966</span>
<span class="normal">1967</span>
<span class="normal">1968</span>
<span class="normal">1969</span>
<span class="normal">1970</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">copy_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_node_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodePromise</span><span class="p">,</span> <span class="n">existing_setting_input</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">node_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a copy of an existing node.</span>

<span class="sd">    Args:</span>
<span class="sd">        new_node_settings: The promise containing new settings (like ID and position).</span>
<span class="sd">        existing_setting_input: The settings object from the node being copied.</span>
<span class="sd">        node_type: The type of the node being copied.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">add_node_promise</span><span class="p">(</span><span class="n">new_node_settings</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">existing_setting_input</span><span class="p">,</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodePromise</span><span class="p">):</span>
        <span class="k">return</span>

    <span class="n">combined_settings</span> <span class="o">=</span> <span class="n">combine_existing_settings_and_new_settings</span><span class="p">(</span>
        <span class="n">existing_setting_input</span><span class="p">,</span> <span class="n">new_node_settings</span>
    <span class="p">)</span>
    <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;add_</span><span class="si">{</span><span class="n">node_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)(</span><span class="n">combined_settings</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.delete_node" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">delete_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Deletes a node from the graph and updates all its connections.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>node_id</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="int">int</span>, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the node to delete.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="Exception">Exception</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the node with the given ID does not exist.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">delete_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a node from the graph and updates all its connections.</span>

<span class="sd">    Args:</span>
<span class="sd">        node_id: The ID of the node to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        Exception: If the node with the given ID does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Starting deletion of node with ID: </span><span class="si">{</span><span class="n">node_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_node_db</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">node</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found node: </span><span class="si">{</span><span class="n">node_id</span><span class="si">}</span><span class="s2">, processing deletion&quot;</span><span class="p">)</span>

        <span class="n">lead_to_steps</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">FlowNode</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">leads_to_nodes</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Node </span><span class="si">{</span><span class="n">node_id</span><span class="si">}</span><span class="s2"> leads to </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">lead_to_steps</span><span class="p">)</span><span class="si">}</span><span class="s2"> other nodes&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">lead_to_steps</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">lead_to_step</span> <span class="ow">in</span> <span class="n">lead_to_steps</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Deleting input node </span><span class="si">{</span><span class="n">node_id</span><span class="si">}</span><span class="s2"> from dependent node </span><span class="si">{</span><span class="n">lead_to_step</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">lead_to_step</span><span class="o">.</span><span class="n">delete_input_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">,</span> <span class="n">complete</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">node</span><span class="o">.</span><span class="n">is_start</span><span class="p">:</span>
            <span class="n">depends_on</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">FlowNode</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">get_all_inputs</span><span class="p">()</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Node </span><span class="si">{</span><span class="n">node_id</span><span class="si">}</span><span class="s2"> depends on </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">depends_on</span><span class="p">)</span><span class="si">}</span><span class="s2"> other nodes&quot;</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">depend_on</span> <span class="ow">in</span> <span class="n">depends_on</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Removing lead_to reference </span><span class="si">{</span><span class="n">node_id</span><span class="si">}</span><span class="s2"> from node </span><span class="si">{</span><span class="n">depend_on</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">depend_on</span><span class="o">.</span><span class="n">delete_lead_to_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_node_db</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Successfully removed node </span><span class="si">{</span><span class="n">node_id</span><span class="si">}</span><span class="s2"> from node_db&quot;</span><span class="p">)</span>
        <span class="k">del</span> <span class="n">node</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Node object deleted&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to find node with id </span><span class="si">{</span><span class="n">node_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Node with id </span><span class="si">{</span><span class="n">node_id</span><span class="si">}</span><span class="s2"> does not exist&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.generate_code" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">generate_code</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Generates code for the flow graph.
This method exports the flow graph to a Polars-compatible format.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1972</span>
<span class="normal">1973</span>
<span class="normal">1974</span>
<span class="normal">1975</span>
<span class="normal">1976</span>
<span class="normal">1977</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">generate_code</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates code for the flow graph.</span>
<span class="sd">    This method exports the flow graph to a Polars-compatible format.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">flowfile_core.flowfile.code_generator.code_generator</span><span class="w"> </span><span class="kn">import</span> <span class="n">export_flow_to_polars</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">export_flow_to_polars</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.get_frontend_data" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_frontend_data</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Formats the graph structure into a JSON-like dictionary for a specific legacy frontend.</p>
<p>This method transforms the graph's state into a format compatible with the
Drawflow.js library.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary representing the graph in Drawflow format.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1857</span>
<span class="normal">1858</span>
<span class="normal">1859</span>
<span class="normal">1860</span>
<span class="normal">1861</span>
<span class="normal">1862</span>
<span class="normal">1863</span>
<span class="normal">1864</span>
<span class="normal">1865</span>
<span class="normal">1866</span>
<span class="normal">1867</span>
<span class="normal">1868</span>
<span class="normal">1869</span>
<span class="normal">1870</span>
<span class="normal">1871</span>
<span class="normal">1872</span>
<span class="normal">1873</span>
<span class="normal">1874</span>
<span class="normal">1875</span>
<span class="normal">1876</span>
<span class="normal">1877</span>
<span class="normal">1878</span>
<span class="normal">1879</span>
<span class="normal">1880</span>
<span class="normal">1881</span>
<span class="normal">1882</span>
<span class="normal">1883</span>
<span class="normal">1884</span>
<span class="normal">1885</span>
<span class="normal">1886</span>
<span class="normal">1887</span>
<span class="normal">1888</span>
<span class="normal">1889</span>
<span class="normal">1890</span>
<span class="normal">1891</span>
<span class="normal">1892</span>
<span class="normal">1893</span>
<span class="normal">1894</span>
<span class="normal">1895</span>
<span class="normal">1896</span>
<span class="normal">1897</span>
<span class="normal">1898</span>
<span class="normal">1899</span>
<span class="normal">1900</span>
<span class="normal">1901</span>
<span class="normal">1902</span>
<span class="normal">1903</span>
<span class="normal">1904</span>
<span class="normal">1905</span>
<span class="normal">1906</span>
<span class="normal">1907</span>
<span class="normal">1908</span>
<span class="normal">1909</span>
<span class="normal">1910</span>
<span class="normal">1911</span>
<span class="normal">1912</span>
<span class="normal">1913</span>
<span class="normal">1914</span>
<span class="normal">1915</span>
<span class="normal">1916</span>
<span class="normal">1917</span>
<span class="normal">1918</span>
<span class="normal">1919</span>
<span class="normal">1920</span>
<span class="normal">1921</span>
<span class="normal">1922</span>
<span class="normal">1923</span>
<span class="normal">1924</span>
<span class="normal">1925</span>
<span class="normal">1926</span>
<span class="normal">1927</span>
<span class="normal">1928</span>
<span class="normal">1929</span>
<span class="normal">1930</span>
<span class="normal">1931</span>
<span class="normal">1932</span>
<span class="normal">1933</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_frontend_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Formats the graph structure into a JSON-like dictionary for a specific legacy frontend.</span>

<span class="sd">    This method transforms the graph&#39;s state into a format compatible with the</span>
<span class="sd">    Drawflow.js library.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dictionary representing the graph in Drawflow format.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;Home&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{}</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="n">flow_info</span><span class="p">:</span> <span class="n">schemas</span><span class="o">.</span><span class="n">FlowInformation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node_storage</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">node_id</span><span class="p">,</span> <span class="n">node_info</span> <span class="ow">in</span> <span class="n">flow_info</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">node_info</span><span class="o">.</span><span class="n">is_setup</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">pos_x</span> <span class="o">=</span> <span class="n">node_info</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">pos_x</span>
                <span class="n">pos_y</span> <span class="o">=</span> <span class="n">node_info</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">pos_y</span>
                <span class="c1"># Basic node structure</span>
                <span class="n">result</span><span class="p">[</span><span class="s2">&quot;Home&quot;</span><span class="p">][</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="nb">str</span><span class="p">(</span><span class="n">node_id</span><span class="p">)]</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">node_info</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">node_info</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
                    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{},</span>  <span class="c1"># Additional data can go here</span>
                    <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="n">node_info</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
                    <span class="s2">&quot;html&quot;</span><span class="p">:</span> <span class="n">node_info</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
                    <span class="s2">&quot;typenode&quot;</span><span class="p">:</span> <span class="s2">&quot;vue&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{},</span>
                    <span class="s2">&quot;outputs&quot;</span><span class="p">:</span> <span class="p">{},</span>
                    <span class="s2">&quot;pos_x&quot;</span><span class="p">:</span> <span class="n">pos_x</span><span class="p">,</span>
                    <span class="s2">&quot;pos_y&quot;</span><span class="p">:</span> <span class="n">pos_y</span>
                <span class="p">}</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="c1"># Add outputs to the node based on `outputs` in your backend data</span>
        <span class="k">if</span> <span class="n">node_info</span><span class="o">.</span><span class="n">outputs</span><span class="p">:</span>
            <span class="n">outputs</span> <span class="o">=</span> <span class="p">{</span><span class="n">o</span><span class="p">:</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">node_info</span><span class="o">.</span><span class="n">outputs</span><span class="p">}</span>
            <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">node_info</span><span class="o">.</span><span class="n">outputs</span><span class="p">:</span>
                <span class="n">outputs</span><span class="p">[</span><span class="n">o</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">connections</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">output_node_id</span><span class="p">,</span> <span class="n">n_connections</span> <span class="ow">in</span> <span class="n">outputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">leading_to_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">output_node_id</span><span class="p">)</span>
                <span class="n">input_types</span> <span class="o">=</span> <span class="n">leading_to_node</span><span class="o">.</span><span class="n">get_input_type</span><span class="p">(</span><span class="n">node_info</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">input_type</span> <span class="ow">in</span> <span class="n">input_types</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">input_type</span> <span class="o">==</span> <span class="s1">&#39;main&#39;</span><span class="p">:</span>
                        <span class="n">input_frontend_id</span> <span class="o">=</span> <span class="s1">&#39;input_1&#39;</span>
                    <span class="k">elif</span> <span class="n">input_type</span> <span class="o">==</span> <span class="s1">&#39;right&#39;</span><span class="p">:</span>
                        <span class="n">input_frontend_id</span> <span class="o">=</span> <span class="s1">&#39;input_2&#39;</span>
                    <span class="k">elif</span> <span class="n">input_type</span> <span class="o">==</span> <span class="s1">&#39;left&#39;</span><span class="p">:</span>
                        <span class="n">input_frontend_id</span> <span class="o">=</span> <span class="s1">&#39;input_3&#39;</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">input_frontend_id</span> <span class="o">=</span> <span class="s1">&#39;input_1&#39;</span>
                    <span class="n">connection</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;node&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">output_node_id</span><span class="p">),</span> <span class="s2">&quot;input&quot;</span><span class="p">:</span> <span class="n">input_frontend_id</span><span class="p">}</span>
                    <span class="n">connections</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">connection</span><span class="p">)</span>

            <span class="n">result</span><span class="p">[</span><span class="s2">&quot;Home&quot;</span><span class="p">][</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="nb">str</span><span class="p">(</span><span class="n">node_id</span><span class="p">)][</span><span class="s2">&quot;outputs&quot;</span><span class="p">][</span><span class="s2">&quot;output_1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;connections&quot;</span><span class="p">:</span> <span class="n">connections</span><span class="p">}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span><span class="p">[</span><span class="s2">&quot;Home&quot;</span><span class="p">][</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="nb">str</span><span class="p">(</span><span class="n">node_id</span><span class="p">)][</span><span class="s2">&quot;outputs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;output_1&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;connections&quot;</span><span class="p">:</span> <span class="p">[]}}</span>

        <span class="c1"># Add input to the node based on `depending_on_id` in your backend data</span>
        <span class="k">if</span> <span class="n">node_info</span><span class="o">.</span><span class="n">left_input_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">node_info</span><span class="o">.</span><span class="n">right_input_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">node_info</span><span class="o">.</span><span class="n">input_ids</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">main_inputs</span> <span class="o">=</span> <span class="n">node_info</span><span class="o">.</span><span class="n">main_input_ids</span>
            <span class="n">result</span><span class="p">[</span><span class="s2">&quot;Home&quot;</span><span class="p">][</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="nb">str</span><span class="p">(</span><span class="n">node_id</span><span class="p">)][</span><span class="s2">&quot;inputs&quot;</span><span class="p">][</span><span class="s2">&quot;input_1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;connections&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;node&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">main_node_id</span><span class="p">),</span> <span class="s2">&quot;input&quot;</span><span class="p">:</span> <span class="s2">&quot;output_1&quot;</span><span class="p">}</span> <span class="k">for</span> <span class="n">main_node_id</span> <span class="ow">in</span> <span class="n">main_inputs</span><span class="p">]</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="n">node_info</span><span class="o">.</span><span class="n">right_input_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">result</span><span class="p">[</span><span class="s2">&quot;Home&quot;</span><span class="p">][</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="nb">str</span><span class="p">(</span><span class="n">node_id</span><span class="p">)][</span><span class="s2">&quot;inputs&quot;</span><span class="p">][</span><span class="s2">&quot;input_2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;connections&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;node&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">node_info</span><span class="o">.</span><span class="n">right_input_id</span><span class="p">),</span> <span class="s2">&quot;input&quot;</span><span class="p">:</span> <span class="s2">&quot;output_1&quot;</span><span class="p">}]</span>
                <span class="p">}</span>
            <span class="k">if</span> <span class="n">node_info</span><span class="o">.</span><span class="n">left_input_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">result</span><span class="p">[</span><span class="s2">&quot;Home&quot;</span><span class="p">][</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="nb">str</span><span class="p">(</span><span class="n">node_id</span><span class="p">)][</span><span class="s2">&quot;inputs&quot;</span><span class="p">][</span><span class="s2">&quot;input_3&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;connections&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;node&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">node_info</span><span class="o">.</span><span class="n">left_input_id</span><span class="p">),</span> <span class="s2">&quot;input&quot;</span><span class="p">:</span> <span class="s2">&quot;output_1&quot;</span><span class="p">}]</span>
                <span class="p">}</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.get_implicit_starter_nodes" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_implicit_starter_nodes</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Finds nodes that can act as starting points but are not explicitly defined as such.</p>
<p>Some nodes, like the Polars Code node, can function without an input. This
method identifies such nodes if they have no incoming connections.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_node.flow_node.FlowNode" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode">FlowNode</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of <code>FlowNode</code> objects that are implicit starting nodes.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1580</span>
<span class="normal">1581</span>
<span class="normal">1582</span>
<span class="normal">1583</span>
<span class="normal">1584</span>
<span class="normal">1585</span>
<span class="normal">1586</span>
<span class="normal">1587</span>
<span class="normal">1588</span>
<span class="normal">1589</span>
<span class="normal">1590</span>
<span class="normal">1591</span>
<span class="normal">1592</span>
<span class="normal">1593</span>
<span class="normal">1594</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_implicit_starter_nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlowNode</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Finds nodes that can act as starting points but are not explicitly defined as such.</span>

<span class="sd">    Some nodes, like the Polars Code node, can function without an input. This</span>
<span class="sd">    method identifies such nodes if they have no incoming connections.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of `FlowNode` objects that are implicit starting nodes.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">starting_node_ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">node</span><span class="o">.</span><span class="n">node_id</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="p">]</span>
    <span class="n">implicit_starting_nodes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">node_template</span><span class="o">.</span><span class="n">can_be_start</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">node</span><span class="o">.</span><span class="n">has_input</span> <span class="ow">and</span> <span class="n">node</span><span class="o">.</span><span class="n">node_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">starting_node_ids</span><span class="p">:</span>
            <span class="n">implicit_starting_nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">implicit_starting_nodes</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.get_node" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_node</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Retrieves a node from the graph by its ID.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>node_id</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="int">int</span>, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the node to retrieve. If None, retrieves the last added node.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_node.flow_node.FlowNode" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode">FlowNode</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The FlowNode object, or None if not found.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowNode</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieves a node from the graph by its ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        node_id: The ID of the node to retrieve. If None, retrieves the last added node.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The FlowNode object, or None if not found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">node_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">node_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_node_ids</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_node_db</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">node</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">node</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.get_node_data" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_node_data</span><span class="p">(</span><span class="n">node_id</span><span class="p">,</span> <span class="n">include_example</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Retrieves all data needed to render a node in the UI.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>node_id</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the node.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>include_example</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to include data samples in the result.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodeData (flowfile_core.schemas.output_model.NodeData)" href="#flowfile_core.schemas.output_model.NodeData">NodeData</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A NodeData object, or None if the node is not found.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1796</span>
<span class="normal">1797</span>
<span class="normal">1798</span>
<span class="normal">1799</span>
<span class="normal">1800</span>
<span class="normal">1801</span>
<span class="normal">1802</span>
<span class="normal">1803</span>
<span class="normal">1804</span>
<span class="normal">1805</span>
<span class="normal">1806</span>
<span class="normal">1807</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_node_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">include_example</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">NodeData</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieves all data needed to render a node in the UI.</span>

<span class="sd">    Args:</span>
<span class="sd">        node_id: The ID of the node.</span>
<span class="sd">        include_example: Whether to include data samples in the result.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A NodeData object, or None if the node is not found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_node_db</span><span class="p">[</span><span class="n">node_id</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">node</span><span class="o">.</span><span class="n">get_node_data</span><span class="p">(</span><span class="n">flow_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">include_example</span><span class="o">=</span><span class="n">include_example</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.get_node_storage" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_node_storage</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Serializes the entire graph's state into a storable format.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            FlowInformation (flowfile_core.schemas.schemas.FlowInformation)" href="#flowfile_core.schemas.schemas.FlowInformation">FlowInformation</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A FlowInformation object representing the complete graph.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1809</span>
<span class="normal">1810</span>
<span class="normal">1811</span>
<span class="normal">1812</span>
<span class="normal">1813</span>
<span class="normal">1814</span>
<span class="normal">1815</span>
<span class="normal">1816</span>
<span class="normal">1817</span>
<span class="normal">1818</span>
<span class="normal">1819</span>
<span class="normal">1820</span>
<span class="normal">1821</span>
<span class="normal">1822</span>
<span class="normal">1823</span>
<span class="normal">1824</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_node_storage</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">schemas</span><span class="o">.</span><span class="n">FlowInformation</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Serializes the entire graph&#39;s state into a storable format.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A FlowInformation object representing the complete graph.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">node_information</span> <span class="o">=</span> <span class="p">{</span><span class="n">node</span><span class="o">.</span><span class="n">node_id</span><span class="p">:</span> <span class="n">node</span><span class="o">.</span><span class="n">get_node_information</span><span class="p">()</span> <span class="k">for</span>
                        <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span> <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">is_setup</span> <span class="ow">and</span> <span class="n">node</span><span class="o">.</span><span class="n">is_correct</span><span class="p">}</span>

    <span class="k">return</span> <span class="n">schemas</span><span class="o">.</span><span class="n">FlowInformation</span><span class="p">(</span><span class="n">flow_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">flow_id</span><span class="p">,</span>
                                   <span class="n">flow_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                                   <span class="n">flow_settings</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="p">,</span>
                                   <span class="n">data</span><span class="o">=</span><span class="n">node_information</span><span class="p">,</span>
                                   <span class="n">node_starts</span><span class="o">=</span><span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">node_id</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="p">],</span>
                                   <span class="n">node_connections</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_connections</span>
                                   <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.get_nodes_overview" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_nodes_overview</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Gets a list of dictionary representations for all nodes in the graph.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_nodes_overview</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a list of dictionary representations for all nodes in the graph.&quot;&quot;&quot;</span>
    <span class="n">output</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_node_db</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">get_repr</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">output</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.get_run_info" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_run_info</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Gets a summary of the most recent graph execution.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            RunInformation (flowfile_core.schemas.output_model.RunInformation)" href="#flowfile_core.schemas.output_model.RunInformation">RunInformation</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A RunInformation object with details about the last run.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1760</span>
<span class="normal">1761</span>
<span class="normal">1762</span>
<span class="normal">1763</span>
<span class="normal">1764</span>
<span class="normal">1765</span>
<span class="normal">1766</span>
<span class="normal">1767</span>
<span class="normal">1768</span>
<span class="normal">1769</span>
<span class="normal">1770</span>
<span class="normal">1771</span>
<span class="normal">1772</span>
<span class="normal">1773</span>
<span class="normal">1774</span>
<span class="normal">1775</span>
<span class="normal">1776</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_run_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RunInformation</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a summary of the most recent graph execution.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A RunInformation object with details about the last run.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">is_running</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_running</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">latest_run_info</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="k">elif</span> <span class="ow">not</span> <span class="n">is_running</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">latest_run_info</span><span class="o">.</span><span class="n">success</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">latest_run_info</span>

    <span class="n">run_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">latest_run_info</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">is_running</span><span class="p">:</span>
        <span class="n">run_info</span><span class="o">.</span><span class="n">success</span> <span class="o">=</span> <span class="nb">all</span><span class="p">(</span><span class="n">nr</span><span class="o">.</span><span class="n">success</span> <span class="k">for</span> <span class="n">nr</span> <span class="ow">in</span> <span class="n">run_info</span><span class="o">.</span><span class="n">node_step_result</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">run_info</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.get_vue_flow_input" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_vue_flow_input</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Formats the graph's nodes and edges into a schema suitable for the VueFlow frontend.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            VueFlowInput (flowfile_core.schemas.schemas.VueFlowInput)" href="#flowfile_core.schemas.schemas.VueFlowInput">VueFlowInput</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A VueFlowInput object.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1935</span>
<span class="normal">1936</span>
<span class="normal">1937</span>
<span class="normal">1938</span>
<span class="normal">1939</span>
<span class="normal">1940</span>
<span class="normal">1941</span>
<span class="normal">1942</span>
<span class="normal">1943</span>
<span class="normal">1944</span>
<span class="normal">1945</span>
<span class="normal">1946</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_vue_flow_input</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">schemas</span><span class="o">.</span><span class="n">VueFlowInput</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Formats the graph&#39;s nodes and edges into a schema suitable for the VueFlow frontend.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A VueFlowInput object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">edges</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">schemas</span><span class="o">.</span><span class="n">NodeEdge</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">nodes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">schemas</span><span class="o">.</span><span class="n">NodeInput</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
        <span class="n">nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">get_node_input</span><span class="p">())</span>
        <span class="n">edges</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">get_edge_input</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">schemas</span><span class="o">.</span><span class="n">VueFlowInput</span><span class="p">(</span><span class="n">node_edges</span><span class="o">=</span><span class="n">edges</span><span class="p">,</span> <span class="n">node_inputs</span><span class="o">=</span><span class="n">nodes</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.print_tree" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">print_tree</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Print flow_graph as a visual tree structure, showing the DAG relationships with ASCII art.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">print_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Print flow_graph as a visual tree structure, showing the DAG relationships with ASCII art.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_node_db</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Empty flow graph&quot;</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="c1"># Build node information</span>
    <span class="n">node_info</span> <span class="o">=</span> <span class="n">build_node_info</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span>

    <span class="c1"># Calculate depths for all nodes</span>
    <span class="k">for</span> <span class="n">node_id</span> <span class="ow">in</span> <span class="n">node_info</span><span class="p">:</span>
        <span class="n">calculate_depth</span><span class="p">(</span><span class="n">node_id</span><span class="p">,</span> <span class="n">node_info</span><span class="p">)</span>

    <span class="c1"># Group nodes by depth</span>
    <span class="n">depth_groups</span><span class="p">,</span> <span class="n">max_depth</span> <span class="o">=</span> <span class="n">group_nodes_by_depth</span><span class="p">(</span><span class="n">node_info</span><span class="p">)</span>

    <span class="c1"># Sort nodes within each depth group</span>
    <span class="k">for</span> <span class="n">depth</span> <span class="ow">in</span> <span class="n">depth_groups</span><span class="p">:</span>
        <span class="n">depth_groups</span><span class="p">[</span><span class="n">depth</span><span class="p">]</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>

    <span class="c1"># Create the main flow visualization</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="mi">80</span><span class="p">,</span> <span class="s2">&quot;Flow Graph Visualization&quot;</span><span class="p">,</span> <span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="mi">80</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">]</span>

    <span class="c1"># Track which nodes connect to what</span>
    <span class="n">merge_points</span> <span class="o">=</span> <span class="n">define_node_connections</span><span class="p">(</span><span class="n">node_info</span><span class="p">)</span>

    <span class="c1"># Build the flow paths</span>

    <span class="c1"># Find the maximum label length for each depth level</span>
    <span class="n">max_label_length</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">depth</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">max_depth</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">depth</span> <span class="ow">in</span> <span class="n">depth_groups</span><span class="p">:</span>
            <span class="n">max_len</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">node_info</span><span class="p">[</span><span class="n">nid</span><span class="p">]</span><span class="o">.</span><span class="n">label</span><span class="p">)</span> <span class="k">for</span> <span class="n">nid</span> <span class="ow">in</span> <span class="n">depth_groups</span><span class="p">[</span><span class="n">depth</span><span class="p">])</span>
            <span class="n">max_label_length</span><span class="p">[</span><span class="n">depth</span><span class="p">]</span> <span class="o">=</span> <span class="n">max_len</span>

    <span class="c1"># Draw the paths</span>
    <span class="n">drawn_nodes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="n">merge_drawn</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

    <span class="c1"># Group paths by their merge points</span>
    <span class="n">paths_by_merge</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">standalone_paths</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># Build flow paths</span>
    <span class="n">paths</span> <span class="o">=</span> <span class="n">build_flow_paths</span><span class="p">(</span><span class="n">node_info</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="p">,</span> <span class="n">merge_points</span><span class="p">)</span>

    <span class="c1"># Define paths to merge and standalone paths</span>
    <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">paths</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">path</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="n">merge_points</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">merge_points</span><span class="p">[</span><span class="n">path</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]])</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">merge_id</span> <span class="o">=</span> <span class="n">path</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">merge_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">paths_by_merge</span><span class="p">:</span>
                <span class="n">paths_by_merge</span><span class="p">[</span><span class="n">merge_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">paths_by_merge</span><span class="p">[</span><span class="n">merge_id</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">standalone_paths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

    <span class="c1"># Draw merged paths</span>
    <span class="n">draw_merged_paths</span><span class="p">(</span><span class="n">node_info</span><span class="p">,</span> <span class="n">merge_points</span><span class="p">,</span> <span class="n">paths_by_merge</span><span class="p">,</span> <span class="n">merge_drawn</span><span class="p">,</span> <span class="n">drawn_nodes</span><span class="p">,</span> <span class="n">lines</span><span class="p">)</span>

    <span class="c1"># Draw standlone paths</span>
    <span class="n">draw_standalone_paths</span><span class="p">(</span><span class="n">drawn_nodes</span><span class="p">,</span> <span class="n">standalone_paths</span><span class="p">,</span> <span class="n">lines</span><span class="p">,</span> <span class="n">node_info</span><span class="p">)</span>

    <span class="c1"># Add undrawn nodes</span>
    <span class="n">add_un_drawn_nodes</span><span class="p">(</span><span class="n">drawn_nodes</span><span class="p">,</span> <span class="n">node_info</span><span class="p">,</span> <span class="n">lines</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">skip_nodes</span><span class="p">,</span> <span class="n">ordered_nodes</span> <span class="o">=</span> <span class="n">compute_execution_plan</span><span class="p">(</span>
            <span class="n">nodes</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">,</span>
            <span class="n">flow_starts</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">get_implicit_starter_nodes</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">ordered_nodes</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">node</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">ordered_nodes</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
                <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">i</span><span class="si">:</span><span class="s2">3d</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">node_info</span><span class="p">[</span><span class="n">node</span><span class="o">.</span><span class="n">node_id</span><span class="p">]</span><span class="o">.</span><span class="n">label</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Could not determine execution order: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Print everything</span>
    <span class="n">output</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.remove_from_output_cols" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">remove_from_output_cols</span><span class="p">(</span><span class="n">columns</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Removes specified columns from the list of expected output columns.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>columns</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of column names to remove.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">remove_from_output_cols</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Removes specified columns from the list of expected output columns.</span>

<span class="sd">    Args:</span>
<span class="sd">        columns: A list of column names to remove.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cols</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">columns</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_output_cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_output_cols</span> <span class="k">if</span> <span class="n">c</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">cols</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.reset" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">reset</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Forces a deep reset on all nodes in the graph.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1948</span>
<span class="normal">1949</span>
<span class="normal">1950</span>
<span class="normal">1951</span>
<span class="normal">1952</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Forces a deep reset on all nodes in the graph.&quot;&quot;&quot;</span>

    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
        <span class="n">node</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.run_graph" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">run_graph</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Executes the entire data flow graph from start to finish.</p>
<p>It determines the correct execution order, runs each node,
collects results, and handles errors and cancellations.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            RunInformation (flowfile_core.schemas.output_model.RunInformation)" href="#flowfile_core.schemas.output_model.RunInformation">RunInformation</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A RunInformation object summarizing the execution results.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="Exception">Exception</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the flow is already running.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1681</span>
<span class="normal">1682</span>
<span class="normal">1683</span>
<span class="normal">1684</span>
<span class="normal">1685</span>
<span class="normal">1686</span>
<span class="normal">1687</span>
<span class="normal">1688</span>
<span class="normal">1689</span>
<span class="normal">1690</span>
<span class="normal">1691</span>
<span class="normal">1692</span>
<span class="normal">1693</span>
<span class="normal">1694</span>
<span class="normal">1695</span>
<span class="normal">1696</span>
<span class="normal">1697</span>
<span class="normal">1698</span>
<span class="normal">1699</span>
<span class="normal">1700</span>
<span class="normal">1701</span>
<span class="normal">1702</span>
<span class="normal">1703</span>
<span class="normal">1704</span>
<span class="normal">1705</span>
<span class="normal">1706</span>
<span class="normal">1707</span>
<span class="normal">1708</span>
<span class="normal">1709</span>
<span class="normal">1710</span>
<span class="normal">1711</span>
<span class="normal">1712</span>
<span class="normal">1713</span>
<span class="normal">1714</span>
<span class="normal">1715</span>
<span class="normal">1716</span>
<span class="normal">1717</span>
<span class="normal">1718</span>
<span class="normal">1719</span>
<span class="normal">1720</span>
<span class="normal">1721</span>
<span class="normal">1722</span>
<span class="normal">1723</span>
<span class="normal">1724</span>
<span class="normal">1725</span>
<span class="normal">1726</span>
<span class="normal">1727</span>
<span class="normal">1728</span>
<span class="normal">1729</span>
<span class="normal">1730</span>
<span class="normal">1731</span>
<span class="normal">1732</span>
<span class="normal">1733</span>
<span class="normal">1734</span>
<span class="normal">1735</span>
<span class="normal">1736</span>
<span class="normal">1737</span>
<span class="normal">1738</span>
<span class="normal">1739</span>
<span class="normal">1740</span>
<span class="normal">1741</span>
<span class="normal">1742</span>
<span class="normal">1743</span>
<span class="normal">1744</span>
<span class="normal">1745</span>
<span class="normal">1746</span>
<span class="normal">1747</span>
<span class="normal">1748</span>
<span class="normal">1749</span>
<span class="normal">1750</span>
<span class="normal">1751</span>
<span class="normal">1752</span>
<span class="normal">1753</span>
<span class="normal">1754</span>
<span class="normal">1755</span>
<span class="normal">1756</span>
<span class="normal">1757</span>
<span class="normal">1758</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">run_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RunInformation</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Executes the entire data flow graph from start to finish.</span>

<span class="sd">    It determines the correct execution order, runs each node,</span>
<span class="sd">    collects results, and handles errors and cancellations.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A RunInformation object summarizing the execution results.</span>

<span class="sd">    Raises:</span>
<span class="sd">        Exception: If the flow is already running.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Flow is already running&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_running</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_canceled</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">clear_log_file</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Starting to run flowfile flow...&#39;</span><span class="p">)</span>

        <span class="n">skip_nodes</span><span class="p">,</span> <span class="n">execution_order</span> <span class="o">=</span> <span class="n">compute_execution_plan</span><span class="p">(</span>
            <span class="n">nodes</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">,</span>
            <span class="n">flow_starts</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_flow_starts</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">get_implicit_starter_nodes</span><span class="p">()</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">latest_run_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_initial_run_information</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">execution_order</span><span class="p">),</span> <span class="s2">&quot;full_run&quot;</span><span class="p">)</span>

        <span class="n">skip_node_message</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="p">,</span> <span class="n">skip_nodes</span><span class="p">)</span>
        <span class="n">execution_order_message</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="p">,</span> <span class="n">execution_order</span><span class="p">)</span>
        <span class="n">performance_mode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">execution_mode</span> <span class="o">==</span> <span class="s1">&#39;Performance&#39;</span>

        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">execution_order</span><span class="p">:</span>
            <span class="n">node_logger</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">get_node_logger</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_canceled</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Flow canceled&#39;</span><span class="p">)</span>
                <span class="k">break</span>
            <span class="k">if</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">skip_nodes</span><span class="p">:</span>
                <span class="n">node_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Skipping node </span><span class="si">{</span><span class="n">node</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="k">continue</span>
            <span class="n">node_result</span> <span class="o">=</span> <span class="n">NodeResult</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span> <span class="n">node_name</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">latest_run_info</span><span class="o">.</span><span class="n">node_step_result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node_result</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Starting to run: node </span><span class="si">{</span><span class="n">node</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">, start time: </span><span class="si">{</span><span class="n">node_result</span><span class="o">.</span><span class="n">start_timestamp</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">node</span><span class="o">.</span><span class="n">execute_node</span><span class="p">(</span><span class="n">run_location</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">execution_location</span><span class="p">,</span>
                              <span class="n">performance_mode</span><span class="o">=</span><span class="n">performance_mode</span><span class="p">,</span>
                              <span class="n">node_logger</span><span class="o">=</span><span class="n">node_logger</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">node_result</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span><span class="p">)</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_canceled</span><span class="p">:</span>
                    <span class="n">node_result</span><span class="o">.</span><span class="n">success</span> <span class="o">=</span> <span class="kc">None</span>
                    <span class="n">node_result</span><span class="o">.</span><span class="n">success</span> <span class="o">=</span> <span class="kc">None</span>
                    <span class="n">node_result</span><span class="o">.</span><span class="n">is_running</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="k">continue</span>
                <span class="n">node_result</span><span class="o">.</span><span class="n">success</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="ow">is</span> <span class="kc">None</span>
                <span class="n">node_result</span><span class="o">.</span><span class="n">end_timestamp</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
                <span class="n">node_result</span><span class="o">.</span><span class="n">run_time</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">node_result</span><span class="o">.</span><span class="n">end_timestamp</span> <span class="o">-</span> <span class="n">node_result</span><span class="o">.</span><span class="n">start_timestamp</span><span class="p">)</span>
                <span class="n">node_result</span><span class="o">.</span><span class="n">is_running</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">node_result</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="s1">&#39;Node did not run&#39;</span>
                <span class="n">node_result</span><span class="o">.</span><span class="n">success</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="n">node_result</span><span class="o">.</span><span class="n">end_timestamp</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
                <span class="n">node_result</span><span class="o">.</span><span class="n">run_time</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">node_result</span><span class="o">.</span><span class="n">end_timestamp</span> <span class="o">-</span> <span class="n">node_result</span><span class="o">.</span><span class="n">start_timestamp</span><span class="p">)</span>
                <span class="n">node_result</span><span class="o">.</span><span class="n">is_running</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="n">node_logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Error in node </span><span class="si">{</span><span class="n">node</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">node_result</span><span class="o">.</span><span class="n">success</span><span class="p">:</span>
                <span class="n">skip_nodes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">get_all_dependent_nodes</span><span class="p">()))</span>
            <span class="n">node_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Completed node with success: </span><span class="si">{</span><span class="n">node_result</span><span class="o">.</span><span class="n">success</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">latest_run_info</span><span class="o">.</span><span class="n">nodes_completed</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Flow completed!&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end_datetime</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_running</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_canceled</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Flow canceled&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_run_info</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">e</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_running</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.save_flow" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">save_flow</span><span class="p">(</span><span class="n">flow_path</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Saves the current state of the flow graph to a file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>flow_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path where the flow file will be saved.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1841</span>
<span class="normal">1842</span>
<span class="normal">1843</span>
<span class="normal">1844</span>
<span class="normal">1845</span>
<span class="normal">1846</span>
<span class="normal">1847</span>
<span class="normal">1848</span>
<span class="normal">1849</span>
<span class="normal">1850</span>
<span class="normal">1851</span>
<span class="normal">1852</span>
<span class="normal">1853</span>
<span class="normal">1854</span>
<span class="normal">1855</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">save_flow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flow_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Saves the current state of the flow graph to a file.</span>

<span class="sd">    Args:</span>
<span class="sd">        flow_path: The path where the flow file will be saved.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Saving flow to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">flow_path</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">flow_path</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">flow_path</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_node_storage</span><span class="p">(),</span> <span class="n">f</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error saving flow: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">flow_path</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_graph.FlowGraph.trigger_fetch_node" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">trigger_fetch_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Executes a specific node in the graph by its ID.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_graph.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1639</span>
<span class="normal">1640</span>
<span class="normal">1641</span>
<span class="normal">1642</span>
<span class="normal">1643</span>
<span class="normal">1644</span>
<span class="normal">1645</span>
<span class="normal">1646</span>
<span class="normal">1647</span>
<span class="normal">1648</span>
<span class="normal">1649</span>
<span class="normal">1650</span>
<span class="normal">1651</span>
<span class="normal">1652</span>
<span class="normal">1653</span>
<span class="normal">1654</span>
<span class="normal">1655</span>
<span class="normal">1656</span>
<span class="normal">1657</span>
<span class="normal">1658</span>
<span class="normal">1659</span>
<span class="normal">1660</span>
<span class="normal">1661</span>
<span class="normal">1662</span>
<span class="normal">1663</span>
<span class="normal">1664</span>
<span class="normal">1665</span>
<span class="normal">1666</span>
<span class="normal">1667</span>
<span class="normal">1668</span>
<span class="normal">1669</span>
<span class="normal">1670</span>
<span class="normal">1671</span>
<span class="normal">1672</span>
<span class="normal">1673</span>
<span class="normal">1674</span>
<span class="normal">1675</span>
<span class="normal">1676</span>
<span class="normal">1677</span>
<span class="normal">1678</span>
<span class="normal">1679</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">trigger_fetch_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RunInformation</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Executes a specific node in the graph by its ID.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Flow is already running&quot;</span><span class="p">)</span>
    <span class="n">flow_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_running</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_canceled</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">clear_log_file</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">latest_run_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_initial_run_information</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;fetch_one&quot;</span><span class="p">)</span>
    <span class="n">node_logger</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">get_node_logger</span><span class="p">(</span><span class="n">flow_node</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
    <span class="n">node_result</span> <span class="o">=</span> <span class="n">NodeResult</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">flow_node</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span> <span class="n">node_name</span><span class="o">=</span><span class="n">flow_node</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Starting to run: node </span><span class="si">{</span><span class="n">flow_node</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">, start time: </span><span class="si">{</span><span class="n">node_result</span><span class="o">.</span><span class="n">start_timestamp</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">latest_run_info</span><span class="o">.</span><span class="n">node_step_result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node_result</span><span class="p">)</span>
        <span class="n">flow_node</span><span class="o">.</span><span class="n">execute_node</span><span class="p">(</span><span class="n">run_location</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">execution_location</span><span class="p">,</span>
                               <span class="n">performance_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                               <span class="n">node_logger</span><span class="o">=</span><span class="n">node_logger</span><span class="p">,</span>
                               <span class="n">optimize_for_downstream</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                               <span class="n">reset_cache</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">node_result</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">flow_node</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_canceled</span><span class="p">:</span>
            <span class="n">node_result</span><span class="o">.</span><span class="n">success</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">node_result</span><span class="o">.</span><span class="n">success</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">node_result</span><span class="o">.</span><span class="n">is_running</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">node_result</span><span class="o">.</span><span class="n">success</span> <span class="o">=</span> <span class="n">flow_node</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="n">node_result</span><span class="o">.</span><span class="n">end_timestamp</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
        <span class="n">node_result</span><span class="o">.</span><span class="n">run_time</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">node_result</span><span class="o">.</span><span class="n">end_timestamp</span> <span class="o">-</span> <span class="n">node_result</span><span class="o">.</span><span class="n">start_timestamp</span><span class="p">)</span>
        <span class="n">node_result</span><span class="o">.</span><span class="n">is_running</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">latest_run_info</span><span class="o">.</span><span class="n">nodes_completed</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">latest_run_info</span><span class="o">.</span><span class="n">end_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_running</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_run_info</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">node_result</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="s1">&#39;Node did not run&#39;</span>
        <span class="n">node_result</span><span class="o">.</span><span class="n">success</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">node_result</span><span class="o">.</span><span class="n">end_timestamp</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
        <span class="n">node_result</span><span class="o">.</span><span class="n">run_time</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">node_result</span><span class="o">.</span><span class="n">end_timestamp</span> <span class="o">-</span> <span class="n">node_result</span><span class="o">.</span><span class="n">start_timestamp</span><span class="p">)</span>
        <span class="n">node_result</span><span class="o">.</span><span class="n">is_running</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">node_logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Error in node </span><span class="si">{</span><span class="n">flow_node</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_running</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h3 id="flownode">FlowNode</h3>
<p>The <code>FlowNode</code> represents a single operation in the <code>FlowGraph</code>. Each node corresponds to a specific transformation or action, such as filtering or grouping data.</p>


<div class="doc doc-object doc-class">



<h4 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>flowfile_core.flowfile.flow_node.flow_node.FlowNode</code>


</h4>


    <div class="doc doc-contents first">


        <p>Represents a single node in a data flow graph.</p>
<p>This class manages the node's state, its data processing function,
and its connections to other nodes within the graph.</p>












<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            __call__(*args, **kwargs) (flowfile_core.flowfile.flow_node.flow_node.FlowNode.__call__)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.__call__">__call__</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Makes the node instance callable, acting as an alias for execute_node.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            __init__(node_id, function, parent_uuid, setting_input, name, node_type, input_columns=None, output_schema=None, drop_columns=None, renew_schema=True, pos_x=0, pos_y=0, schema_callback=None) (flowfile_core.flowfile.flow_node.flow_node.FlowNode.__init__)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.__init__">__init__</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Initializes a FlowNode instance.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            __repr__() (flowfile_core.flowfile.flow_node.flow_node.FlowNode.__repr__)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.__repr__">__repr__</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Provides a string representation of the FlowNode instance.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_lead_to_in_depend_source() (flowfile_core.flowfile.flow_node.flow_node.FlowNode.add_lead_to_in_depend_source)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.add_lead_to_in_depend_source">add_lead_to_in_depend_source</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Ensures this node is registered in the <code>leads_to_nodes</code> list of its inputs.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_node_connection(from_node, insert_type='main') (flowfile_core.flowfile.flow_node.flow_node.FlowNode.add_node_connection)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.add_node_connection">add_node_connection</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a connection from a source node to this node.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            calculate_hash(setting_input) (flowfile_core.flowfile.flow_node.flow_node.FlowNode.calculate_hash)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.calculate_hash">calculate_hash</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Calculates a hash based on settings and input node hashes.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            cancel() (flowfile_core.flowfile.flow_node.flow_node.FlowNode.cancel)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.cancel">cancel</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Cancels an ongoing external process if one is running.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            clear_table_example() (flowfile_core.flowfile.flow_node.flow_node.FlowNode.clear_table_example)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.clear_table_example">clear_table_example</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Clear the table example in the results so that it clears the existing results</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            create_schema_callback_from_function(f)

  
      staticmethod
   (flowfile_core.flowfile.flow_node.flow_node.FlowNode.create_schema_callback_from_function)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.create_schema_callback_from_function">create_schema_callback_from_function</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Wraps a node's function to create a schema callback that extracts the schema.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            delete_input_node(node_id, connection_type='input-0', complete=False) (flowfile_core.flowfile.flow_node.flow_node.FlowNode.delete_input_node)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.delete_input_node">delete_input_node</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Removes a connection from a specific input node.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            delete_lead_to_node(node_id) (flowfile_core.flowfile.flow_node.flow_node.FlowNode.delete_lead_to_node)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.delete_lead_to_node">delete_lead_to_node</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Removes a connection to a specific downstream node.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            evaluate_nodes(deep=False) (flowfile_core.flowfile.flow_node.flow_node.FlowNode.evaluate_nodes)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.evaluate_nodes">evaluate_nodes</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Triggers a state reset for all directly connected downstream nodes.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            execute_full_local(performance_mode=False) (flowfile_core.flowfile.flow_node.flow_node.FlowNode.execute_full_local)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.execute_full_local">execute_full_local</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Executes the node's logic locally, including example data generation.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            execute_local(flow_id, performance_mode=False) (flowfile_core.flowfile.flow_node.flow_node.FlowNode.execute_local)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.execute_local">execute_local</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Executes the node's logic locally.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            execute_node(run_location, reset_cache=False, performance_mode=False, retry=True, node_logger=None, optimize_for_downstream=True) (flowfile_core.flowfile.flow_node.flow_node.FlowNode.execute_node)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.execute_node">execute_node</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Orchestrates the execution, handling location, caching, and retries.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            execute_remote(performance_mode=False, node_logger=None) (flowfile_core.flowfile.flow_node.flow_node.FlowNode.execute_remote)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.execute_remote">execute_remote</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Executes the node's logic remotely or handles cached results.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_all_dependent_node_ids() (flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_all_dependent_node_ids)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_all_dependent_node_ids">get_all_dependent_node_ids</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Yields the IDs of all downstream nodes recursively.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_all_dependent_nodes() (flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_all_dependent_nodes)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_all_dependent_nodes">get_all_dependent_nodes</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Yields all downstream nodes recursively.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_edge_input() (flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_edge_input)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_edge_input">get_edge_input</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Generates <code>NodeEdge</code> objects for all input connections to this node.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_flow_file_column_schema(col_name) (flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_flow_file_column_schema)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_flow_file_column_schema">get_flow_file_column_schema</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Retrieves the schema for a specific column from the output schema.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_input_type(node_id) (flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_input_type)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_input_type">get_input_type</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Gets the type of connection ('main', 'left', 'right') for a given input node ID.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_node_data(flow_id, include_example=False) (flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_node_data)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_node_data">get_node_data</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Gathers all necessary data for representing the node in the UI.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_node_information() (flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_node_information)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_node_information">get_node_information</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Updates and returns the node's information object.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_node_input() (flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_node_input)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_node_input">get_node_input</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Creates a <code>NodeInput</code> schema object for representing this node in the UI.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_output_data() (flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_output_data)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_output_data">get_output_data</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Gets the full output data sample for this node.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_predicted_resulting_data() (flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_predicted_resulting_data)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_predicted_resulting_data">get_predicted_resulting_data</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Creates a <code>FlowDataEngine</code> instance based on the predicted schema.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_predicted_schema(force=False) (flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_predicted_schema)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_predicted_schema">get_predicted_schema</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Predicts the output schema of the node without full execution.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_repr() (flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_repr)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_repr">get_repr</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Gets a detailed dictionary representation of the node's state.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_resulting_data() (flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_resulting_data)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_resulting_data">get_resulting_data</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Executes the node's function to produce the actual output data.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_table_example(include_data=False) (flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_table_example)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_table_example">get_table_example</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Generates a <code>TableExample</code> model summarizing the node's output.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            needs_reset() (flowfile_core.flowfile.flow_node.flow_node.FlowNode.needs_reset)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.needs_reset">needs_reset</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Checks if the node's hash has changed, indicating an outdated state.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            needs_run(performance_mode, node_logger=None, execution_location='remote') (flowfile_core.flowfile.flow_node.flow_node.FlowNode.needs_run)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.needs_run">needs_run</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Determines if the node needs to be executed.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            post_init() (flowfile_core.flowfile.flow_node.flow_node.FlowNode.post_init)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.post_init">post_init</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Initializes or resets the node's attributes to their default states.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            prepare_before_run() (flowfile_core.flowfile.flow_node.flow_node.FlowNode.prepare_before_run)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.prepare_before_run">prepare_before_run</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Resets results and errors before a new execution.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            print(v) (flowfile_core.flowfile.flow_node.flow_node.FlowNode.print)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.print">print</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Helper method to log messages with node context.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            remove_cache() (flowfile_core.flowfile.flow_node.flow_node.FlowNode.remove_cache)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.remove_cache">remove_cache</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Removes cached results for this node.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            reset(deep=False) (flowfile_core.flowfile.flow_node.flow_node.FlowNode.reset)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.reset">reset</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Resets the node's execution state and schema information.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            set_node_information() (flowfile_core.flowfile.flow_node.flow_node.FlowNode.set_node_information)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.set_node_information">set_node_information</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Populates the <code>node_information</code> attribute with the current state.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            store_example_data_generator(external_df_fetcher) (flowfile_core.flowfile.flow_node.flow_node.FlowNode.store_example_data_generator)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.store_example_data_generator">store_example_data_generator</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Stores a generator function for fetching a sample of the result data.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            update_node(function, input_columns=None, output_schema=None, drop_columns=None, name=None, setting_input=None, pos_x=0, pos_y=0, schema_callback=None) (flowfile_core.flowfile.flow_node.flow_node.FlowNode.update_node)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.update_node">update_node</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Updates the properties of the node.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>




<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            all_inputs

  
      property
   (flowfile_core.flowfile.flow_node.flow_node.FlowNode.all_inputs)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.all_inputs">all_inputs</a></code></td>
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_node.flow_node.FlowNode" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode">FlowNode</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Gets a list of all nodes connected to any input port.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            function

  
      property
      writable
   (flowfile_core.flowfile.flow_node.flow_node.FlowNode.function)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.function">function</a></code></td>
            <td>
                  <code><span title="typing.Callable">Callable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Gets the core processing function of the node.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            has_input

  
      property
   (flowfile_core.flowfile.flow_node.flow_node.FlowNode.has_input)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.has_input">has_input</a></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Checks if this node has any input connections.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            has_next_step

  
      property
   (flowfile_core.flowfile.flow_node.flow_node.FlowNode.has_next_step)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.has_next_step">has_next_step</a></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Checks if this node has any downstream connections.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            hash

  
      property
   (flowfile_core.flowfile.flow_node.flow_node.FlowNode.hash)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.hash">hash</a></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Gets the cached hash for the node, calculating it if it doesn't exist.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            is_correct

  
      property
   (flowfile_core.flowfile.flow_node.flow_node.FlowNode.is_correct)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.is_correct">is_correct</a></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Checks if the node's input connections satisfy its template requirements.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            is_setup

  
      property
   (flowfile_core.flowfile.flow_node.flow_node.FlowNode.is_setup)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.is_setup">is_setup</a></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Checks if the node has been properly configured and is ready for execution.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            is_start

  
      property
   (flowfile_core.flowfile.flow_node.flow_node.FlowNode.is_start)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.is_start">is_start</a></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Determines if the node is a starting node in the flow.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            left_input

  
      property
   (flowfile_core.flowfile.flow_node.flow_node.FlowNode.left_input)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.left_input">left_input</a></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_node.flow_node.FlowNode" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode">FlowNode</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Gets the node connected to the left input port.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            main_input

  
      property
   (flowfile_core.flowfile.flow_node.flow_node.FlowNode.main_input)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.main_input">main_input</a></code></td>
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_node.flow_node.FlowNode" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode">FlowNode</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Gets the list of nodes connected to the main input port(s).</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            name

  
      property
      writable
   (flowfile_core.flowfile.flow_node.flow_node.FlowNode.name)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.name">name</a></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Gets the name of the node.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            node_id

  
      property
   (flowfile_core.flowfile.flow_node.flow_node.FlowNode.node_id)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.node_id">node_id</a></code></td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Gets the unique identifier of the node.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            number_of_leads_to_nodes

  
      property
   (flowfile_core.flowfile.flow_node.flow_node.FlowNode.number_of_leads_to_nodes)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.number_of_leads_to_nodes">number_of_leads_to_nodes</a></code></td>
            <td>
                  <code><span title="int">int</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Counts the number of downstream node connections.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            right_input

  
      property
   (flowfile_core.flowfile.flow_node.flow_node.FlowNode.right_input)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.right_input">right_input</a></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_node.flow_node.FlowNode" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode">FlowNode</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Gets the node connected to the right input port.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            schema

  
      property
   (flowfile_core.flowfile.flow_node.flow_node.FlowNode.schema)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.schema">schema</a></code></td>
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn">FlowfileColumn</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Gets the definitive output schema of the node.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            schema_callback

  
      property
      writable
   (flowfile_core.flowfile.flow_node.flow_node.FlowNode.schema_callback)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.schema_callback">schema_callback</a></code></td>
            <td>
                  <code><span title="flowfile_core.flowfile.flow_node.schema_callback.SingleExecutionFuture">SingleExecutionFuture</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Gets the schema callback function, creating one if it doesn't exist.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            setting_input

  
      property
      writable
   (flowfile_core.flowfile.flow_node.flow_node.FlowNode.setting_input)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.setting_input">setting_input</a></code></td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Gets the node's specific configuration settings.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            singular_input

  
      property
   (flowfile_core.flowfile.flow_node.flow_node.FlowNode.singular_input)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.singular_input">singular_input</a></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Checks if the node template specifies exactly one input.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            singular_main_input

  
      property
   (flowfile_core.flowfile.flow_node.flow_node.FlowNode.singular_main_input)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.singular_main_input">singular_main_input</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_node.flow_node.FlowNode" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode">FlowNode</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Gets the input node, assuming it is a single-input type.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            state_needs_reset

  
      property
      writable
   (flowfile_core.flowfile.flow_node.flow_node.FlowNode.state_needs_reset)" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode.state_needs_reset">state_needs_reset</a></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Checks if the node's state needs to be reset.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  22</span>
<span class="normal">  23</span>
<span class="normal">  24</span>
<span class="normal">  25</span>
<span class="normal">  26</span>
<span class="normal">  27</span>
<span class="normal">  28</span>
<span class="normal">  29</span>
<span class="normal">  30</span>
<span class="normal">  31</span>
<span class="normal">  32</span>
<span class="normal">  33</span>
<span class="normal">  34</span>
<span class="normal">  35</span>
<span class="normal">  36</span>
<span class="normal">  37</span>
<span class="normal">  38</span>
<span class="normal">  39</span>
<span class="normal">  40</span>
<span class="normal">  41</span>
<span class="normal">  42</span>
<span class="normal">  43</span>
<span class="normal">  44</span>
<span class="normal">  45</span>
<span class="normal">  46</span>
<span class="normal">  47</span>
<span class="normal">  48</span>
<span class="normal">  49</span>
<span class="normal">  50</span>
<span class="normal">  51</span>
<span class="normal">  52</span>
<span class="normal">  53</span>
<span class="normal">  54</span>
<span class="normal">  55</span>
<span class="normal">  56</span>
<span class="normal">  57</span>
<span class="normal">  58</span>
<span class="normal">  59</span>
<span class="normal">  60</span>
<span class="normal">  61</span>
<span class="normal">  62</span>
<span class="normal">  63</span>
<span class="normal">  64</span>
<span class="normal">  65</span>
<span class="normal">  66</span>
<span class="normal">  67</span>
<span class="normal">  68</span>
<span class="normal">  69</span>
<span class="normal">  70</span>
<span class="normal">  71</span>
<span class="normal">  72</span>
<span class="normal">  73</span>
<span class="normal">  74</span>
<span class="normal">  75</span>
<span class="normal">  76</span>
<span class="normal">  77</span>
<span class="normal">  78</span>
<span class="normal">  79</span>
<span class="normal">  80</span>
<span class="normal">  81</span>
<span class="normal">  82</span>
<span class="normal">  83</span>
<span class="normal">  84</span>
<span class="normal">  85</span>
<span class="normal">  86</span>
<span class="normal">  87</span>
<span class="normal">  88</span>
<span class="normal">  89</span>
<span class="normal">  90</span>
<span class="normal">  91</span>
<span class="normal">  92</span>
<span class="normal">  93</span>
<span class="normal">  94</span>
<span class="normal">  95</span>
<span class="normal">  96</span>
<span class="normal">  97</span>
<span class="normal">  98</span>
<span class="normal">  99</span>
<span class="normal"> 100</span>
<span class="normal"> 101</span>
<span class="normal"> 102</span>
<span class="normal"> 103</span>
<span class="normal"> 104</span>
<span class="normal"> 105</span>
<span class="normal"> 106</span>
<span class="normal"> 107</span>
<span class="normal"> 108</span>
<span class="normal"> 109</span>
<span class="normal"> 110</span>
<span class="normal"> 111</span>
<span class="normal"> 112</span>
<span class="normal"> 113</span>
<span class="normal"> 114</span>
<span class="normal"> 115</span>
<span class="normal"> 116</span>
<span class="normal"> 117</span>
<span class="normal"> 118</span>
<span class="normal"> 119</span>
<span class="normal"> 120</span>
<span class="normal"> 121</span>
<span class="normal"> 122</span>
<span class="normal"> 123</span>
<span class="normal"> 124</span>
<span class="normal"> 125</span>
<span class="normal"> 126</span>
<span class="normal"> 127</span>
<span class="normal"> 128</span>
<span class="normal"> 129</span>
<span class="normal"> 130</span>
<span class="normal"> 131</span>
<span class="normal"> 132</span>
<span class="normal"> 133</span>
<span class="normal"> 134</span>
<span class="normal"> 135</span>
<span class="normal"> 136</span>
<span class="normal"> 137</span>
<span class="normal"> 138</span>
<span class="normal"> 139</span>
<span class="normal"> 140</span>
<span class="normal"> 141</span>
<span class="normal"> 142</span>
<span class="normal"> 143</span>
<span class="normal"> 144</span>
<span class="normal"> 145</span>
<span class="normal"> 146</span>
<span class="normal"> 147</span>
<span class="normal"> 148</span>
<span class="normal"> 149</span>
<span class="normal"> 150</span>
<span class="normal"> 151</span>
<span class="normal"> 152</span>
<span class="normal"> 153</span>
<span class="normal"> 154</span>
<span class="normal"> 155</span>
<span class="normal"> 156</span>
<span class="normal"> 157</span>
<span class="normal"> 158</span>
<span class="normal"> 159</span>
<span class="normal"> 160</span>
<span class="normal"> 161</span>
<span class="normal"> 162</span>
<span class="normal"> 163</span>
<span class="normal"> 164</span>
<span class="normal"> 165</span>
<span class="normal"> 166</span>
<span class="normal"> 167</span>
<span class="normal"> 168</span>
<span class="normal"> 169</span>
<span class="normal"> 170</span>
<span class="normal"> 171</span>
<span class="normal"> 172</span>
<span class="normal"> 173</span>
<span class="normal"> 174</span>
<span class="normal"> 175</span>
<span class="normal"> 176</span>
<span class="normal"> 177</span>
<span class="normal"> 178</span>
<span class="normal"> 179</span>
<span class="normal"> 180</span>
<span class="normal"> 181</span>
<span class="normal"> 182</span>
<span class="normal"> 183</span>
<span class="normal"> 184</span>
<span class="normal"> 185</span>
<span class="normal"> 186</span>
<span class="normal"> 187</span>
<span class="normal"> 188</span>
<span class="normal"> 189</span>
<span class="normal"> 190</span>
<span class="normal"> 191</span>
<span class="normal"> 192</span>
<span class="normal"> 193</span>
<span class="normal"> 194</span>
<span class="normal"> 195</span>
<span class="normal"> 196</span>
<span class="normal"> 197</span>
<span class="normal"> 198</span>
<span class="normal"> 199</span>
<span class="normal"> 200</span>
<span class="normal"> 201</span>
<span class="normal"> 202</span>
<span class="normal"> 203</span>
<span class="normal"> 204</span>
<span class="normal"> 205</span>
<span class="normal"> 206</span>
<span class="normal"> 207</span>
<span class="normal"> 208</span>
<span class="normal"> 209</span>
<span class="normal"> 210</span>
<span class="normal"> 211</span>
<span class="normal"> 212</span>
<span class="normal"> 213</span>
<span class="normal"> 214</span>
<span class="normal"> 215</span>
<span class="normal"> 216</span>
<span class="normal"> 217</span>
<span class="normal"> 218</span>
<span class="normal"> 219</span>
<span class="normal"> 220</span>
<span class="normal"> 221</span>
<span class="normal"> 222</span>
<span class="normal"> 223</span>
<span class="normal"> 224</span>
<span class="normal"> 225</span>
<span class="normal"> 226</span>
<span class="normal"> 227</span>
<span class="normal"> 228</span>
<span class="normal"> 229</span>
<span class="normal"> 230</span>
<span class="normal"> 231</span>
<span class="normal"> 232</span>
<span class="normal"> 233</span>
<span class="normal"> 234</span>
<span class="normal"> 235</span>
<span class="normal"> 236</span>
<span class="normal"> 237</span>
<span class="normal"> 238</span>
<span class="normal"> 239</span>
<span class="normal"> 240</span>
<span class="normal"> 241</span>
<span class="normal"> 242</span>
<span class="normal"> 243</span>
<span class="normal"> 244</span>
<span class="normal"> 245</span>
<span class="normal"> 246</span>
<span class="normal"> 247</span>
<span class="normal"> 248</span>
<span class="normal"> 249</span>
<span class="normal"> 250</span>
<span class="normal"> 251</span>
<span class="normal"> 252</span>
<span class="normal"> 253</span>
<span class="normal"> 254</span>
<span class="normal"> 255</span>
<span class="normal"> 256</span>
<span class="normal"> 257</span>
<span class="normal"> 258</span>
<span class="normal"> 259</span>
<span class="normal"> 260</span>
<span class="normal"> 261</span>
<span class="normal"> 262</span>
<span class="normal"> 263</span>
<span class="normal"> 264</span>
<span class="normal"> 265</span>
<span class="normal"> 266</span>
<span class="normal"> 267</span>
<span class="normal"> 268</span>
<span class="normal"> 269</span>
<span class="normal"> 270</span>
<span class="normal"> 271</span>
<span class="normal"> 272</span>
<span class="normal"> 273</span>
<span class="normal"> 274</span>
<span class="normal"> 275</span>
<span class="normal"> 276</span>
<span class="normal"> 277</span>
<span class="normal"> 278</span>
<span class="normal"> 279</span>
<span class="normal"> 280</span>
<span class="normal"> 281</span>
<span class="normal"> 282</span>
<span class="normal"> 283</span>
<span class="normal"> 284</span>
<span class="normal"> 285</span>
<span class="normal"> 286</span>
<span class="normal"> 287</span>
<span class="normal"> 288</span>
<span class="normal"> 289</span>
<span class="normal"> 290</span>
<span class="normal"> 291</span>
<span class="normal"> 292</span>
<span class="normal"> 293</span>
<span class="normal"> 294</span>
<span class="normal"> 295</span>
<span class="normal"> 296</span>
<span class="normal"> 297</span>
<span class="normal"> 298</span>
<span class="normal"> 299</span>
<span class="normal"> 300</span>
<span class="normal"> 301</span>
<span class="normal"> 302</span>
<span class="normal"> 303</span>
<span class="normal"> 304</span>
<span class="normal"> 305</span>
<span class="normal"> 306</span>
<span class="normal"> 307</span>
<span class="normal"> 308</span>
<span class="normal"> 309</span>
<span class="normal"> 310</span>
<span class="normal"> 311</span>
<span class="normal"> 312</span>
<span class="normal"> 313</span>
<span class="normal"> 314</span>
<span class="normal"> 315</span>
<span class="normal"> 316</span>
<span class="normal"> 317</span>
<span class="normal"> 318</span>
<span class="normal"> 319</span>
<span class="normal"> 320</span>
<span class="normal"> 321</span>
<span class="normal"> 322</span>
<span class="normal"> 323</span>
<span class="normal"> 324</span>
<span class="normal"> 325</span>
<span class="normal"> 326</span>
<span class="normal"> 327</span>
<span class="normal"> 328</span>
<span class="normal"> 329</span>
<span class="normal"> 330</span>
<span class="normal"> 331</span>
<span class="normal"> 332</span>
<span class="normal"> 333</span>
<span class="normal"> 334</span>
<span class="normal"> 335</span>
<span class="normal"> 336</span>
<span class="normal"> 337</span>
<span class="normal"> 338</span>
<span class="normal"> 339</span>
<span class="normal"> 340</span>
<span class="normal"> 341</span>
<span class="normal"> 342</span>
<span class="normal"> 343</span>
<span class="normal"> 344</span>
<span class="normal"> 345</span>
<span class="normal"> 346</span>
<span class="normal"> 347</span>
<span class="normal"> 348</span>
<span class="normal"> 349</span>
<span class="normal"> 350</span>
<span class="normal"> 351</span>
<span class="normal"> 352</span>
<span class="normal"> 353</span>
<span class="normal"> 354</span>
<span class="normal"> 355</span>
<span class="normal"> 356</span>
<span class="normal"> 357</span>
<span class="normal"> 358</span>
<span class="normal"> 359</span>
<span class="normal"> 360</span>
<span class="normal"> 361</span>
<span class="normal"> 362</span>
<span class="normal"> 363</span>
<span class="normal"> 364</span>
<span class="normal"> 365</span>
<span class="normal"> 366</span>
<span class="normal"> 367</span>
<span class="normal"> 368</span>
<span class="normal"> 369</span>
<span class="normal"> 370</span>
<span class="normal"> 371</span>
<span class="normal"> 372</span>
<span class="normal"> 373</span>
<span class="normal"> 374</span>
<span class="normal"> 375</span>
<span class="normal"> 376</span>
<span class="normal"> 377</span>
<span class="normal"> 378</span>
<span class="normal"> 379</span>
<span class="normal"> 380</span>
<span class="normal"> 381</span>
<span class="normal"> 382</span>
<span class="normal"> 383</span>
<span class="normal"> 384</span>
<span class="normal"> 385</span>
<span class="normal"> 386</span>
<span class="normal"> 387</span>
<span class="normal"> 388</span>
<span class="normal"> 389</span>
<span class="normal"> 390</span>
<span class="normal"> 391</span>
<span class="normal"> 392</span>
<span class="normal"> 393</span>
<span class="normal"> 394</span>
<span class="normal"> 395</span>
<span class="normal"> 396</span>
<span class="normal"> 397</span>
<span class="normal"> 398</span>
<span class="normal"> 399</span>
<span class="normal"> 400</span>
<span class="normal"> 401</span>
<span class="normal"> 402</span>
<span class="normal"> 403</span>
<span class="normal"> 404</span>
<span class="normal"> 405</span>
<span class="normal"> 406</span>
<span class="normal"> 407</span>
<span class="normal"> 408</span>
<span class="normal"> 409</span>
<span class="normal"> 410</span>
<span class="normal"> 411</span>
<span class="normal"> 412</span>
<span class="normal"> 413</span>
<span class="normal"> 414</span>
<span class="normal"> 415</span>
<span class="normal"> 416</span>
<span class="normal"> 417</span>
<span class="normal"> 418</span>
<span class="normal"> 419</span>
<span class="normal"> 420</span>
<span class="normal"> 421</span>
<span class="normal"> 422</span>
<span class="normal"> 423</span>
<span class="normal"> 424</span>
<span class="normal"> 425</span>
<span class="normal"> 426</span>
<span class="normal"> 427</span>
<span class="normal"> 428</span>
<span class="normal"> 429</span>
<span class="normal"> 430</span>
<span class="normal"> 431</span>
<span class="normal"> 432</span>
<span class="normal"> 433</span>
<span class="normal"> 434</span>
<span class="normal"> 435</span>
<span class="normal"> 436</span>
<span class="normal"> 437</span>
<span class="normal"> 438</span>
<span class="normal"> 439</span>
<span class="normal"> 440</span>
<span class="normal"> 441</span>
<span class="normal"> 442</span>
<span class="normal"> 443</span>
<span class="normal"> 444</span>
<span class="normal"> 445</span>
<span class="normal"> 446</span>
<span class="normal"> 447</span>
<span class="normal"> 448</span>
<span class="normal"> 449</span>
<span class="normal"> 450</span>
<span class="normal"> 451</span>
<span class="normal"> 452</span>
<span class="normal"> 453</span>
<span class="normal"> 454</span>
<span class="normal"> 455</span>
<span class="normal"> 456</span>
<span class="normal"> 457</span>
<span class="normal"> 458</span>
<span class="normal"> 459</span>
<span class="normal"> 460</span>
<span class="normal"> 461</span>
<span class="normal"> 462</span>
<span class="normal"> 463</span>
<span class="normal"> 464</span>
<span class="normal"> 465</span>
<span class="normal"> 466</span>
<span class="normal"> 467</span>
<span class="normal"> 468</span>
<span class="normal"> 469</span>
<span class="normal"> 470</span>
<span class="normal"> 471</span>
<span class="normal"> 472</span>
<span class="normal"> 473</span>
<span class="normal"> 474</span>
<span class="normal"> 475</span>
<span class="normal"> 476</span>
<span class="normal"> 477</span>
<span class="normal"> 478</span>
<span class="normal"> 479</span>
<span class="normal"> 480</span>
<span class="normal"> 481</span>
<span class="normal"> 482</span>
<span class="normal"> 483</span>
<span class="normal"> 484</span>
<span class="normal"> 485</span>
<span class="normal"> 486</span>
<span class="normal"> 487</span>
<span class="normal"> 488</span>
<span class="normal"> 489</span>
<span class="normal"> 490</span>
<span class="normal"> 491</span>
<span class="normal"> 492</span>
<span class="normal"> 493</span>
<span class="normal"> 494</span>
<span class="normal"> 495</span>
<span class="normal"> 496</span>
<span class="normal"> 497</span>
<span class="normal"> 498</span>
<span class="normal"> 499</span>
<span class="normal"> 500</span>
<span class="normal"> 501</span>
<span class="normal"> 502</span>
<span class="normal"> 503</span>
<span class="normal"> 504</span>
<span class="normal"> 505</span>
<span class="normal"> 506</span>
<span class="normal"> 507</span>
<span class="normal"> 508</span>
<span class="normal"> 509</span>
<span class="normal"> 510</span>
<span class="normal"> 511</span>
<span class="normal"> 512</span>
<span class="normal"> 513</span>
<span class="normal"> 514</span>
<span class="normal"> 515</span>
<span class="normal"> 516</span>
<span class="normal"> 517</span>
<span class="normal"> 518</span>
<span class="normal"> 519</span>
<span class="normal"> 520</span>
<span class="normal"> 521</span>
<span class="normal"> 522</span>
<span class="normal"> 523</span>
<span class="normal"> 524</span>
<span class="normal"> 525</span>
<span class="normal"> 526</span>
<span class="normal"> 527</span>
<span class="normal"> 528</span>
<span class="normal"> 529</span>
<span class="normal"> 530</span>
<span class="normal"> 531</span>
<span class="normal"> 532</span>
<span class="normal"> 533</span>
<span class="normal"> 534</span>
<span class="normal"> 535</span>
<span class="normal"> 536</span>
<span class="normal"> 537</span>
<span class="normal"> 538</span>
<span class="normal"> 539</span>
<span class="normal"> 540</span>
<span class="normal"> 541</span>
<span class="normal"> 542</span>
<span class="normal"> 543</span>
<span class="normal"> 544</span>
<span class="normal"> 545</span>
<span class="normal"> 546</span>
<span class="normal"> 547</span>
<span class="normal"> 548</span>
<span class="normal"> 549</span>
<span class="normal"> 550</span>
<span class="normal"> 551</span>
<span class="normal"> 552</span>
<span class="normal"> 553</span>
<span class="normal"> 554</span>
<span class="normal"> 555</span>
<span class="normal"> 556</span>
<span class="normal"> 557</span>
<span class="normal"> 558</span>
<span class="normal"> 559</span>
<span class="normal"> 560</span>
<span class="normal"> 561</span>
<span class="normal"> 562</span>
<span class="normal"> 563</span>
<span class="normal"> 564</span>
<span class="normal"> 565</span>
<span class="normal"> 566</span>
<span class="normal"> 567</span>
<span class="normal"> 568</span>
<span class="normal"> 569</span>
<span class="normal"> 570</span>
<span class="normal"> 571</span>
<span class="normal"> 572</span>
<span class="normal"> 573</span>
<span class="normal"> 574</span>
<span class="normal"> 575</span>
<span class="normal"> 576</span>
<span class="normal"> 577</span>
<span class="normal"> 578</span>
<span class="normal"> 579</span>
<span class="normal"> 580</span>
<span class="normal"> 581</span>
<span class="normal"> 582</span>
<span class="normal"> 583</span>
<span class="normal"> 584</span>
<span class="normal"> 585</span>
<span class="normal"> 586</span>
<span class="normal"> 587</span>
<span class="normal"> 588</span>
<span class="normal"> 589</span>
<span class="normal"> 590</span>
<span class="normal"> 591</span>
<span class="normal"> 592</span>
<span class="normal"> 593</span>
<span class="normal"> 594</span>
<span class="normal"> 595</span>
<span class="normal"> 596</span>
<span class="normal"> 597</span>
<span class="normal"> 598</span>
<span class="normal"> 599</span>
<span class="normal"> 600</span>
<span class="normal"> 601</span>
<span class="normal"> 602</span>
<span class="normal"> 603</span>
<span class="normal"> 604</span>
<span class="normal"> 605</span>
<span class="normal"> 606</span>
<span class="normal"> 607</span>
<span class="normal"> 608</span>
<span class="normal"> 609</span>
<span class="normal"> 610</span>
<span class="normal"> 611</span>
<span class="normal"> 612</span>
<span class="normal"> 613</span>
<span class="normal"> 614</span>
<span class="normal"> 615</span>
<span class="normal"> 616</span>
<span class="normal"> 617</span>
<span class="normal"> 618</span>
<span class="normal"> 619</span>
<span class="normal"> 620</span>
<span class="normal"> 621</span>
<span class="normal"> 622</span>
<span class="normal"> 623</span>
<span class="normal"> 624</span>
<span class="normal"> 625</span>
<span class="normal"> 626</span>
<span class="normal"> 627</span>
<span class="normal"> 628</span>
<span class="normal"> 629</span>
<span class="normal"> 630</span>
<span class="normal"> 631</span>
<span class="normal"> 632</span>
<span class="normal"> 633</span>
<span class="normal"> 634</span>
<span class="normal"> 635</span>
<span class="normal"> 636</span>
<span class="normal"> 637</span>
<span class="normal"> 638</span>
<span class="normal"> 639</span>
<span class="normal"> 640</span>
<span class="normal"> 641</span>
<span class="normal"> 642</span>
<span class="normal"> 643</span>
<span class="normal"> 644</span>
<span class="normal"> 645</span>
<span class="normal"> 646</span>
<span class="normal"> 647</span>
<span class="normal"> 648</span>
<span class="normal"> 649</span>
<span class="normal"> 650</span>
<span class="normal"> 651</span>
<span class="normal"> 652</span>
<span class="normal"> 653</span>
<span class="normal"> 654</span>
<span class="normal"> 655</span>
<span class="normal"> 656</span>
<span class="normal"> 657</span>
<span class="normal"> 658</span>
<span class="normal"> 659</span>
<span class="normal"> 660</span>
<span class="normal"> 661</span>
<span class="normal"> 662</span>
<span class="normal"> 663</span>
<span class="normal"> 664</span>
<span class="normal"> 665</span>
<span class="normal"> 666</span>
<span class="normal"> 667</span>
<span class="normal"> 668</span>
<span class="normal"> 669</span>
<span class="normal"> 670</span>
<span class="normal"> 671</span>
<span class="normal"> 672</span>
<span class="normal"> 673</span>
<span class="normal"> 674</span>
<span class="normal"> 675</span>
<span class="normal"> 676</span>
<span class="normal"> 677</span>
<span class="normal"> 678</span>
<span class="normal"> 679</span>
<span class="normal"> 680</span>
<span class="normal"> 681</span>
<span class="normal"> 682</span>
<span class="normal"> 683</span>
<span class="normal"> 684</span>
<span class="normal"> 685</span>
<span class="normal"> 686</span>
<span class="normal"> 687</span>
<span class="normal"> 688</span>
<span class="normal"> 689</span>
<span class="normal"> 690</span>
<span class="normal"> 691</span>
<span class="normal"> 692</span>
<span class="normal"> 693</span>
<span class="normal"> 694</span>
<span class="normal"> 695</span>
<span class="normal"> 696</span>
<span class="normal"> 697</span>
<span class="normal"> 698</span>
<span class="normal"> 699</span>
<span class="normal"> 700</span>
<span class="normal"> 701</span>
<span class="normal"> 702</span>
<span class="normal"> 703</span>
<span class="normal"> 704</span>
<span class="normal"> 705</span>
<span class="normal"> 706</span>
<span class="normal"> 707</span>
<span class="normal"> 708</span>
<span class="normal"> 709</span>
<span class="normal"> 710</span>
<span class="normal"> 711</span>
<span class="normal"> 712</span>
<span class="normal"> 713</span>
<span class="normal"> 714</span>
<span class="normal"> 715</span>
<span class="normal"> 716</span>
<span class="normal"> 717</span>
<span class="normal"> 718</span>
<span class="normal"> 719</span>
<span class="normal"> 720</span>
<span class="normal"> 721</span>
<span class="normal"> 722</span>
<span class="normal"> 723</span>
<span class="normal"> 724</span>
<span class="normal"> 725</span>
<span class="normal"> 726</span>
<span class="normal"> 727</span>
<span class="normal"> 728</span>
<span class="normal"> 729</span>
<span class="normal"> 730</span>
<span class="normal"> 731</span>
<span class="normal"> 732</span>
<span class="normal"> 733</span>
<span class="normal"> 734</span>
<span class="normal"> 735</span>
<span class="normal"> 736</span>
<span class="normal"> 737</span>
<span class="normal"> 738</span>
<span class="normal"> 739</span>
<span class="normal"> 740</span>
<span class="normal"> 741</span>
<span class="normal"> 742</span>
<span class="normal"> 743</span>
<span class="normal"> 744</span>
<span class="normal"> 745</span>
<span class="normal"> 746</span>
<span class="normal"> 747</span>
<span class="normal"> 748</span>
<span class="normal"> 749</span>
<span class="normal"> 750</span>
<span class="normal"> 751</span>
<span class="normal"> 752</span>
<span class="normal"> 753</span>
<span class="normal"> 754</span>
<span class="normal"> 755</span>
<span class="normal"> 756</span>
<span class="normal"> 757</span>
<span class="normal"> 758</span>
<span class="normal"> 759</span>
<span class="normal"> 760</span>
<span class="normal"> 761</span>
<span class="normal"> 762</span>
<span class="normal"> 763</span>
<span class="normal"> 764</span>
<span class="normal"> 765</span>
<span class="normal"> 766</span>
<span class="normal"> 767</span>
<span class="normal"> 768</span>
<span class="normal"> 769</span>
<span class="normal"> 770</span>
<span class="normal"> 771</span>
<span class="normal"> 772</span>
<span class="normal"> 773</span>
<span class="normal"> 774</span>
<span class="normal"> 775</span>
<span class="normal"> 776</span>
<span class="normal"> 777</span>
<span class="normal"> 778</span>
<span class="normal"> 779</span>
<span class="normal"> 780</span>
<span class="normal"> 781</span>
<span class="normal"> 782</span>
<span class="normal"> 783</span>
<span class="normal"> 784</span>
<span class="normal"> 785</span>
<span class="normal"> 786</span>
<span class="normal"> 787</span>
<span class="normal"> 788</span>
<span class="normal"> 789</span>
<span class="normal"> 790</span>
<span class="normal"> 791</span>
<span class="normal"> 792</span>
<span class="normal"> 793</span>
<span class="normal"> 794</span>
<span class="normal"> 795</span>
<span class="normal"> 796</span>
<span class="normal"> 797</span>
<span class="normal"> 798</span>
<span class="normal"> 799</span>
<span class="normal"> 800</span>
<span class="normal"> 801</span>
<span class="normal"> 802</span>
<span class="normal"> 803</span>
<span class="normal"> 804</span>
<span class="normal"> 805</span>
<span class="normal"> 806</span>
<span class="normal"> 807</span>
<span class="normal"> 808</span>
<span class="normal"> 809</span>
<span class="normal"> 810</span>
<span class="normal"> 811</span>
<span class="normal"> 812</span>
<span class="normal"> 813</span>
<span class="normal"> 814</span>
<span class="normal"> 815</span>
<span class="normal"> 816</span>
<span class="normal"> 817</span>
<span class="normal"> 818</span>
<span class="normal"> 819</span>
<span class="normal"> 820</span>
<span class="normal"> 821</span>
<span class="normal"> 822</span>
<span class="normal"> 823</span>
<span class="normal"> 824</span>
<span class="normal"> 825</span>
<span class="normal"> 826</span>
<span class="normal"> 827</span>
<span class="normal"> 828</span>
<span class="normal"> 829</span>
<span class="normal"> 830</span>
<span class="normal"> 831</span>
<span class="normal"> 832</span>
<span class="normal"> 833</span>
<span class="normal"> 834</span>
<span class="normal"> 835</span>
<span class="normal"> 836</span>
<span class="normal"> 837</span>
<span class="normal"> 838</span>
<span class="normal"> 839</span>
<span class="normal"> 840</span>
<span class="normal"> 841</span>
<span class="normal"> 842</span>
<span class="normal"> 843</span>
<span class="normal"> 844</span>
<span class="normal"> 845</span>
<span class="normal"> 846</span>
<span class="normal"> 847</span>
<span class="normal"> 848</span>
<span class="normal"> 849</span>
<span class="normal"> 850</span>
<span class="normal"> 851</span>
<span class="normal"> 852</span>
<span class="normal"> 853</span>
<span class="normal"> 854</span>
<span class="normal"> 855</span>
<span class="normal"> 856</span>
<span class="normal"> 857</span>
<span class="normal"> 858</span>
<span class="normal"> 859</span>
<span class="normal"> 860</span>
<span class="normal"> 861</span>
<span class="normal"> 862</span>
<span class="normal"> 863</span>
<span class="normal"> 864</span>
<span class="normal"> 865</span>
<span class="normal"> 866</span>
<span class="normal"> 867</span>
<span class="normal"> 868</span>
<span class="normal"> 869</span>
<span class="normal"> 870</span>
<span class="normal"> 871</span>
<span class="normal"> 872</span>
<span class="normal"> 873</span>
<span class="normal"> 874</span>
<span class="normal"> 875</span>
<span class="normal"> 876</span>
<span class="normal"> 877</span>
<span class="normal"> 878</span>
<span class="normal"> 879</span>
<span class="normal"> 880</span>
<span class="normal"> 881</span>
<span class="normal"> 882</span>
<span class="normal"> 883</span>
<span class="normal"> 884</span>
<span class="normal"> 885</span>
<span class="normal"> 886</span>
<span class="normal"> 887</span>
<span class="normal"> 888</span>
<span class="normal"> 889</span>
<span class="normal"> 890</span>
<span class="normal"> 891</span>
<span class="normal"> 892</span>
<span class="normal"> 893</span>
<span class="normal"> 894</span>
<span class="normal"> 895</span>
<span class="normal"> 896</span>
<span class="normal"> 897</span>
<span class="normal"> 898</span>
<span class="normal"> 899</span>
<span class="normal"> 900</span>
<span class="normal"> 901</span>
<span class="normal"> 902</span>
<span class="normal"> 903</span>
<span class="normal"> 904</span>
<span class="normal"> 905</span>
<span class="normal"> 906</span>
<span class="normal"> 907</span>
<span class="normal"> 908</span>
<span class="normal"> 909</span>
<span class="normal"> 910</span>
<span class="normal"> 911</span>
<span class="normal"> 912</span>
<span class="normal"> 913</span>
<span class="normal"> 914</span>
<span class="normal"> 915</span>
<span class="normal"> 916</span>
<span class="normal"> 917</span>
<span class="normal"> 918</span>
<span class="normal"> 919</span>
<span class="normal"> 920</span>
<span class="normal"> 921</span>
<span class="normal"> 922</span>
<span class="normal"> 923</span>
<span class="normal"> 924</span>
<span class="normal"> 925</span>
<span class="normal"> 926</span>
<span class="normal"> 927</span>
<span class="normal"> 928</span>
<span class="normal"> 929</span>
<span class="normal"> 930</span>
<span class="normal"> 931</span>
<span class="normal"> 932</span>
<span class="normal"> 933</span>
<span class="normal"> 934</span>
<span class="normal"> 935</span>
<span class="normal"> 936</span>
<span class="normal"> 937</span>
<span class="normal"> 938</span>
<span class="normal"> 939</span>
<span class="normal"> 940</span>
<span class="normal"> 941</span>
<span class="normal"> 942</span>
<span class="normal"> 943</span>
<span class="normal"> 944</span>
<span class="normal"> 945</span>
<span class="normal"> 946</span>
<span class="normal"> 947</span>
<span class="normal"> 948</span>
<span class="normal"> 949</span>
<span class="normal"> 950</span>
<span class="normal"> 951</span>
<span class="normal"> 952</span>
<span class="normal"> 953</span>
<span class="normal"> 954</span>
<span class="normal"> 955</span>
<span class="normal"> 956</span>
<span class="normal"> 957</span>
<span class="normal"> 958</span>
<span class="normal"> 959</span>
<span class="normal"> 960</span>
<span class="normal"> 961</span>
<span class="normal"> 962</span>
<span class="normal"> 963</span>
<span class="normal"> 964</span>
<span class="normal"> 965</span>
<span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">FlowNode</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents a single node in a data flow graph.</span>

<span class="sd">    This class manages the node&#39;s state, its data processing function,</span>
<span class="sd">    and its connections to other nodes within the graph.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">parent_uuid</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">node_type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">node_template</span><span class="p">:</span> <span class="n">node_store</span><span class="o">.</span><span class="n">NodeTemplate</span>
    <span class="n">node_default</span><span class="p">:</span> <span class="n">schemas</span><span class="o">.</span><span class="n">NodeDefault</span>
    <span class="n">node_schema</span><span class="p">:</span> <span class="n">NodeSchemaInformation</span>
    <span class="n">node_inputs</span><span class="p">:</span> <span class="n">NodeStepInputs</span>
    <span class="n">node_stats</span><span class="p">:</span> <span class="n">NodeStepStats</span>
    <span class="n">node_settings</span><span class="p">:</span> <span class="n">NodeStepSettings</span>
    <span class="n">results</span><span class="p">:</span> <span class="n">NodeResults</span>
    <span class="n">node_information</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">schemas</span><span class="o">.</span><span class="n">NodeInformation</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">leads_to_nodes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;FlowNode&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># list with target flows, after execution the step will trigger those step(s)</span>
    <span class="n">user_provided_schema_callback</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># user provided callback function for schema calculation</span>
    <span class="n">_setting_input</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_hash</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># host this for caching results</span>
    <span class="n">_function</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># the function that needs to be executed when triggered</span>
    <span class="n">_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># name of the node, used for display</span>
    <span class="n">_schema_callback</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SingleExecutionFuture</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Function that calculates the schema without executing</span>
    <span class="n">_state_needs_reset</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">_fetch_cached_df</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ExternalDfFetcher</span> <span class="o">|</span> <span class="n">ExternalDatabaseFetcher</span> <span class="o">|</span> <span class="n">ExternalDatabaseWriter</span> <span class="o">|</span> <span class="n">ExternalCloudWriter</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_cache_progress</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ExternalDfFetcher</span> <span class="o">|</span> <span class="n">ExternalDatabaseFetcher</span> <span class="o">|</span> <span class="n">ExternalDatabaseWriter</span> <span class="o">|</span> <span class="n">ExternalCloudWriter</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="n">function</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span>
                 <span class="n">parent_uuid</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                 <span class="n">setting_input</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
                 <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                 <span class="n">node_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                 <span class="n">input_columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">output_schema</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">FlowfileColumn</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">drop_columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">renew_schema</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                 <span class="n">pos_x</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
                 <span class="n">pos_y</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
                 <span class="n">schema_callback</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initializes a FlowNode instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            node_id: Unique identifier for the node.</span>
<span class="sd">            function: The core data processing function for the node.</span>
<span class="sd">            parent_uuid: The UUID of the parent flow.</span>
<span class="sd">            setting_input: The configuration/settings object for the node.</span>
<span class="sd">            name: The name of the node.</span>
<span class="sd">            node_type: The type identifier of the node (e.g., &#39;join&#39;, &#39;filter&#39;).</span>
<span class="sd">            input_columns: List of column names expected as input.</span>
<span class="sd">            output_schema: The schema of the columns to be added.</span>
<span class="sd">            drop_columns: List of column names to be dropped.</span>
<span class="sd">            renew_schema: Flag to indicate if the schema should be renewed.</span>
<span class="sd">            pos_x: The x-coordinate on the canvas.</span>
<span class="sd">            pos_y: The y-coordinate on the canvas.</span>
<span class="sd">            schema_callback: A custom function to calculate the output schema.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent_uuid</span> <span class="o">=</span> <span class="n">parent_uuid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">post_init</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">active</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_information</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">node_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_type</span> <span class="o">=</span> <span class="n">node_type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">renew_schema</span> <span class="o">=</span> <span class="n">renew_schema</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_node</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="n">function</span><span class="p">,</span>
                         <span class="n">input_columns</span><span class="o">=</span><span class="n">input_columns</span><span class="p">,</span>
                         <span class="n">output_schema</span><span class="o">=</span><span class="n">output_schema</span><span class="p">,</span>
                         <span class="n">drop_columns</span><span class="o">=</span><span class="n">drop_columns</span><span class="p">,</span>
                         <span class="n">setting_input</span><span class="o">=</span><span class="n">setting_input</span><span class="p">,</span>
                         <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
                         <span class="n">pos_x</span><span class="o">=</span><span class="n">pos_x</span><span class="p">,</span>
                         <span class="n">pos_y</span><span class="o">=</span><span class="n">pos_y</span><span class="p">,</span>
                         <span class="n">schema_callback</span><span class="o">=</span><span class="n">schema_callback</span><span class="p">,</span>
                         <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">post_init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initializes or resets the node&#39;s attributes to their default states.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span> <span class="o">=</span> <span class="n">NodeStepInputs</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span> <span class="o">=</span> <span class="n">NodeStepStats</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_settings</span> <span class="o">=</span> <span class="n">NodeStepSettings</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span> <span class="o">=</span> <span class="n">NodeSchemaInformation</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results</span> <span class="o">=</span> <span class="n">NodeResults</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_information</span> <span class="o">=</span> <span class="n">schemas</span><span class="o">.</span><span class="n">NodeInformation</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">leads_to_nodes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_setting_input</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_cache_progress</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_schema_callback</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_state_needs_reset</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">state_needs_reset</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Checks if the node&#39;s state needs to be reset.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if a reset is required, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state_needs_reset</span>

    <span class="nd">@state_needs_reset</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">state_needs_reset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets the flag indicating that the node&#39;s state needs to be reset.</span>

<span class="sd">        Args:</span>
<span class="sd">            v: The boolean value to set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_state_needs_reset</span> <span class="o">=</span> <span class="n">v</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">create_schema_callback_from_function</span><span class="p">(</span><span class="n">f</span><span class="p">:</span> <span class="n">Callable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[],</span> <span class="n">List</span><span class="p">[</span><span class="n">FlowfileColumn</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Wraps a node&#39;s function to create a schema callback that extracts the schema.</span>

<span class="sd">        Args:</span>
<span class="sd">            f: The node&#39;s core function that returns a FlowDataEngine instance.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A callable that, when executed, returns the output schema.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">schema_callback</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlowfileColumn</span><span class="p">]:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Executing the schema callback function based on the node function&#39;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">f</span><span class="p">()</span><span class="o">.</span><span class="n">schema</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Error with the schema callback: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="k">return</span> <span class="p">[]</span>
        <span class="k">return</span> <span class="n">schema_callback</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">schema_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SingleExecutionFuture</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the schema callback function, creating one if it doesn&#39;t exist.</span>

<span class="sd">        The callback is used for predicting the output schema without full execution.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A SingleExecutionFuture instance wrapping the schema function.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema_callback</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_provided_schema_callback</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">schema_callback</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_provided_schema_callback</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_start</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">schema_callback</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_schema_callback_from_function</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_function</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema_callback</span>

    <span class="nd">@schema_callback</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">schema_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">:</span> <span class="n">Callable</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets the schema callback function for the node.</span>

<span class="sd">        Args:</span>
<span class="sd">            f: The function to be used for schema calculation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">f</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">error_callback</span><span class="p">(</span><span class="n">e</span><span class="p">:</span> <span class="ne">Exception</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">setup_errors</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">return</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_schema_callback</span> <span class="o">=</span> <span class="n">SingleExecutionFuture</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">error_callback</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">is_start</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Determines if the node is a starting node in the flow.</span>

<span class="sd">        A starting node requires no inputs.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the node is a start node, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_input</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_template</span><span class="o">.</span><span class="n">input</span> <span class="o">==</span> <span class="mi">0</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_input_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the type of connection (&#39;main&#39;, &#39;left&#39;, &#39;right&#39;) for a given input node ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            node_id: The ID of the input node.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of connection types for that node ID.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">relation_type</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">node_id</span> <span class="ow">in</span> <span class="p">[</span><span class="n">n</span><span class="o">.</span><span class="n">node_id</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span><span class="p">]:</span>
            <span class="n">relation_type</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;main&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">left_input</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">node_id</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">left_input</span><span class="o">.</span><span class="n">node_id</span><span class="p">:</span>
            <span class="n">relation_type</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">right_input</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">node_id</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">right_input</span><span class="o">.</span><span class="n">node_id</span><span class="p">:</span>
            <span class="n">relation_type</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">relation_type</span><span class="p">))</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">update_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                    <span class="n">function</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span>
                    <span class="n">input_columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">output_schema</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">FlowfileColumn</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">drop_columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">setting_input</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">pos_x</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
                    <span class="n">pos_y</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
                    <span class="n">schema_callback</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates the properties of the node.</span>

<span class="sd">        This is called during initialization and when settings are changed.</span>

<span class="sd">        Args:</span>
<span class="sd">            function: The new core data processing function.</span>
<span class="sd">            input_columns: The new list of input columns.</span>
<span class="sd">            output_schema: The new schema of added columns.</span>
<span class="sd">            drop_columns: The new list of dropped columns.</span>
<span class="sd">            name: The new name for the node.</span>
<span class="sd">            setting_input: The new settings object.</span>
<span class="sd">            pos_x: The new x-coordinate.</span>
<span class="sd">            pos_y: The new y-coordinate.</span>
<span class="sd">            schema_callback: The new custom schema callback function.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user_provided_schema_callback</span> <span class="o">=</span> <span class="n">schema_callback</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_information</span><span class="o">.</span><span class="n">y_position</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pos_y</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_information</span><span class="o">.</span><span class="n">x_position</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pos_x</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_information</span><span class="o">.</span><span class="n">setting_input</span> <span class="o">=</span> <span class="n">setting_input</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_type</span> <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_function</span> <span class="o">=</span> <span class="n">function</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">input_columns</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">input_columns</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">output_schema</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">output_schema</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">drop_columns</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">drop_columns</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">drop_columns</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">renew_schema</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">setting_input</span><span class="p">,</span> <span class="s1">&#39;cache_results&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">cache_results</span> <span class="o">=</span> <span class="n">setting_input</span><span class="o">.</span><span class="n">cache_results</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_lead_to_in_depend_source</span><span class="p">()</span>
        <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hash</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_template</span> <span class="o">=</span> <span class="n">node_store</span><span class="o">.</span><span class="n">node_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_type</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_template</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Node template </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_type</span><span class="si">}</span><span class="s1"> not found&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_default</span> <span class="o">=</span> <span class="n">node_store</span><span class="o">.</span><span class="n">node_defaults</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_type</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setting_input</span> <span class="o">=</span> <span class="n">setting_input</span>  <span class="c1"># wait until the end so that the hash is calculated correctly</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the name of the node.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The node&#39;s name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span>

    <span class="nd">@name</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets the name of the node.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: The new name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">=</span> <span class="n">name</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">setting_input</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the node&#39;s specific configuration settings.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The settings object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_setting_input</span>

    <span class="nd">@setting_input</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">setting_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">setting_input</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets the node&#39;s configuration and triggers a reset if necessary.</span>

<span class="sd">        Args:</span>
<span class="sd">            setting_input: The new settings object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">is_manual_input</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_type</span> <span class="o">==</span> <span class="s1">&#39;manual_input&#39;</span> <span class="ow">and</span>
                           <span class="nb">isinstance</span><span class="p">(</span><span class="n">setting_input</span><span class="p">,</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeManualInput</span><span class="p">)</span> <span class="ow">and</span>
                           <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_setting_input</span><span class="p">,</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeManualInput</span><span class="p">)</span>
                           <span class="p">)</span>
        <span class="k">if</span> <span class="n">is_manual_input</span><span class="p">:</span>
            <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hash</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_setting_input</span> <span class="o">=</span> <span class="n">setting_input</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_node_information</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">is_manual_input</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">hash</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calculate_hash</span><span class="p">(</span><span class="n">setting_input</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_run_with_current_setup</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">setting_input</span><span class="o">.</span><span class="n">raw_data_format</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">get_predicted_schema</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_setting_input</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">node_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the unique identifier of the node.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The node&#39;s ID.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_information</span><span class="o">.</span><span class="n">id</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">left_input</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;FlowNode&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the node connected to the left input port.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The left input FlowNode, or None.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">left_input</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">right_input</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;FlowNode&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the node connected to the right input port.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The right input FlowNode, or None.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">right_input</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">main_input</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;FlowNode&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the list of nodes connected to the main input port(s).</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of main input FlowNodes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">is_correct</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Checks if the node&#39;s input connections satisfy its template requirements.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if connections are valid, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setting_input</span><span class="p">,</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodePromise</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_template</span><span class="o">.</span><span class="n">input</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">get_all_inputs</span><span class="p">())</span> <span class="ow">or</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_template</span><span class="o">.</span><span class="n">multi</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">get_all_inputs</span><span class="p">())</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_template</span><span class="o">.</span><span class="n">multi</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_template</span><span class="o">.</span><span class="n">can_be_start</span><span class="p">))</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_node_information</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Populates the `node_information` attribute with the current state.</span>

<span class="sd">        This includes the node&#39;s connections, settings, and position.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;setting node information&#39;</span><span class="p">)</span>
        <span class="n">node_information</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_information</span>
        <span class="n">node_information</span><span class="o">.</span><span class="n">left_input_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">left_input</span><span class="o">.</span><span class="n">node_id</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">left_input</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="n">node_information</span><span class="o">.</span><span class="n">right_input_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">right_input</span><span class="o">.</span><span class="n">node_id</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">right_input</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="n">node_information</span><span class="o">.</span><span class="n">input_ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">mi</span><span class="o">.</span><span class="n">node_id</span> <span class="k">for</span> <span class="n">mi</span> <span class="ow">in</span>
                                      <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span><span class="p">]</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="n">node_information</span><span class="o">.</span><span class="n">setting_input</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">setting_input</span>
        <span class="n">node_information</span><span class="o">.</span><span class="n">outputs</span> <span class="o">=</span> <span class="p">[</span><span class="n">n</span><span class="o">.</span><span class="n">node_id</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">leads_to_nodes</span><span class="p">]</span>
        <span class="n">node_information</span><span class="o">.</span><span class="n">is_setup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_setup</span>
        <span class="n">node_information</span><span class="o">.</span><span class="n">x_position</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">setting_input</span><span class="o">.</span><span class="n">pos_x</span>
        <span class="n">node_information</span><span class="o">.</span><span class="n">y_position</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">setting_input</span><span class="o">.</span><span class="n">pos_y</span>
        <span class="n">node_information</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_type</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_node_information</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">schemas</span><span class="o">.</span><span class="n">NodeInformation</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates and returns the node&#39;s information object.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The `NodeInformation` object for this node.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_node_information</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_information</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the core processing function of the node.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The callable function.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_function</span>

    <span class="nd">@function</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">function</span><span class="p">:</span> <span class="n">Callable</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets the core processing function of the node.</span>

<span class="sd">        Args:</span>
<span class="sd">            function: The new callable function.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_function</span> <span class="o">=</span> <span class="n">function</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">all_inputs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;FlowNode&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a list of all nodes connected to any input port.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all input FlowNodes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">get_all_inputs</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">calculate_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">setting_input</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculates a hash based on settings and input node hashes.</span>

<span class="sd">        Args:</span>
<span class="sd">            setting_input: The node&#39;s settings object to be included in the hash.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A string hash value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">depends_on_hashes</span> <span class="o">=</span> <span class="p">[</span><span class="n">_node</span><span class="o">.</span><span class="n">hash</span> <span class="k">for</span> <span class="n">_node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_inputs</span><span class="p">]</span>
        <span class="n">node_data_hash</span> <span class="o">=</span> <span class="n">get_hash</span><span class="p">(</span><span class="n">setting_input</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">get_hash</span><span class="p">(</span><span class="n">depends_on_hashes</span> <span class="o">+</span> <span class="p">[</span><span class="n">node_data_hash</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent_uuid</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the cached hash for the node, calculating it if it doesn&#39;t exist.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The string hash value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hash</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_hash</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calculate_hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setting_input</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hash</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_node_connection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">from_node</span><span class="p">:</span> <span class="s2">&quot;FlowNode&quot;</span><span class="p">,</span>
                            <span class="n">insert_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;main&#39;</span><span class="p">,</span> <span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;main&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a connection from a source node to this node.</span>

<span class="sd">        Args:</span>
<span class="sd">            from_node: The node to connect from.</span>
<span class="sd">            insert_type: The type of input to connect to (&#39;main&#39;, &#39;left&#39;, &#39;right&#39;).</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception: If the insert_type is invalid.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">from_node</span><span class="o">.</span><span class="n">leads_to_nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">insert_type</span> <span class="o">==</span> <span class="s1">&#39;main&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_template</span><span class="o">.</span><span class="n">input</span> <span class="o">&lt;=</span> <span class="mi">2</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span> <span class="o">=</span> <span class="p">[</span><span class="n">from_node</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">from_node</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">insert_type</span> <span class="o">==</span> <span class="s1">&#39;right&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">right_input</span> <span class="o">=</span> <span class="n">from_node</span>
        <span class="k">elif</span> <span class="n">insert_type</span> <span class="o">==</span> <span class="s1">&#39;left&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">left_input</span> <span class="o">=</span> <span class="n">from_node</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Cannot find the connection&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">setting_input</span><span class="o">.</span><span class="n">is_setup</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setting_input</span><span class="p">,</span> <span class="s1">&#39;depending_on_id&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">insert_type</span> <span class="o">==</span> <span class="s1">&#39;main&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">setting_input</span><span class="o">.</span><span class="n">depending_on_id</span> <span class="o">=</span> <span class="n">from_node</span><span class="o">.</span><span class="n">node_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
        <span class="n">from_node</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate_nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deep</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Triggers a state reset for all directly connected downstream nodes.</span>

<span class="sd">        Args:</span>
<span class="sd">            deep: If True, the reset propagates recursively through the entire downstream graph.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">leads_to_nodes</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;resetting node: </span><span class="si">{</span><span class="n">node</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">node</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span><span class="n">deep</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_flow_file_column_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowfileColumn</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieves the schema for a specific column from the output schema.</span>

<span class="sd">        Args:</span>
<span class="sd">            col_name: The name of the column.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The FlowfileColumn object for that column, or None if not found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="n">column_name</span> <span class="o">==</span> <span class="n">col_name</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">s</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_predicted_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlowfileColumn</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Predicts the output schema of the node without full execution.</span>

<span class="sd">        It uses the schema_callback or infers from predicted data.</span>

<span class="sd">        Args:</span>
<span class="sd">            force: If True, forces recalculation even if a predicted schema exists.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of FlowfileColumn objects representing the predicted schema.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">predicted_schema</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">force</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">predicted_schema</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema_callback</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">predicted_schema</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">force</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Getting the data from a schema callback&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">force</span><span class="p">:</span>
                <span class="c1"># Force the schema callback to reset, so that it will be executed again</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">schema_callback</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
            <span class="n">schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema_callback</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">schema</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Calculating the schema based on the schema callback&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">predicted_schema</span> <span class="o">=</span> <span class="n">schema</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">predicted_schema</span>
        <span class="n">predicted_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_predicted_data_getter</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">predicted_data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">predicted_data</span><span class="o">.</span><span class="n">schema</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Calculating the schema based on the predicted resulting data&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">predicted_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_predicted_data_getter</span><span class="p">()</span><span class="o">.</span><span class="n">schema</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">predicted_schema</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">is_setup</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Checks if the node has been properly configured and is ready for execution.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the node is set up, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_information</span><span class="o">.</span><span class="n">is_setup</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">!=</span> <span class="s1">&#39;placeholder&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">node_information</span><span class="o">.</span><span class="n">is_setup</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">setting_input</span><span class="o">.</span><span class="n">is_setup</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_information</span><span class="o">.</span><span class="n">is_setup</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">print</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Helper method to log messages with node context.</span>

<span class="sd">        Args:</span>
<span class="sd">            v: The message or value to log.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_type</span><span class="si">}</span><span class="s1">, node_id: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_resulting_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Executes the node&#39;s function to produce the actual output data.</span>

<span class="sd">        Handles both regular functions and external data sources.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A FlowDataEngine instance containing the result, or None on error.</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception: Propagates exceptions from the node&#39;s function execution.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_setup</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">resulting_data</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;getting resulting data&#39;</span><span class="p">)</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="p">,</span> <span class="n">FlowDataEngine</span><span class="p">):</span>
                        <span class="n">fl</span><span class="p">:</span> <span class="n">FlowDataEngine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">function</span>
                    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_type</span> <span class="o">==</span> <span class="s1">&#39;external_source&#39;</span><span class="p">:</span>
                        <span class="n">fl</span><span class="p">:</span> <span class="n">FlowDataEngine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="p">()</span>
                        <span class="n">fl</span><span class="o">.</span><span class="n">collect_external</span><span class="p">()</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">streamable</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">try</span><span class="p">:</span>
                            <span class="n">fl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_function</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">get_resulting_data</span><span class="p">()</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_inputs</span><span class="p">])</span>
                        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                            <span class="k">raise</span> <span class="n">e</span>
                    <span class="n">fl</span><span class="o">.</span><span class="n">set_streamable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">streamable</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">resulting_data</span> <span class="o">=</span> <span class="n">fl</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">result_schema</span> <span class="o">=</span> <span class="n">fl</span><span class="o">.</span><span class="n">schema</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">resulting_data</span> <span class="o">=</span> <span class="n">FlowDataEngine</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_run_with_current_setup</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_completed_last_run</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="k">raise</span> <span class="n">e</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">resulting_data</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_predicted_data_getter</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Internal helper to get a predicted data result.</span>

<span class="sd">        This calls the function with predicted data from input nodes.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A FlowDataEngine instance with predicted data, or an empty one on error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">fl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_function</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">get_predicted_resulting_data</span><span class="p">()</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_inputs</span><span class="p">])</span>
            <span class="k">return</span> <span class="n">fl</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;generator already executing&quot;</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Generator already executing, waiting for the result&#39;</span><span class="p">)</span>
                <span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_predicted_data_getter</span><span class="p">()</span>
            <span class="n">fl</span> <span class="o">=</span> <span class="n">FlowDataEngine</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">fl</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;there was an issue with the function, returning an empty Flowfile&#39;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_predicted_resulting_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a `FlowDataEngine` instance based on the predicted schema.</span>

<span class="sd">        This avoids executing the node&#39;s full logic.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A FlowDataEngine instance with a schema but no data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">needs_run</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema_callback</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">result_schema</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Getting data based on the schema&#39;</span><span class="p">)</span>

            <span class="n">_s</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema_callback</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">result_schema</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">result_schema</span>
            <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="o">.</span><span class="n">create_from_schema</span><span class="p">(</span><span class="n">_s</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="p">,</span> <span class="n">FlowDataEngine</span><span class="p">):</span>
                <span class="n">fl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">function</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">fl</span> <span class="o">=</span> <span class="n">FlowDataEngine</span><span class="o">.</span><span class="n">create_from_schema</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_predicted_schema</span><span class="p">())</span>
            <span class="k">return</span> <span class="n">fl</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_lead_to_in_depend_source</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Ensures this node is registered in the `leads_to_nodes` list of its inputs.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">input_node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_inputs</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="n">n</span><span class="o">.</span><span class="n">node_id</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">input_node</span><span class="o">.</span><span class="n">leads_to_nodes</span><span class="p">]:</span>
                <span class="n">input_node</span><span class="o">.</span><span class="n">leads_to_nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_all_dependent_nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="s2">&quot;FlowNode&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Yields all downstream nodes recursively.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A generator of all dependent FlowNode objects.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">leads_to_nodes</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">node</span>
            <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">get_all_dependent_nodes</span><span class="p">():</span>
                <span class="k">yield</span> <span class="n">n</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_all_dependent_node_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Yields the IDs of all downstream nodes recursively.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A generator of all dependent node IDs.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">leads_to_nodes</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">node</span><span class="o">.</span><span class="n">node_id</span>
            <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">get_all_dependent_node_ids</span><span class="p">():</span>
                <span class="k">yield</span> <span class="n">n</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlowfileColumn</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the definitive output schema of the node.</span>

<span class="sd">        If not already run, it falls back to the predicted schema.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of FlowfileColumn objects.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_setup</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">result_schema</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">result_schema</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">result_schema</span>
                <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_type</span> <span class="o">==</span> <span class="s1">&#39;output&#39;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">result_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">schema</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">result_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_predicted_schema</span><span class="p">()</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">result_schema</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">[]</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">[]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">remove_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Removes cached results for this node.</span>

<span class="sd">        Note: Currently not fully implemented.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">results_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hash</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;Not implemented&#39;</span><span class="p">)</span>
            <span class="n">clear_task_from_worker</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hash</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">needs_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">performance_mode</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">node_logger</span><span class="p">:</span> <span class="n">NodeLogger</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                  <span class="n">execution_location</span><span class="p">:</span> <span class="n">schemas</span><span class="o">.</span><span class="n">ExecutionLocationsLiteral</span> <span class="o">=</span> <span class="s2">&quot;remote&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Determines if the node needs to be executed.</span>

<span class="sd">        The decision is based on its run state, caching settings, and execution mode.</span>

<span class="sd">        Args:</span>
<span class="sd">            performance_mode: True if the flow is in performance mode.</span>
<span class="sd">            node_logger: The logger instance for this node.</span>
<span class="sd">            execution_location: The target execution location.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the node should be run, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">execution_location</span> <span class="o">==</span> <span class="s2">&quot;local&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="n">flow_logger</span> <span class="o">=</span> <span class="n">logger</span> <span class="k">if</span> <span class="n">node_logger</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">node_logger</span>
        <span class="n">cache_result_exists</span> <span class="o">=</span> <span class="n">results_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hash</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_run_with_current_setup</span><span class="p">:</span>
            <span class="n">flow_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Node has not run, needs to run&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">cache_results</span> <span class="ow">and</span> <span class="n">cache_result_exists</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">cache_results</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">cache_result_exists</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">performance_mode</span> <span class="ow">and</span> <span class="n">cache_result_exists</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Makes the node instance callable, acting as an alias for execute_node.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">execute_node</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">execute_full_local</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">performance_mode</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Executes the node&#39;s logic locally, including example data generation.</span>

<span class="sd">        Args:</span>
<span class="sd">            performance_mode: If True, skips generating example data.</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception: Propagates exceptions from the execution.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clear_table_example</span><span class="p">()</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">example_data_generator</span><span class="p">():</span>
            <span class="n">example_data</span> <span class="o">=</span> <span class="kc">None</span>

            <span class="k">def</span><span class="w"> </span><span class="nf">get_example_data</span><span class="p">():</span>
                <span class="k">nonlocal</span> <span class="n">example_data</span>
                <span class="k">if</span> <span class="n">example_data</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">example_data</span> <span class="o">=</span> <span class="n">resulting_data</span><span class="o">.</span><span class="n">get_sample</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">to_arrow</span><span class="p">()</span>
                <span class="k">return</span> <span class="n">example_data</span>
            <span class="k">return</span> <span class="n">get_example_data</span>
        <span class="n">resulting_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_resulting_data</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">performance_mode</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_run_with_current_setup</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">example_data_generator</span> <span class="o">=</span> <span class="n">example_data_generator</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">result_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">resulting_data</span><span class="o">.</span><span class="n">schema</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_completed_last_run</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">execute_local</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">performance_mode</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Executes the node&#39;s logic locally.</span>

<span class="sd">        Args:</span>
<span class="sd">            flow_id: The ID of the parent flow.</span>
<span class="sd">            performance_mode: If True, skips generating example data.</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception: Propagates exceptions from the execution.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">resulting_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_resulting_data</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">performance_mode</span><span class="p">:</span>
                <span class="n">external_sampler</span> <span class="o">=</span> <span class="n">ExternalSampler</span><span class="p">(</span><span class="n">lf</span><span class="o">=</span><span class="n">resulting_data</span><span class="o">.</span><span class="n">data_frame</span><span class="p">,</span> <span class="n">file_ref</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hash</span><span class="p">,</span>
                                                   <span class="n">wait_on_completion</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">node_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span> <span class="n">flow_id</span><span class="o">=</span><span class="n">flow_id</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">store_example_data_generator</span><span class="p">(</span><span class="n">external_sampler</span><span class="p">)</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">is_canceled</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_run_with_current_setup</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">result_schema</span> <span class="o">=</span> <span class="n">resulting_data</span><span class="o">.</span><span class="n">schema</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error with step </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_run_with_current_setup</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_completed_last_run</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">raise</span> <span class="n">e</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_run_with_current_setup</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">leads_to_nodes</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">streamable</span><span class="p">:</span>
                    <span class="n">step</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">streamable</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">streamable</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">execute_remote</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">performance_mode</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">node_logger</span><span class="p">:</span> <span class="n">NodeLogger</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Executes the node&#39;s logic remotely or handles cached results.</span>

<span class="sd">        Args:</span>
<span class="sd">            performance_mode: If True, skips generating example data.</span>
<span class="sd">            node_logger: The logger for this node execution.</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception: If the node_logger is not provided or if execution fails.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">node_logger</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Node logger is not defined&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">cache_results</span> <span class="ow">and</span> <span class="n">results_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hash</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">resulting_data</span> <span class="o">=</span> <span class="n">get_external_df_result</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hash</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_cache_progress</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">return</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">node_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;Failed to read the cache, rerunning the code&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_type</span> <span class="o">==</span> <span class="s1">&#39;output&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">resulting_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_resulting_data</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_run_with_current_setup</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">return</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_resulting_data</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="s1">&#39;Error with creating the lazy frame, most likely due to invalid graph&#39;</span>
            <span class="k">raise</span> <span class="n">e</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">performance_mode</span><span class="p">:</span>
            <span class="n">external_df_fetcher</span> <span class="o">=</span> <span class="n">ExternalDfFetcher</span><span class="p">(</span><span class="n">lf</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_resulting_data</span><span class="p">()</span><span class="o">.</span><span class="n">data_frame</span><span class="p">,</span>
                                                    <span class="n">file_ref</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hash</span><span class="p">,</span> <span class="n">wait_on_completion</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                                    <span class="n">flow_id</span><span class="o">=</span><span class="n">node_logger</span><span class="o">.</span><span class="n">flow_id</span><span class="p">,</span>
                                                    <span class="n">node_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_fetch_cached_df</span> <span class="o">=</span> <span class="n">external_df_fetcher</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">lf</span> <span class="o">=</span> <span class="n">external_df_fetcher</span><span class="o">.</span><span class="n">get_result</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">resulting_data</span> <span class="o">=</span> <span class="n">FlowDataEngine</span><span class="p">(</span>
                    <span class="n">lf</span><span class="p">,</span> <span class="n">number_of_records</span><span class="o">=</span><span class="n">ExternalDfFetcher</span><span class="p">(</span><span class="n">lf</span><span class="o">=</span><span class="n">lf</span><span class="p">,</span> <span class="n">operation_type</span><span class="o">=</span><span class="s1">&#39;calculate_number_of_records&#39;</span><span class="p">,</span>
                                                            <span class="n">flow_id</span><span class="o">=</span><span class="n">node_logger</span><span class="o">.</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">node_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span><span class="o">.</span><span class="n">result</span>
                <span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">performance_mode</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">store_example_data_generator</span><span class="p">(</span><span class="n">external_df_fetcher</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_run_with_current_setup</span> <span class="o">=</span> <span class="kc">True</span>

            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">node_logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;Error with external process&#39;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">external_df_fetcher</span><span class="o">.</span><span class="n">error_code</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">resulting_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_resulting_data</span><span class="p">()</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">warnings</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;Error with external process (unknown error), &#39;</span>
                                                 <span class="s1">&#39;likely the process was killed by the server because of memory constraints, &#39;</span>
                                                 <span class="s1">&#39;continue with the process. &#39;</span>
                                                 <span class="s1">&#39;We cannot display example data...&#39;</span><span class="p">)</span>
                    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                        <span class="k">raise</span> <span class="n">e</span>
                <span class="k">elif</span> <span class="n">external_df_fetcher</span><span class="o">.</span><span class="n">error_description</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">e</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="n">external_df_fetcher</span><span class="o">.</span><span class="n">error_description</span>
                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">external_df_fetcher</span><span class="o">.</span><span class="n">error_description</span><span class="p">)</span>
            <span class="k">finally</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_fetch_cached_df</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">prepare_before_run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Resets results and errors before a new execution.&quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">resulting_data</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">example_data</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">cancel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Cancels an ongoing external process if one is running.&quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fetch_cached_df</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_fetch_cached_df</span><span class="o">.</span><span class="n">cancel</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">is_canceled</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;No external process to cancel&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">is_canceled</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">execute_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_location</span><span class="p">:</span> <span class="n">schemas</span><span class="o">.</span><span class="n">ExecutionLocationsLiteral</span><span class="p">,</span>
                     <span class="n">reset_cache</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                     <span class="n">performance_mode</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                     <span class="n">retry</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                     <span class="n">node_logger</span><span class="p">:</span> <span class="n">NodeLogger</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                     <span class="n">optimize_for_downstream</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Orchestrates the execution, handling location, caching, and retries.</span>

<span class="sd">        Args:</span>
<span class="sd">            run_location: The location for execution (&#39;local&#39;, &#39;remote&#39;).</span>
<span class="sd">            reset_cache: If True, forces removal of any existing cache.</span>
<span class="sd">            performance_mode: If True, optimizes for speed over diagnostics.</span>
<span class="sd">            retry: If True, allows retrying execution on recoverable errors.</span>
<span class="sd">            node_logger: The logger for this node execution.</span>
<span class="sd">            optimize_for_downstream: If true, operations that shuffle the order of rows are fully cached and provided as</span>
<span class="sd">            input to downstream steps</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception: If the node_logger is not defined.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">node_logger</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Flow logger is not defined&#39;</span><span class="p">)</span>
        <span class="c1">#  TODO: Simplify which route is being picked there are many duplicate checks</span>

        <span class="k">if</span> <span class="n">reset_cache</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">remove_cache</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_run_with_current_setup</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_completed_last_run</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_setup</span><span class="p">:</span>
            <span class="n">node_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Starting to run </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">needs_run</span><span class="p">(</span><span class="n">performance_mode</span><span class="p">,</span> <span class="n">node_logger</span><span class="p">,</span> <span class="n">run_location</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_template</span><span class="o">.</span><span class="n">node_group</span> <span class="o">==</span> <span class="s2">&quot;output&quot;</span>
                    <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="n">run_location</span> <span class="o">==</span> <span class="s1">&#39;local&#39;</span><span class="p">)):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">clear_table_example</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">prepare_before_run</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">if</span> <span class="p">(((</span><span class="n">run_location</span> <span class="o">==</span> <span class="s1">&#39;remote&#39;</span> <span class="ow">or</span>
                         <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_default</span><span class="o">.</span><span class="n">transform_type</span> <span class="o">==</span> <span class="s1">&#39;wide&#39;</span> <span class="ow">and</span> <span class="n">optimize_for_downstream</span><span class="p">)</span> <span class="ow">and</span>
                         <span class="ow">not</span> <span class="n">run_location</span> <span class="o">==</span> <span class="s1">&#39;local&#39;</span><span class="p">))</span>
                            <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">cache_results</span><span class="p">):</span>
                        <span class="n">node_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Running the node remotely&#39;</span><span class="p">)</span>
                        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">cache_results</span><span class="p">:</span>
                            <span class="n">performance_mode</span> <span class="o">=</span> <span class="kc">False</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">execute_remote</span><span class="p">(</span><span class="n">performance_mode</span><span class="o">=</span><span class="p">(</span><span class="n">performance_mode</span> <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">cache_results</span>
                                                              <span class="k">else</span> <span class="kc">False</span><span class="p">),</span>
                                            <span class="n">node_logger</span><span class="o">=</span><span class="n">node_logger</span>
                                            <span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">node_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Running the node locally&#39;</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">execute_local</span><span class="p">(</span><span class="n">performance_mode</span><span class="o">=</span><span class="n">performance_mode</span><span class="p">,</span> <span class="n">flow_id</span><span class="o">=</span><span class="n">node_logger</span><span class="o">.</span><span class="n">flow_id</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="k">if</span> <span class="s1">&#39;No such file or directory (os error&#39;</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="ow">and</span> <span class="n">retry</span><span class="p">:</span>
                        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;Error with the input node, starting to rerun the input node...&#39;</span><span class="p">)</span>
                        <span class="n">all_inputs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">FlowNode</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">get_all_inputs</span><span class="p">()</span>
                        <span class="k">for</span> <span class="n">node_input</span> <span class="ow">in</span> <span class="n">all_inputs</span><span class="p">:</span>
                            <span class="n">node_input</span><span class="o">.</span><span class="n">execute_node</span><span class="p">(</span><span class="n">run_location</span><span class="o">=</span><span class="n">run_location</span><span class="p">,</span>
                                                    <span class="n">performance_mode</span><span class="o">=</span><span class="n">performance_mode</span><span class="p">,</span> <span class="n">retry</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                                    <span class="n">reset_cache</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                                    <span class="n">node_logger</span><span class="o">=</span><span class="n">node_logger</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">execute_node</span><span class="p">(</span><span class="n">run_location</span><span class="o">=</span><span class="n">run_location</span><span class="p">,</span>
                                          <span class="n">performance_mode</span><span class="o">=</span><span class="n">performance_mode</span><span class="p">,</span> <span class="n">retry</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                          <span class="n">node_logger</span><span class="o">=</span><span class="n">node_logger</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                        <span class="k">if</span> <span class="s2">&quot;Connection refused&quot;</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="ow">and</span> <span class="s2">&quot;/submit_query/&quot;</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
                            <span class="n">node_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;There was an issue connecting to the remote worker, &quot;</span>
                                                <span class="s2">&quot;ensure the worker process is running, &quot;</span>
                                                <span class="s2">&quot;or change the settings to, so it executes locally&quot;</span><span class="p">)</span>
                            <span class="n">node_logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Could not execute in the remote worker. (Re)start the worker service, or change settings to local settings.&quot;</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">node_logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Error with running the node: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="p">((</span><span class="n">run_location</span> <span class="o">==</span> <span class="s1">&#39;local&#39;</span><span class="p">)</span> <span class="ow">and</span>
                  <span class="p">(</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_run_with_current_setup</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_template</span><span class="o">.</span><span class="n">node_group</span> <span class="o">==</span> <span class="s2">&quot;output&quot;</span><span class="p">)):</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">node_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Executing fully locally&#39;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">execute_full_local</span><span class="p">(</span><span class="n">performance_mode</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                    <span class="n">node_logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Error with running the node: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_completed_last_run</span> <span class="o">=</span> <span class="kc">False</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">node_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Node has already run, not running the node&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">node_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Node </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1"> is not setup, cannot run the node&#39;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">store_example_data_generator</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">external_df_fetcher</span><span class="p">:</span> <span class="n">ExternalDfFetcher</span> <span class="o">|</span> <span class="n">ExternalSampler</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stores a generator function for fetching a sample of the result data.</span>

<span class="sd">        Args:</span>
<span class="sd">            external_df_fetcher: The process that generated the sample data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">external_df_fetcher</span><span class="o">.</span><span class="n">status</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">file_ref</span> <span class="o">=</span> <span class="n">external_df_fetcher</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">file_ref</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">example_data_path</span> <span class="o">=</span> <span class="n">file_ref</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">example_data_generator</span> <span class="o">=</span> <span class="n">get_read_top_n</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">file_ref</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;Could not get the sample data, the external process is not ready&#39;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">needs_reset</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Checks if the node&#39;s hash has changed, indicating an outdated state.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the calculated hash differs from the stored hash.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hash</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calculate_hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setting_input</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deep</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Resets the node&#39;s execution state and schema information.</span>

<span class="sd">        This also triggers a reset on all downstream nodes.</span>

<span class="sd">        Args:</span>
<span class="sd">            deep: If True, forces a reset even if the hash hasn&#39;t changed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">needs_reset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">needs_reset</span><span class="p">()</span> <span class="ow">or</span> <span class="n">deep</span>
        <span class="k">if</span> <span class="n">needs_reset</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">: Node needs reset&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_run_with_current_setup</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">result_schema</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">predicted_schema</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_hash</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node_information</span><span class="o">.</span><span class="n">is_setup</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_correct</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_schema_callback</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Ensure the schema callback is reset</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema_callback</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">: Resetting the schema callback&#39;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">schema_callback</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">evaluate_nodes</span><span class="p">()</span>
            <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hash</span>  <span class="c1"># Recalculate the hash after reset</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">delete_lead_to_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Removes a connection to a specific downstream node.</span>

<span class="sd">        Args:</span>
<span class="sd">            node_id: The ID of the downstream node to disconnect.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the connection was found and removed, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Deleting lead to node: </span><span class="si">{</span><span class="n">node_id</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">lead_to_node</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">leads_to_nodes</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Checking lead to node: </span><span class="si">{</span><span class="n">lead_to_node</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">lead_to_node</span><span class="o">.</span><span class="n">node_id</span> <span class="o">==</span> <span class="n">node_id</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Found the node to delete: </span><span class="si">{</span><span class="n">node_id</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">leads_to_nodes</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">delete_input_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">connection_type</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">InputConnectionClass</span> <span class="o">=</span> <span class="s1">&#39;input-0&#39;</span><span class="p">,</span>
                          <span class="n">complete</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Removes a connection from a specific input node.</span>

<span class="sd">        Args:</span>
<span class="sd">            node_id: The ID of the input node to disconnect.</span>
<span class="sd">            connection_type: The specific input handle (e.g., &#39;input-0&#39;, &#39;input-1&#39;).</span>
<span class="sd">            complete: If True, tries to delete from all input types.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if a connection was found and removed, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">deleted</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="n">connection_type</span> <span class="o">==</span> <span class="s1">&#39;input-0&#39;</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">node</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">node_id</span> <span class="o">==</span> <span class="n">node_id</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                    <span class="n">deleted</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">complete</span><span class="p">:</span>
                        <span class="k">continue</span>
        <span class="k">elif</span> <span class="n">connection_type</span> <span class="o">==</span> <span class="s1">&#39;input-1&#39;</span> <span class="ow">or</span> <span class="n">complete</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">right_input</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">right_input</span><span class="o">.</span><span class="n">node_id</span> <span class="o">==</span> <span class="n">node_id</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">right_input</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="n">deleted</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="n">connection_type</span> <span class="o">==</span> <span class="s1">&#39;input-2&#39;</span> <span class="ow">or</span> <span class="n">complete</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">left_input</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">right_input</span><span class="o">.</span><span class="n">node_id</span> <span class="o">==</span> <span class="n">node_id</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">left_input</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="n">deleted</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;Could not find the connection to delete...&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">deleted</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">deleted</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Provides a string representation of the FlowNode instance.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A string showing the node&#39;s ID and type.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Node id: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_type</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_get_readable_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Helper to get a simplified, dictionary representation of the output schema.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of dictionaries, each with &#39;column_name&#39; and &#39;data_type&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_setup</span><span class="p">:</span>
            <span class="n">output</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">:</span>
                <span class="n">output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">column_name</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">column_name</span><span class="p">,</span> <span class="n">data_type</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">data_type</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">output</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_repr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a detailed dictionary representation of the node&#39;s state.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A dictionary containing key information about the node.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">FlowNode</span><span class="o">=</span>
                    <span class="nb">dict</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                         <span class="n">step_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                         <span class="n">output_columns</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">output_columns</span><span class="p">,</span>
                         <span class="n">output_schema</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_readable_schema</span><span class="p">()))</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">number_of_leads_to_nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Counts the number of downstream node connections.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The number of nodes this node leads to.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_setup</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">leads_to_nodes</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">has_next_step</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Checks if this node has any downstream connections.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if it has at least one downstream node.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">leads_to_nodes</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">has_input</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Checks if this node has any input connections.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if it has at least one input node.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">all_inputs</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">singular_input</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Checks if the node template specifies exactly one input.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the node is a single-input type.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_template</span><span class="o">.</span><span class="n">input</span> <span class="o">==</span> <span class="mi">1</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">singular_main_input</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowNode&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the input node, assuming it is a single-input type.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The single input FlowNode, or None.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">singular_input</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_inputs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">clear_table_example</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clear the table example in the results so that it clears the existing results</span>
<span class="sd">        Returns:</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">example_data</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">example_data_generator</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">example_data_path</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_table_example</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">include_data</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TableExample</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generates a `TableExample` model summarizing the node&#39;s output.</span>

<span class="sd">        This can optionally include a sample of the data.</span>

<span class="sd">        Args:</span>
<span class="sd">            include_data: If True, includes a data sample in the result.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A `TableExample` object, or None if the node is not set up.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Getting a table example&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_setup</span> <span class="ow">and</span> <span class="n">include_data</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_completed_last_run</span><span class="p">:</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_template</span><span class="o">.</span><span class="n">node_group</span> <span class="o">==</span> <span class="s1">&#39;output&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;getting the table example&#39;</span><span class="p">)</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">main_input</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_table_example</span><span class="p">(</span><span class="n">include_data</span><span class="p">)</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;getting the table example since the node has run&#39;</span><span class="p">)</span>
            <span class="n">example_data_getter</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">example_data_generator</span>
            <span class="k">if</span> <span class="n">example_data_getter</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">example_data_getter</span><span class="p">()</span><span class="o">.</span><span class="n">to_pylist</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">data</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">schema</span> <span class="o">=</span> <span class="p">[</span><span class="n">FileColumn</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">get_column_repr</span><span class="p">())</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">]</span>
            <span class="n">fl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_resulting_data</span><span class="p">()</span>
            <span class="n">has_example_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">example_data_generator</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

            <span class="k">return</span> <span class="n">TableExample</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                                <span class="n">name</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">),</span> <span class="n">number_of_records</span><span class="o">=</span><span class="mi">999</span><span class="p">,</span>
                                <span class="n">number_of_columns</span><span class="o">=</span><span class="n">fl</span><span class="o">.</span><span class="n">number_of_fields</span><span class="p">,</span>
                                <span class="n">table_schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">fl</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
                                <span class="n">has_example_data</span><span class="o">=</span><span class="n">has_example_data</span><span class="p">,</span>
                                <span class="n">has_run_with_current_setup</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_run_with_current_setup</span>
                                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;getting the table example but the node has not run&#39;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">schema</span> <span class="o">=</span> <span class="p">[</span><span class="n">FileColumn</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">get_column_repr</span><span class="p">())</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">]</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                <span class="n">schema</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">schema</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">TableExample</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                                <span class="n">name</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">),</span> <span class="n">number_of_records</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                <span class="n">number_of_columns</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">columns</span><span class="p">),</span>
                                <span class="n">table_schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">,</span>
                                <span class="n">data</span><span class="o">=</span><span class="p">[])</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_node_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">include_example</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">NodeData</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gathers all necessary data for representing the node in the UI.</span>

<span class="sd">        Args:</span>
<span class="sd">            flow_id: The ID of the parent flow.</span>
<span class="sd">            include_example: If True, includes data samples.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A `NodeData` object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">NodeData</span><span class="p">(</span><span class="n">flow_id</span><span class="o">=</span><span class="n">flow_id</span><span class="p">,</span>
                        <span class="n">node_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                        <span class="n">has_run</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_run_with_current_setup</span><span class="p">,</span>
                        <span class="n">setting_input</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">setting_input</span><span class="p">,</span>
                        <span class="n">flow_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_type</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">main_input</span><span class="p">:</span>
            <span class="n">node</span><span class="o">.</span><span class="n">main_input</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">main_input</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_table_example</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">left_input</span><span class="p">:</span>
            <span class="n">node</span><span class="o">.</span><span class="n">left_input</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">left_input</span><span class="o">.</span><span class="n">get_table_example</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">right_input</span><span class="p">:</span>
            <span class="n">node</span><span class="o">.</span><span class="n">right_input</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">right_input</span><span class="o">.</span><span class="n">get_table_example</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_setup</span><span class="p">:</span>
            <span class="n">node</span><span class="o">.</span><span class="n">main_output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_table_example</span><span class="p">(</span><span class="n">include_example</span><span class="p">)</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">setting_generator</span><span class="o">.</span><span class="n">get_setting_generator</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_type</span><span class="p">)(</span><span class="n">node</span><span class="p">)</span>

        <span class="n">node</span> <span class="o">=</span> <span class="n">setting_updator</span><span class="o">.</span><span class="n">get_setting_updator</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_type</span><span class="p">)(</span><span class="n">node</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">node</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_output_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TableExample</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the full output data sample for this node.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A `TableExample` object with data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_table_example</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_node_input</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">schemas</span><span class="o">.</span><span class="n">NodeInput</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a `NodeInput` schema object for representing this node in the UI.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A `NodeInput` object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">schemas</span><span class="o">.</span><span class="n">NodeInput</span><span class="p">(</span><span class="n">pos_y</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">setting_input</span><span class="o">.</span><span class="n">pos_y</span><span class="p">,</span>
                                 <span class="n">pos_x</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">setting_input</span><span class="o">.</span><span class="n">pos_x</span><span class="p">,</span>
                                 <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                                 <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">node_template</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_edge_input</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">schemas</span><span class="o">.</span><span class="n">NodeEdge</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generates `NodeEdge` objects for all input connections to this node.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of `NodeEdge` objects.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">edges</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">main_input</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span><span class="p">):</span>
                <span class="n">edges</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">schemas</span><span class="o">.</span><span class="n">NodeEdge</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">main_input</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">-</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">-</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
                                              <span class="n">source</span><span class="o">=</span><span class="n">main_input</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                                              <span class="n">target</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                                              <span class="n">sourceHandle</span><span class="o">=</span><span class="s1">&#39;output-0&#39;</span><span class="p">,</span>
                                              <span class="n">targetHandle</span><span class="o">=</span><span class="s1">&#39;input-0&#39;</span><span class="p">,</span>
                                              <span class="p">))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">left_input</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">edges</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">schemas</span><span class="o">.</span><span class="n">NodeEdge</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">left_input</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">-</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">-right&#39;</span><span class="p">,</span>
                                          <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">left_input</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                                          <span class="n">target</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                                          <span class="n">sourceHandle</span><span class="o">=</span><span class="s1">&#39;output-0&#39;</span><span class="p">,</span>
                                          <span class="n">targetHandle</span><span class="o">=</span><span class="s1">&#39;input-2&#39;</span><span class="p">,</span>
                                          <span class="p">))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">right_input</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">edges</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">schemas</span><span class="o">.</span><span class="n">NodeEdge</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">right_input</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">-</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">-left&#39;</span><span class="p">,</span>
                                          <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">right_input</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                                          <span class="n">target</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                                          <span class="n">sourceHandle</span><span class="o">=</span><span class="s1">&#39;output-0&#39;</span><span class="p">,</span>
                                          <span class="n">targetHandle</span><span class="o">=</span><span class="s1">&#39;input-1&#39;</span><span class="p">,</span>
                                          <span class="p">))</span>
        <span class="k">return</span> <span class="n">edges</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.all_inputs" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">all_inputs</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Gets a list of all nodes connected to any input port.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_node.flow_node.FlowNode" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode">FlowNode</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of all input FlowNodes.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.function" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">function</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Gets the core processing function of the node.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Callable">Callable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The callable function.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.has_input" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">has_input</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Checks if this node has any input connections.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if it has at least one input node.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.has_next_step" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">has_next_step</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Checks if this node has any downstream connections.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if it has at least one downstream node.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.hash" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="nb">hash</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Gets the cached hash for the node, calculating it if it doesn't exist.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The string hash value.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.is_correct" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">is_correct</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Checks if the node's input connections satisfy its template requirements.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if connections are valid, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.is_setup" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">is_setup</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Checks if the node has been properly configured and is ready for execution.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the node is set up, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.is_start" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">is_start</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Determines if the node is a starting node in the flow.</p>
<p>A starting node requires no inputs.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the node is a start node, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.left_input" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">left_input</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Gets the node connected to the left input port.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_node.flow_node.FlowNode" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode">FlowNode</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The left input FlowNode, or None.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.main_input" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">main_input</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Gets the list of nodes connected to the main input port(s).</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_node.flow_node.FlowNode" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode">FlowNode</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of main input FlowNodes.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.name" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">name</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Gets the name of the node.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The node's name.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.node_id" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">node_id</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Gets the unique identifier of the node.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The node's ID.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.number_of_leads_to_nodes" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">number_of_leads_to_nodes</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Counts the number of downstream node connections.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="int">int</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of nodes this node leads to.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.right_input" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">right_input</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Gets the node connected to the right input port.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_node.flow_node.FlowNode" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode">FlowNode</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The right input FlowNode, or None.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.schema" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">schema</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Gets the definitive output schema of the node.</p>
<p>If not already run, it falls back to the predicted schema.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn">FlowfileColumn</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of FlowfileColumn objects.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.schema_callback" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">schema_callback</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Gets the schema callback function, creating one if it doesn't exist.</p>
<p>The callback is used for predicting the output schema without full execution.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="flowfile_core.flowfile.flow_node.schema_callback.SingleExecutionFuture">SingleExecutionFuture</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A SingleExecutionFuture instance wrapping the schema function.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.setting_input" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">setting_input</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Gets the node's specific configuration settings.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings object.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.singular_input" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">singular_input</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Checks if the node template specifies exactly one input.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the node is a single-input type.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.singular_main_input" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">singular_main_input</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Gets the input node, assuming it is a single-input type.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_node.flow_node.FlowNode" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode">FlowNode</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The single input FlowNode, or None.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.state_needs_reset" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">state_needs_reset</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Checks if the node's state needs to be reset.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if a reset is required, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>




<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.__call__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="fm">__call__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Makes the node instance callable, acting as an alias for execute_node.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Makes the node instance callable, acting as an alias for execute_node.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">execute_node</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.__init__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">node_id</span><span class="p">,</span> <span class="n">function</span><span class="p">,</span> <span class="n">parent_uuid</span><span class="p">,</span> <span class="n">setting_input</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">node_type</span><span class="p">,</span> <span class="n">input_columns</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">output_schema</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">drop_columns</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">renew_schema</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">pos_x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pos_y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">schema_callback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Initializes a FlowNode instance.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>node_id</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Unique identifier for the node.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>function</code>
            </td>
            <td>
                  <code><span title="typing.Callable">Callable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core data processing function for the node.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>parent_uuid</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The UUID of the parent flow.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>setting_input</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The configuration/settings object for the node.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the node.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>node_type</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type identifier of the node (e.g., 'join', 'filter').</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>input_columns</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of column names expected as input.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>output_schema</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn">FlowfileColumn</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The schema of the columns to be added.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>drop_columns</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of column names to be dropped.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>renew_schema</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Flag to indicate if the schema should be renewed.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pos_x</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The x-coordinate on the canvas.</p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pos_y</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The y-coordinate on the canvas.</p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>schema_callback</code>
            </td>
            <td>
                  <code><span title="typing.Callable">Callable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A custom function to calculate the output schema.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="n">function</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span>
             <span class="n">parent_uuid</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
             <span class="n">setting_input</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
             <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
             <span class="n">node_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
             <span class="n">input_columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">output_schema</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">FlowfileColumn</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">drop_columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">renew_schema</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
             <span class="n">pos_x</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
             <span class="n">pos_y</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
             <span class="n">schema_callback</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initializes a FlowNode instance.</span>

<span class="sd">    Args:</span>
<span class="sd">        node_id: Unique identifier for the node.</span>
<span class="sd">        function: The core data processing function for the node.</span>
<span class="sd">        parent_uuid: The UUID of the parent flow.</span>
<span class="sd">        setting_input: The configuration/settings object for the node.</span>
<span class="sd">        name: The name of the node.</span>
<span class="sd">        node_type: The type identifier of the node (e.g., &#39;join&#39;, &#39;filter&#39;).</span>
<span class="sd">        input_columns: List of column names expected as input.</span>
<span class="sd">        output_schema: The schema of the columns to be added.</span>
<span class="sd">        drop_columns: List of column names to be dropped.</span>
<span class="sd">        renew_schema: Flag to indicate if the schema should be renewed.</span>
<span class="sd">        pos_x: The x-coordinate on the canvas.</span>
<span class="sd">        pos_y: The y-coordinate on the canvas.</span>
<span class="sd">        schema_callback: A custom function to calculate the output schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">parent_uuid</span> <span class="o">=</span> <span class="n">parent_uuid</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">post_init</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">active</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">node_information</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">node_id</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">node_type</span> <span class="o">=</span> <span class="n">node_type</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">renew_schema</span> <span class="o">=</span> <span class="n">renew_schema</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update_node</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="n">function</span><span class="p">,</span>
                     <span class="n">input_columns</span><span class="o">=</span><span class="n">input_columns</span><span class="p">,</span>
                     <span class="n">output_schema</span><span class="o">=</span><span class="n">output_schema</span><span class="p">,</span>
                     <span class="n">drop_columns</span><span class="o">=</span><span class="n">drop_columns</span><span class="p">,</span>
                     <span class="n">setting_input</span><span class="o">=</span><span class="n">setting_input</span><span class="p">,</span>
                     <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
                     <span class="n">pos_x</span><span class="o">=</span><span class="n">pos_x</span><span class="p">,</span>
                     <span class="n">pos_y</span><span class="o">=</span><span class="n">pos_y</span><span class="p">,</span>
                     <span class="n">schema_callback</span><span class="o">=</span><span class="n">schema_callback</span><span class="p">,</span>
                     <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.__repr__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="fm">__repr__</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Provides a string representation of the FlowNode instance.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string showing the node's ID and type.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Provides a string representation of the FlowNode instance.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A string showing the node&#39;s ID and type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Node id: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_type</span><span class="si">}</span><span class="s2">)&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.add_lead_to_in_depend_source" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_lead_to_in_depend_source</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Ensures this node is registered in the <code>leads_to_nodes</code> list of its inputs.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_lead_to_in_depend_source</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Ensures this node is registered in the `leads_to_nodes` list of its inputs.&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">input_node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_inputs</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="n">n</span><span class="o">.</span><span class="n">node_id</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">input_node</span><span class="o">.</span><span class="n">leads_to_nodes</span><span class="p">]:</span>
            <span class="n">input_node</span><span class="o">.</span><span class="n">leads_to_nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.add_node_connection" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_node_connection</span><span class="p">(</span><span class="n">from_node</span><span class="p">,</span> <span class="n">insert_type</span><span class="o">=</span><span class="s1">&#39;main&#39;</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a connection from a source node to this node.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>from_node</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_node.flow_node.FlowNode" href="#flowfile_core.flowfile.flow_node.flow_node.FlowNode">FlowNode</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The node to connect from.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>insert_type</code>
            </td>
            <td>
                  <code><span title="typing.Literal">Literal</span>[&#39;main&#39;, &#39;left&#39;, &#39;right&#39;]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type of input to connect to ('main', 'left', 'right').</p>
              </div>
            </td>
            <td>
                  <code>&#39;main&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="Exception">Exception</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the insert_type is invalid.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_node_connection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">from_node</span><span class="p">:</span> <span class="s2">&quot;FlowNode&quot;</span><span class="p">,</span>
                        <span class="n">insert_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;main&#39;</span><span class="p">,</span> <span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;main&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a connection from a source node to this node.</span>

<span class="sd">    Args:</span>
<span class="sd">        from_node: The node to connect from.</span>
<span class="sd">        insert_type: The type of input to connect to (&#39;main&#39;, &#39;left&#39;, &#39;right&#39;).</span>

<span class="sd">    Raises:</span>
<span class="sd">        Exception: If the insert_type is invalid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">from_node</span><span class="o">.</span><span class="n">leads_to_nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">insert_type</span> <span class="o">==</span> <span class="s1">&#39;main&#39;</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_template</span><span class="o">.</span><span class="n">input</span> <span class="o">&lt;=</span> <span class="mi">2</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span> <span class="o">=</span> <span class="p">[</span><span class="n">from_node</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">from_node</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">insert_type</span> <span class="o">==</span> <span class="s1">&#39;right&#39;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">right_input</span> <span class="o">=</span> <span class="n">from_node</span>
    <span class="k">elif</span> <span class="n">insert_type</span> <span class="o">==</span> <span class="s1">&#39;left&#39;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">left_input</span> <span class="o">=</span> <span class="n">from_node</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Cannot find the connection&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">setting_input</span><span class="o">.</span><span class="n">is_setup</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setting_input</span><span class="p">,</span> <span class="s1">&#39;depending_on_id&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">insert_type</span> <span class="o">==</span> <span class="s1">&#39;main&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setting_input</span><span class="o">.</span><span class="n">depending_on_id</span> <span class="o">=</span> <span class="n">from_node</span><span class="o">.</span><span class="n">node_id</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
    <span class="n">from_node</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.calculate_hash" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">calculate_hash</span><span class="p">(</span><span class="n">setting_input</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Calculates a hash based on settings and input node hashes.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>setting_input</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The node's settings object to be included in the hash.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string hash value.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">calculate_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">setting_input</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculates a hash based on settings and input node hashes.</span>

<span class="sd">    Args:</span>
<span class="sd">        setting_input: The node&#39;s settings object to be included in the hash.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A string hash value.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">depends_on_hashes</span> <span class="o">=</span> <span class="p">[</span><span class="n">_node</span><span class="o">.</span><span class="n">hash</span> <span class="k">for</span> <span class="n">_node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_inputs</span><span class="p">]</span>
    <span class="n">node_data_hash</span> <span class="o">=</span> <span class="n">get_hash</span><span class="p">(</span><span class="n">setting_input</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">get_hash</span><span class="p">(</span><span class="n">depends_on_hashes</span> <span class="o">+</span> <span class="p">[</span><span class="n">node_data_hash</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent_uuid</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.cancel" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">cancel</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Cancels an ongoing external process if one is running.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">cancel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Cancels an ongoing external process if one is running.&quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fetch_cached_df</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fetch_cached_df</span><span class="o">.</span><span class="n">cancel</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">is_canceled</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;No external process to cancel&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">is_canceled</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.clear_table_example" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">clear_table_example</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Clear the table example in the results so that it clears the existing results
Returns:
    None</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">clear_table_example</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Clear the table example in the results so that it clears the existing results</span>
<span class="sd">    Returns:</span>
<span class="sd">        None</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">example_data</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">example_data_generator</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">example_data_path</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.create_schema_callback_from_function" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">create_schema_callback_from_function</span><span class="p">(</span><span class="n">f</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Wraps a node's function to create a schema callback that extracts the schema.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>f</code>
            </td>
            <td>
                  <code><span title="typing.Callable">Callable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The node's core function that returns a FlowDataEngine instance.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Callable">Callable</span>[[], <span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn">FlowfileColumn</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A callable that, when executed, returns the output schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create_schema_callback_from_function</span><span class="p">(</span><span class="n">f</span><span class="p">:</span> <span class="n">Callable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[],</span> <span class="n">List</span><span class="p">[</span><span class="n">FlowfileColumn</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Wraps a node&#39;s function to create a schema callback that extracts the schema.</span>

<span class="sd">    Args:</span>
<span class="sd">        f: The node&#39;s core function that returns a FlowDataEngine instance.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A callable that, when executed, returns the output schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">schema_callback</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlowfileColumn</span><span class="p">]:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Executing the schema callback function based on the node function&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">f</span><span class="p">()</span><span class="o">.</span><span class="n">schema</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Error with the schema callback: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">[]</span>
    <span class="k">return</span> <span class="n">schema_callback</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.delete_input_node" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">delete_input_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">,</span> <span class="n">connection_type</span><span class="o">=</span><span class="s1">&#39;input-0&#39;</span><span class="p">,</span> <span class="n">complete</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Removes a connection from a specific input node.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>node_id</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the input node to disconnect.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>connection_type</code>
            </td>
            <td>
                  <code><span title="flowfile_core.schemas.input_schema.InputConnectionClass">InputConnectionClass</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The specific input handle (e.g., 'input-0', 'input-1').</p>
              </div>
            </td>
            <td>
                  <code>&#39;input-0&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>complete</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, tries to delete from all input types.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if a connection was found and removed, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">delete_input_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">connection_type</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">InputConnectionClass</span> <span class="o">=</span> <span class="s1">&#39;input-0&#39;</span><span class="p">,</span>
                      <span class="n">complete</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Removes a connection from a specific input node.</span>

<span class="sd">    Args:</span>
<span class="sd">        node_id: The ID of the input node to disconnect.</span>
<span class="sd">        connection_type: The specific input handle (e.g., &#39;input-0&#39;, &#39;input-1&#39;).</span>
<span class="sd">        complete: If True, tries to delete from all input types.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if a connection was found and removed, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">deleted</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="n">connection_type</span> <span class="o">==</span> <span class="s1">&#39;input-0&#39;</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">node</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">node_id</span> <span class="o">==</span> <span class="n">node_id</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="n">deleted</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">complete</span><span class="p">:</span>
                    <span class="k">continue</span>
    <span class="k">elif</span> <span class="n">connection_type</span> <span class="o">==</span> <span class="s1">&#39;input-1&#39;</span> <span class="ow">or</span> <span class="n">complete</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">right_input</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">right_input</span><span class="o">.</span><span class="n">node_id</span> <span class="o">==</span> <span class="n">node_id</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">right_input</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">deleted</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">elif</span> <span class="n">connection_type</span> <span class="o">==</span> <span class="s1">&#39;input-2&#39;</span> <span class="ow">or</span> <span class="n">complete</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">left_input</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">right_input</span><span class="o">.</span><span class="n">node_id</span> <span class="o">==</span> <span class="n">node_id</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">left_input</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">deleted</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;Could not find the connection to delete...&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">deleted</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">deleted</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.delete_lead_to_node" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">delete_lead_to_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Removes a connection to a specific downstream node.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>node_id</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the downstream node to disconnect.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the connection was found and removed, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">delete_lead_to_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Removes a connection to a specific downstream node.</span>

<span class="sd">    Args:</span>
<span class="sd">        node_id: The ID of the downstream node to disconnect.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the connection was found and removed, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Deleting lead to node: </span><span class="si">{</span><span class="n">node_id</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">lead_to_node</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">leads_to_nodes</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Checking lead to node: </span><span class="si">{</span><span class="n">lead_to_node</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">lead_to_node</span><span class="o">.</span><span class="n">node_id</span> <span class="o">==</span> <span class="n">node_id</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Found the node to delete: </span><span class="si">{</span><span class="n">node_id</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">leads_to_nodes</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.evaluate_nodes" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">evaluate_nodes</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Triggers a state reset for all directly connected downstream nodes.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>deep</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, the reset propagates recursively through the entire downstream graph.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">evaluate_nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deep</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Triggers a state reset for all directly connected downstream nodes.</span>

<span class="sd">    Args:</span>
<span class="sd">        deep: If True, the reset propagates recursively through the entire downstream graph.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">leads_to_nodes</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;resetting node: </span><span class="si">{</span><span class="n">node</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">node</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span><span class="n">deep</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.execute_full_local" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">execute_full_local</span><span class="p">(</span><span class="n">performance_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Executes the node's logic locally, including example data generation.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>performance_mode</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, skips generating example data.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="Exception">Exception</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Propagates exceptions from the execution.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">execute_full_local</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">performance_mode</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Executes the node&#39;s logic locally, including example data generation.</span>

<span class="sd">    Args:</span>
<span class="sd">        performance_mode: If True, skips generating example data.</span>

<span class="sd">    Raises:</span>
<span class="sd">        Exception: Propagates exceptions from the execution.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">clear_table_example</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">example_data_generator</span><span class="p">():</span>
        <span class="n">example_data</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">get_example_data</span><span class="p">():</span>
            <span class="k">nonlocal</span> <span class="n">example_data</span>
            <span class="k">if</span> <span class="n">example_data</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">example_data</span> <span class="o">=</span> <span class="n">resulting_data</span><span class="o">.</span><span class="n">get_sample</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">to_arrow</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">example_data</span>
        <span class="k">return</span> <span class="n">get_example_data</span>
    <span class="n">resulting_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_resulting_data</span><span class="p">()</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">performance_mode</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_run_with_current_setup</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">example_data_generator</span> <span class="o">=</span> <span class="n">example_data_generator</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">result_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">resulting_data</span><span class="o">.</span><span class="n">schema</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_completed_last_run</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.execute_local" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">execute_local</span><span class="p">(</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">performance_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Executes the node's logic locally.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>flow_id</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the parent flow.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>performance_mode</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, skips generating example data.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="Exception">Exception</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Propagates exceptions from the execution.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">execute_local</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">performance_mode</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Executes the node&#39;s logic locally.</span>

<span class="sd">    Args:</span>
<span class="sd">        flow_id: The ID of the parent flow.</span>
<span class="sd">        performance_mode: If True, skips generating example data.</span>

<span class="sd">    Raises:</span>
<span class="sd">        Exception: Propagates exceptions from the execution.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">resulting_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_resulting_data</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">performance_mode</span><span class="p">:</span>
            <span class="n">external_sampler</span> <span class="o">=</span> <span class="n">ExternalSampler</span><span class="p">(</span><span class="n">lf</span><span class="o">=</span><span class="n">resulting_data</span><span class="o">.</span><span class="n">data_frame</span><span class="p">,</span> <span class="n">file_ref</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hash</span><span class="p">,</span>
                                               <span class="n">wait_on_completion</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">node_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span> <span class="n">flow_id</span><span class="o">=</span><span class="n">flow_id</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">store_example_data_generator</span><span class="p">(</span><span class="n">external_sampler</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">is_canceled</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_run_with_current_setup</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">result_schema</span> <span class="o">=</span> <span class="n">resulting_data</span><span class="o">.</span><span class="n">schema</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error with step </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_run_with_current_setup</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_completed_last_run</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">raise</span> <span class="n">e</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_run_with_current_setup</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">leads_to_nodes</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">streamable</span><span class="p">:</span>
                <span class="n">step</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">streamable</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">streamable</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.execute_node" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">execute_node</span><span class="p">(</span><span class="n">run_location</span><span class="p">,</span> <span class="n">reset_cache</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">performance_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">retry</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">node_logger</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">optimize_for_downstream</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Orchestrates the execution, handling location, caching, and retries.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>run_location</code>
            </td>
            <td>
                  <code><span title="flowfile_core.schemas.schemas.ExecutionLocationsLiteral">ExecutionLocationsLiteral</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The location for execution ('local', 'remote').</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>reset_cache</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, forces removal of any existing cache.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>performance_mode</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, optimizes for speed over diagnostics.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>retry</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, allows retrying execution on recoverable errors.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>node_logger</code>
            </td>
            <td>
                  <code><span title="flowfile_core.configs.flow_logger.NodeLogger">NodeLogger</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The logger for this node execution.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>optimize_for_downstream</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If true, operations that shuffle the order of rows are fully cached and provided as</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="Exception">Exception</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the node_logger is not defined.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">execute_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_location</span><span class="p">:</span> <span class="n">schemas</span><span class="o">.</span><span class="n">ExecutionLocationsLiteral</span><span class="p">,</span>
                 <span class="n">reset_cache</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                 <span class="n">performance_mode</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                 <span class="n">retry</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                 <span class="n">node_logger</span><span class="p">:</span> <span class="n">NodeLogger</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">optimize_for_downstream</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Orchestrates the execution, handling location, caching, and retries.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_location: The location for execution (&#39;local&#39;, &#39;remote&#39;).</span>
<span class="sd">        reset_cache: If True, forces removal of any existing cache.</span>
<span class="sd">        performance_mode: If True, optimizes for speed over diagnostics.</span>
<span class="sd">        retry: If True, allows retrying execution on recoverable errors.</span>
<span class="sd">        node_logger: The logger for this node execution.</span>
<span class="sd">        optimize_for_downstream: If true, operations that shuffle the order of rows are fully cached and provided as</span>
<span class="sd">        input to downstream steps</span>

<span class="sd">    Raises:</span>
<span class="sd">        Exception: If the node_logger is not defined.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">node_logger</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Flow logger is not defined&#39;</span><span class="p">)</span>
    <span class="c1">#  TODO: Simplify which route is being picked there are many duplicate checks</span>

    <span class="k">if</span> <span class="n">reset_cache</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_cache</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_run_with_current_setup</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_completed_last_run</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_setup</span><span class="p">:</span>
        <span class="n">node_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Starting to run </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">needs_run</span><span class="p">(</span><span class="n">performance_mode</span><span class="p">,</span> <span class="n">node_logger</span><span class="p">,</span> <span class="n">run_location</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_template</span><span class="o">.</span><span class="n">node_group</span> <span class="o">==</span> <span class="s2">&quot;output&quot;</span>
                <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="n">run_location</span> <span class="o">==</span> <span class="s1">&#39;local&#39;</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">clear_table_example</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prepare_before_run</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="p">(((</span><span class="n">run_location</span> <span class="o">==</span> <span class="s1">&#39;remote&#39;</span> <span class="ow">or</span>
                     <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_default</span><span class="o">.</span><span class="n">transform_type</span> <span class="o">==</span> <span class="s1">&#39;wide&#39;</span> <span class="ow">and</span> <span class="n">optimize_for_downstream</span><span class="p">)</span> <span class="ow">and</span>
                     <span class="ow">not</span> <span class="n">run_location</span> <span class="o">==</span> <span class="s1">&#39;local&#39;</span><span class="p">))</span>
                        <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">cache_results</span><span class="p">):</span>
                    <span class="n">node_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Running the node remotely&#39;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">cache_results</span><span class="p">:</span>
                        <span class="n">performance_mode</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">execute_remote</span><span class="p">(</span><span class="n">performance_mode</span><span class="o">=</span><span class="p">(</span><span class="n">performance_mode</span> <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">cache_results</span>
                                                          <span class="k">else</span> <span class="kc">False</span><span class="p">),</span>
                                        <span class="n">node_logger</span><span class="o">=</span><span class="n">node_logger</span>
                                        <span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">node_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Running the node locally&#39;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">execute_local</span><span class="p">(</span><span class="n">performance_mode</span><span class="o">=</span><span class="n">performance_mode</span><span class="p">,</span> <span class="n">flow_id</span><span class="o">=</span><span class="n">node_logger</span><span class="o">.</span><span class="n">flow_id</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">if</span> <span class="s1">&#39;No such file or directory (os error&#39;</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="ow">and</span> <span class="n">retry</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;Error with the input node, starting to rerun the input node...&#39;</span><span class="p">)</span>
                    <span class="n">all_inputs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">FlowNode</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">get_all_inputs</span><span class="p">()</span>
                    <span class="k">for</span> <span class="n">node_input</span> <span class="ow">in</span> <span class="n">all_inputs</span><span class="p">:</span>
                        <span class="n">node_input</span><span class="o">.</span><span class="n">execute_node</span><span class="p">(</span><span class="n">run_location</span><span class="o">=</span><span class="n">run_location</span><span class="p">,</span>
                                                <span class="n">performance_mode</span><span class="o">=</span><span class="n">performance_mode</span><span class="p">,</span> <span class="n">retry</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                                <span class="n">reset_cache</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                                <span class="n">node_logger</span><span class="o">=</span><span class="n">node_logger</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">execute_node</span><span class="p">(</span><span class="n">run_location</span><span class="o">=</span><span class="n">run_location</span><span class="p">,</span>
                                      <span class="n">performance_mode</span><span class="o">=</span><span class="n">performance_mode</span><span class="p">,</span> <span class="n">retry</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                      <span class="n">node_logger</span><span class="o">=</span><span class="n">node_logger</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                    <span class="k">if</span> <span class="s2">&quot;Connection refused&quot;</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="ow">and</span> <span class="s2">&quot;/submit_query/&quot;</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
                        <span class="n">node_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;There was an issue connecting to the remote worker, &quot;</span>
                                            <span class="s2">&quot;ensure the worker process is running, &quot;</span>
                                            <span class="s2">&quot;or change the settings to, so it executes locally&quot;</span><span class="p">)</span>
                        <span class="n">node_logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Could not execute in the remote worker. (Re)start the worker service, or change settings to local settings.&quot;</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">node_logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Error with running the node: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="p">((</span><span class="n">run_location</span> <span class="o">==</span> <span class="s1">&#39;local&#39;</span><span class="p">)</span> <span class="ow">and</span>
              <span class="p">(</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_run_with_current_setup</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_template</span><span class="o">.</span><span class="n">node_group</span> <span class="o">==</span> <span class="s2">&quot;output&quot;</span><span class="p">)):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">node_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Executing fully locally&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">execute_full_local</span><span class="p">(</span><span class="n">performance_mode</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                <span class="n">node_logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Error with running the node: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_completed_last_run</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">node_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Node has already run, not running the node&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">node_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Node </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1"> is not setup, cannot run the node&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.execute_remote" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">execute_remote</span><span class="p">(</span><span class="n">performance_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">node_logger</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Executes the node's logic remotely or handles cached results.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>performance_mode</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, skips generating example data.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>node_logger</code>
            </td>
            <td>
                  <code><span title="flowfile_core.configs.flow_logger.NodeLogger">NodeLogger</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The logger for this node execution.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="Exception">Exception</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the node_logger is not provided or if execution fails.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">execute_remote</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">performance_mode</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">node_logger</span><span class="p">:</span> <span class="n">NodeLogger</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Executes the node&#39;s logic remotely or handles cached results.</span>

<span class="sd">    Args:</span>
<span class="sd">        performance_mode: If True, skips generating example data.</span>
<span class="sd">        node_logger: The logger for this node execution.</span>

<span class="sd">    Raises:</span>
<span class="sd">        Exception: If the node_logger is not provided or if execution fails.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">node_logger</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Node logger is not defined&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">cache_results</span> <span class="ow">and</span> <span class="n">results_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hash</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">resulting_data</span> <span class="o">=</span> <span class="n">get_external_df_result</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hash</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_cache_progress</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">return</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">node_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;Failed to read the cache, rerunning the code&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_type</span> <span class="o">==</span> <span class="s1">&#39;output&#39;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">resulting_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_resulting_data</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_run_with_current_setup</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">return</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_resulting_data</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="s1">&#39;Error with creating the lazy frame, most likely due to invalid graph&#39;</span>
        <span class="k">raise</span> <span class="n">e</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">performance_mode</span><span class="p">:</span>
        <span class="n">external_df_fetcher</span> <span class="o">=</span> <span class="n">ExternalDfFetcher</span><span class="p">(</span><span class="n">lf</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_resulting_data</span><span class="p">()</span><span class="o">.</span><span class="n">data_frame</span><span class="p">,</span>
                                                <span class="n">file_ref</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hash</span><span class="p">,</span> <span class="n">wait_on_completion</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                                <span class="n">flow_id</span><span class="o">=</span><span class="n">node_logger</span><span class="o">.</span><span class="n">flow_id</span><span class="p">,</span>
                                                <span class="n">node_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fetch_cached_df</span> <span class="o">=</span> <span class="n">external_df_fetcher</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">lf</span> <span class="o">=</span> <span class="n">external_df_fetcher</span><span class="o">.</span><span class="n">get_result</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">resulting_data</span> <span class="o">=</span> <span class="n">FlowDataEngine</span><span class="p">(</span>
                <span class="n">lf</span><span class="p">,</span> <span class="n">number_of_records</span><span class="o">=</span><span class="n">ExternalDfFetcher</span><span class="p">(</span><span class="n">lf</span><span class="o">=</span><span class="n">lf</span><span class="p">,</span> <span class="n">operation_type</span><span class="o">=</span><span class="s1">&#39;calculate_number_of_records&#39;</span><span class="p">,</span>
                                                        <span class="n">flow_id</span><span class="o">=</span><span class="n">node_logger</span><span class="o">.</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">node_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span><span class="o">.</span><span class="n">result</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">performance_mode</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">store_example_data_generator</span><span class="p">(</span><span class="n">external_df_fetcher</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_run_with_current_setup</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">node_logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;Error with external process&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">external_df_fetcher</span><span class="o">.</span><span class="n">error_code</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">resulting_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_resulting_data</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">warnings</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;Error with external process (unknown error), &#39;</span>
                                             <span class="s1">&#39;likely the process was killed by the server because of memory constraints, &#39;</span>
                                             <span class="s1">&#39;continue with the process. &#39;</span>
                                             <span class="s1">&#39;We cannot display example data...&#39;</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">e</span>
            <span class="k">elif</span> <span class="n">external_df_fetcher</span><span class="o">.</span><span class="n">error_description</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                <span class="k">raise</span> <span class="n">e</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="n">external_df_fetcher</span><span class="o">.</span><span class="n">error_description</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">external_df_fetcher</span><span class="o">.</span><span class="n">error_description</span><span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_fetch_cached_df</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_all_dependent_node_ids" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_all_dependent_node_ids</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Yields the IDs of all downstream nodes recursively.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A generator of all dependent node IDs.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_all_dependent_node_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Yields the IDs of all downstream nodes recursively.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A generator of all dependent node IDs.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">leads_to_nodes</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">node</span><span class="o">.</span><span class="n">node_id</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">get_all_dependent_node_ids</span><span class="p">():</span>
            <span class="k">yield</span> <span class="n">n</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_all_dependent_nodes" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_all_dependent_nodes</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Yields all downstream nodes recursively.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A generator of all dependent FlowNode objects.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_all_dependent_nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="s2">&quot;FlowNode&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Yields all downstream nodes recursively.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A generator of all dependent FlowNode objects.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">leads_to_nodes</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">node</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">get_all_dependent_nodes</span><span class="p">():</span>
            <span class="k">yield</span> <span class="n">n</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_edge_input" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_edge_input</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Generates <code>NodeEdge</code> objects for all input connections to this node.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="            NodeEdge (flowfile_core.schemas.schemas.NodeEdge)" href="#flowfile_core.schemas.schemas.NodeEdge">NodeEdge</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of <code>NodeEdge</code> objects.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_edge_input</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">schemas</span><span class="o">.</span><span class="n">NodeEdge</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates `NodeEdge` objects for all input connections to this node.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of `NodeEdge` objects.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">edges</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">main_input</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span><span class="p">):</span>
            <span class="n">edges</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">schemas</span><span class="o">.</span><span class="n">NodeEdge</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">main_input</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">-</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">-</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
                                          <span class="n">source</span><span class="o">=</span><span class="n">main_input</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                                          <span class="n">target</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                                          <span class="n">sourceHandle</span><span class="o">=</span><span class="s1">&#39;output-0&#39;</span><span class="p">,</span>
                                          <span class="n">targetHandle</span><span class="o">=</span><span class="s1">&#39;input-0&#39;</span><span class="p">,</span>
                                          <span class="p">))</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">left_input</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">edges</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">schemas</span><span class="o">.</span><span class="n">NodeEdge</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">left_input</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">-</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">-right&#39;</span><span class="p">,</span>
                                      <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">left_input</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                                      <span class="n">target</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                                      <span class="n">sourceHandle</span><span class="o">=</span><span class="s1">&#39;output-0&#39;</span><span class="p">,</span>
                                      <span class="n">targetHandle</span><span class="o">=</span><span class="s1">&#39;input-2&#39;</span><span class="p">,</span>
                                      <span class="p">))</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">right_input</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">edges</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">schemas</span><span class="o">.</span><span class="n">NodeEdge</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">right_input</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">-</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">-left&#39;</span><span class="p">,</span>
                                      <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">right_input</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                                      <span class="n">target</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                                      <span class="n">sourceHandle</span><span class="o">=</span><span class="s1">&#39;output-0&#39;</span><span class="p">,</span>
                                      <span class="n">targetHandle</span><span class="o">=</span><span class="s1">&#39;input-1&#39;</span><span class="p">,</span>
                                      <span class="p">))</span>
    <span class="k">return</span> <span class="n">edges</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_flow_file_column_schema" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_flow_file_column_schema</span><span class="p">(</span><span class="n">col_name</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Retrieves the schema for a specific column from the output schema.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>col_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn">FlowfileColumn</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The FlowfileColumn object for that column, or None if not found.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_flow_file_column_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowfileColumn</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieves the schema for a specific column from the output schema.</span>

<span class="sd">    Args:</span>
<span class="sd">        col_name: The name of the column.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The FlowfileColumn object for that column, or None if not found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="n">column_name</span> <span class="o">==</span> <span class="n">col_name</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">s</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_input_type" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_input_type</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Gets the type of connection ('main', 'left', 'right') for a given input node ID.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>node_id</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the input node.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of connection types for that node ID.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_input_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets the type of connection (&#39;main&#39;, &#39;left&#39;, &#39;right&#39;) for a given input node ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        node_id: The ID of the input node.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of connection types for that node ID.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">relation_type</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">node_id</span> <span class="ow">in</span> <span class="p">[</span><span class="n">n</span><span class="o">.</span><span class="n">node_id</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span><span class="p">]:</span>
        <span class="n">relation_type</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;main&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">left_input</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">node_id</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">left_input</span><span class="o">.</span><span class="n">node_id</span><span class="p">:</span>
        <span class="n">relation_type</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">right_input</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">node_id</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">right_input</span><span class="o">.</span><span class="n">node_id</span><span class="p">:</span>
        <span class="n">relation_type</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">relation_type</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_node_data" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_node_data</span><span class="p">(</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">include_example</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Gathers all necessary data for representing the node in the UI.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>flow_id</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the parent flow.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>include_example</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, includes data samples.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodeData (flowfile_core.schemas.output_model.NodeData)" href="#flowfile_core.schemas.output_model.NodeData">NodeData</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>NodeData</code> object.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_node_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">include_example</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">NodeData</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gathers all necessary data for representing the node in the UI.</span>

<span class="sd">    Args:</span>
<span class="sd">        flow_id: The ID of the parent flow.</span>
<span class="sd">        include_example: If True, includes data samples.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A `NodeData` object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">node</span> <span class="o">=</span> <span class="n">NodeData</span><span class="p">(</span><span class="n">flow_id</span><span class="o">=</span><span class="n">flow_id</span><span class="p">,</span>
                    <span class="n">node_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                    <span class="n">has_run</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_run_with_current_setup</span><span class="p">,</span>
                    <span class="n">setting_input</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">setting_input</span><span class="p">,</span>
                    <span class="n">flow_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_type</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">main_input</span><span class="p">:</span>
        <span class="n">node</span><span class="o">.</span><span class="n">main_input</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">main_input</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_table_example</span><span class="p">()</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">left_input</span><span class="p">:</span>
        <span class="n">node</span><span class="o">.</span><span class="n">left_input</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">left_input</span><span class="o">.</span><span class="n">get_table_example</span><span class="p">()</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">right_input</span><span class="p">:</span>
        <span class="n">node</span><span class="o">.</span><span class="n">right_input</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">right_input</span><span class="o">.</span><span class="n">get_table_example</span><span class="p">()</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_setup</span><span class="p">:</span>
        <span class="n">node</span><span class="o">.</span><span class="n">main_output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_table_example</span><span class="p">(</span><span class="n">include_example</span><span class="p">)</span>
    <span class="n">node</span> <span class="o">=</span> <span class="n">setting_generator</span><span class="o">.</span><span class="n">get_setting_generator</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_type</span><span class="p">)(</span><span class="n">node</span><span class="p">)</span>

    <span class="n">node</span> <span class="o">=</span> <span class="n">setting_updator</span><span class="o">.</span><span class="n">get_setting_updator</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_type</span><span class="p">)(</span><span class="n">node</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">node</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_node_information" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_node_information</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Updates and returns the node's information object.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodeInformation (flowfile_core.schemas.schemas.NodeInformation)" href="#flowfile_core.schemas.schemas.NodeInformation">NodeInformation</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The <code>NodeInformation</code> object for this node.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_node_information</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">schemas</span><span class="o">.</span><span class="n">NodeInformation</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates and returns the node&#39;s information object.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The `NodeInformation` object for this node.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">set_node_information</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_information</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_node_input" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_node_input</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Creates a <code>NodeInput</code> schema object for representing this node in the UI.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodeInput (flowfile_core.schemas.schemas.NodeInput)" href="#flowfile_core.schemas.schemas.NodeInput">NodeInput</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>NodeInput</code> object.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_node_input</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">schemas</span><span class="o">.</span><span class="n">NodeInput</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a `NodeInput` schema object for representing this node in the UI.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A `NodeInput` object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">schemas</span><span class="o">.</span><span class="n">NodeInput</span><span class="p">(</span><span class="n">pos_y</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">setting_input</span><span class="o">.</span><span class="n">pos_y</span><span class="p">,</span>
                             <span class="n">pos_x</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">setting_input</span><span class="o">.</span><span class="n">pos_x</span><span class="p">,</span>
                             <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                             <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">node_template</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_output_data" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_output_data</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Gets the full output data sample for this node.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            TableExample (flowfile_core.schemas.output_model.TableExample)" href="#flowfile_core.schemas.output_model.TableExample">TableExample</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>TableExample</code> object with data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_output_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TableExample</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets the full output data sample for this node.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A `TableExample` object with data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_table_example</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_predicted_resulting_data" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_predicted_resulting_data</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Creates a <code>FlowDataEngine</code> instance based on the predicted schema.</p>
<p>This avoids executing the node's full logic.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A FlowDataEngine instance with a schema but no data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_predicted_resulting_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a `FlowDataEngine` instance based on the predicted schema.</span>

<span class="sd">    This avoids executing the node&#39;s full logic.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A FlowDataEngine instance with a schema but no data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">needs_run</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema_callback</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">result_schema</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Getting data based on the schema&#39;</span><span class="p">)</span>

        <span class="n">_s</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema_callback</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">result_schema</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">result_schema</span>
        <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="o">.</span><span class="n">create_from_schema</span><span class="p">(</span><span class="n">_s</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="p">,</span> <span class="n">FlowDataEngine</span><span class="p">):</span>
            <span class="n">fl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">function</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">fl</span> <span class="o">=</span> <span class="n">FlowDataEngine</span><span class="o">.</span><span class="n">create_from_schema</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_predicted_schema</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">fl</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_predicted_schema" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_predicted_schema</span><span class="p">(</span><span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Predicts the output schema of the node without full execution.</p>
<p>It uses the schema_callback or infers from predicted data.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>force</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, forces recalculation even if a predicted schema exists.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn">FlowfileColumn</a>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of FlowfileColumn objects representing the predicted schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_predicted_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlowfileColumn</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Predicts the output schema of the node without full execution.</span>

<span class="sd">    It uses the schema_callback or infers from predicted data.</span>

<span class="sd">    Args:</span>
<span class="sd">        force: If True, forces recalculation even if a predicted schema exists.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of FlowfileColumn objects representing the predicted schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">predicted_schema</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">force</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">predicted_schema</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema_callback</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">predicted_schema</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">force</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Getting the data from a schema callback&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">force</span><span class="p">:</span>
            <span class="c1"># Force the schema callback to reset, so that it will be executed again</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">schema_callback</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
        <span class="n">schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema_callback</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">schema</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Calculating the schema based on the schema callback&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">predicted_schema</span> <span class="o">=</span> <span class="n">schema</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">predicted_schema</span>
    <span class="n">predicted_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_predicted_data_getter</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">predicted_data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">predicted_data</span><span class="o">.</span><span class="n">schema</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Calculating the schema based on the predicted resulting data&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">predicted_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_predicted_data_getter</span><span class="p">()</span><span class="o">.</span><span class="n">schema</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">predicted_schema</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_repr" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_repr</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Gets a detailed dictionary representation of the node's state.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary containing key information about the node.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_repr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a detailed dictionary representation of the node&#39;s state.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dictionary containing key information about the node.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">FlowNode</span><span class="o">=</span>
                <span class="nb">dict</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                     <span class="n">step_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                     <span class="n">output_columns</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">output_columns</span><span class="p">,</span>
                     <span class="n">output_schema</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_readable_schema</span><span class="p">()))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_resulting_data" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_resulting_data</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Executes the node's function to produce the actual output data.</p>
<p>Handles both regular functions and external data sources.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A FlowDataEngine instance containing the result, or None on error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="Exception">Exception</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Propagates exceptions from the node's function execution.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_resulting_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowDataEngine</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Executes the node&#39;s function to produce the actual output data.</span>

<span class="sd">    Handles both regular functions and external data sources.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A FlowDataEngine instance containing the result, or None on error.</span>

<span class="sd">    Raises:</span>
<span class="sd">        Exception: Propagates exceptions from the node&#39;s function execution.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_setup</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">resulting_data</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;getting resulting data&#39;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="p">,</span> <span class="n">FlowDataEngine</span><span class="p">):</span>
                    <span class="n">fl</span><span class="p">:</span> <span class="n">FlowDataEngine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">function</span>
                <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_type</span> <span class="o">==</span> <span class="s1">&#39;external_source&#39;</span><span class="p">:</span>
                    <span class="n">fl</span><span class="p">:</span> <span class="n">FlowDataEngine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="p">()</span>
                    <span class="n">fl</span><span class="o">.</span><span class="n">collect_external</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">streamable</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">fl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_function</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">get_resulting_data</span><span class="p">()</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_inputs</span><span class="p">])</span>
                    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="n">e</span>
                <span class="n">fl</span><span class="o">.</span><span class="n">set_streamable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">streamable</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">resulting_data</span> <span class="o">=</span> <span class="n">fl</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">result_schema</span> <span class="o">=</span> <span class="n">fl</span><span class="o">.</span><span class="n">schema</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">resulting_data</span> <span class="o">=</span> <span class="n">FlowDataEngine</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_run_with_current_setup</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_completed_last_run</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="k">raise</span> <span class="n">e</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">resulting_data</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.get_table_example" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_table_example</span><span class="p">(</span><span class="n">include_data</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Generates a <code>TableExample</code> model summarizing the node's output.</p>
<p>This can optionally include a sample of the data.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>include_data</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, includes a data sample in the result.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            TableExample (flowfile_core.schemas.output_model.TableExample)" href="#flowfile_core.schemas.output_model.TableExample">TableExample</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>TableExample</code> object, or None if the node is not set up.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_table_example</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">include_data</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TableExample</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a `TableExample` model summarizing the node&#39;s output.</span>

<span class="sd">    This can optionally include a sample of the data.</span>

<span class="sd">    Args:</span>
<span class="sd">        include_data: If True, includes a data sample in the result.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A `TableExample` object, or None if the node is not set up.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Getting a table example&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_setup</span> <span class="ow">and</span> <span class="n">include_data</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_completed_last_run</span><span class="p">:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_template</span><span class="o">.</span><span class="n">node_group</span> <span class="o">==</span> <span class="s1">&#39;output&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;getting the table example&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">main_input</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_table_example</span><span class="p">(</span><span class="n">include_data</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;getting the table example since the node has run&#39;</span><span class="p">)</span>
        <span class="n">example_data_getter</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">example_data_generator</span>
        <span class="k">if</span> <span class="n">example_data_getter</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">example_data_getter</span><span class="p">()</span><span class="o">.</span><span class="n">to_pylist</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">data</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">schema</span> <span class="o">=</span> <span class="p">[</span><span class="n">FileColumn</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">get_column_repr</span><span class="p">())</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">]</span>
        <span class="n">fl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_resulting_data</span><span class="p">()</span>
        <span class="n">has_example_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">example_data_generator</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

        <span class="k">return</span> <span class="n">TableExample</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                            <span class="n">name</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">),</span> <span class="n">number_of_records</span><span class="o">=</span><span class="mi">999</span><span class="p">,</span>
                            <span class="n">number_of_columns</span><span class="o">=</span><span class="n">fl</span><span class="o">.</span><span class="n">number_of_fields</span><span class="p">,</span>
                            <span class="n">table_schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">fl</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
                            <span class="n">has_example_data</span><span class="o">=</span><span class="n">has_example_data</span><span class="p">,</span>
                            <span class="n">has_run_with_current_setup</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_run_with_current_setup</span>
                            <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;getting the table example but the node has not run&#39;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">schema</span> <span class="o">=</span> <span class="p">[</span><span class="n">FileColumn</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">get_column_repr</span><span class="p">())</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="n">schema</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">schema</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">TableExample</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">,</span>
                            <span class="n">name</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">),</span> <span class="n">number_of_records</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                            <span class="n">number_of_columns</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">columns</span><span class="p">),</span>
                            <span class="n">table_schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">,</span>
                            <span class="n">data</span><span class="o">=</span><span class="p">[])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.needs_reset" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">needs_reset</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Checks if the node's hash has changed, indicating an outdated state.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the calculated hash differs from the stored hash.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">962</span>
<span class="normal">963</span>
<span class="normal">964</span>
<span class="normal">965</span>
<span class="normal">966</span>
<span class="normal">967</span>
<span class="normal">968</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">needs_reset</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Checks if the node&#39;s hash has changed, indicating an outdated state.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the calculated hash differs from the stored hash.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hash</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calculate_hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">setting_input</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.needs_run" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">needs_run</span><span class="p">(</span><span class="n">performance_mode</span><span class="p">,</span> <span class="n">node_logger</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">execution_location</span><span class="o">=</span><span class="s1">&#39;remote&#39;</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Determines if the node needs to be executed.</p>
<p>The decision is based on its run state, caching settings, and execution mode.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>performance_mode</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the flow is in performance mode.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>node_logger</code>
            </td>
            <td>
                  <code><span title="flowfile_core.configs.flow_logger.NodeLogger">NodeLogger</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The logger instance for this node.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>execution_location</code>
            </td>
            <td>
                  <code><span title="flowfile_core.schemas.schemas.ExecutionLocationsLiteral">ExecutionLocationsLiteral</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The target execution location.</p>
              </div>
            </td>
            <td>
                  <code>&#39;remote&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the node should be run, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">needs_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">performance_mode</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">node_logger</span><span class="p">:</span> <span class="n">NodeLogger</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
              <span class="n">execution_location</span><span class="p">:</span> <span class="n">schemas</span><span class="o">.</span><span class="n">ExecutionLocationsLiteral</span> <span class="o">=</span> <span class="s2">&quot;remote&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Determines if the node needs to be executed.</span>

<span class="sd">    The decision is based on its run state, caching settings, and execution mode.</span>

<span class="sd">    Args:</span>
<span class="sd">        performance_mode: True if the flow is in performance mode.</span>
<span class="sd">        node_logger: The logger instance for this node.</span>
<span class="sd">        execution_location: The target execution location.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the node should be run, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">execution_location</span> <span class="o">==</span> <span class="s2">&quot;local&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="n">flow_logger</span> <span class="o">=</span> <span class="n">logger</span> <span class="k">if</span> <span class="n">node_logger</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">node_logger</span>
    <span class="n">cache_result_exists</span> <span class="o">=</span> <span class="n">results_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hash</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_run_with_current_setup</span><span class="p">:</span>
        <span class="n">flow_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Node has not run, needs to run&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">cache_results</span> <span class="ow">and</span> <span class="n">cache_result_exists</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">cache_results</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">cache_result_exists</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">elif</span> <span class="ow">not</span> <span class="n">performance_mode</span> <span class="ow">and</span> <span class="n">cache_result_exists</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.post_init" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">post_init</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Initializes or resets the node's attributes to their default states.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">post_init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initializes or resets the node&#39;s attributes to their default states.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span> <span class="o">=</span> <span class="n">NodeStepInputs</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span> <span class="o">=</span> <span class="n">NodeStepStats</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">node_settings</span> <span class="o">=</span> <span class="n">NodeStepSettings</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span> <span class="o">=</span> <span class="n">NodeSchemaInformation</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">results</span> <span class="o">=</span> <span class="n">NodeResults</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">node_information</span> <span class="o">=</span> <span class="n">schemas</span><span class="o">.</span><span class="n">NodeInformation</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">leads_to_nodes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_setting_input</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_cache_progress</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_schema_callback</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_state_needs_reset</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.prepare_before_run" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">prepare_before_run</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Resets results and errors before a new execution.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">prepare_before_run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Resets results and errors before a new execution.&quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">resulting_data</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">example_data</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.print" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="nb">print</span><span class="p">(</span><span class="n">v</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Helper method to log messages with node context.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>v</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The message or value to log.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">print</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Helper method to log messages with node context.</span>

<span class="sd">    Args:</span>
<span class="sd">        v: The message or value to log.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_type</span><span class="si">}</span><span class="s1">, node_id: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.remove_cache" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">remove_cache</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Removes cached results for this node.</p>
<p>Note: Currently not fully implemented.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">remove_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Removes cached results for this node.</span>

<span class="sd">    Note: Currently not fully implemented.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">results_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hash</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;Not implemented&#39;</span><span class="p">)</span>
        <span class="n">clear_task_from_worker</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hash</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.reset" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">reset</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Resets the node's execution state and schema information.</p>
<p>This also triggers a reset on all downstream nodes.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>deep</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, forces a reset even if the hash hasn't changed.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">970</span>
<span class="normal">971</span>
<span class="normal">972</span>
<span class="normal">973</span>
<span class="normal">974</span>
<span class="normal">975</span>
<span class="normal">976</span>
<span class="normal">977</span>
<span class="normal">978</span>
<span class="normal">979</span>
<span class="normal">980</span>
<span class="normal">981</span>
<span class="normal">982</span>
<span class="normal">983</span>
<span class="normal">984</span>
<span class="normal">985</span>
<span class="normal">986</span>
<span class="normal">987</span>
<span class="normal">988</span>
<span class="normal">989</span>
<span class="normal">990</span>
<span class="normal">991</span>
<span class="normal">992</span>
<span class="normal">993</span>
<span class="normal">994</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deep</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Resets the node&#39;s execution state and schema information.</span>

<span class="sd">    This also triggers a reset on all downstream nodes.</span>

<span class="sd">    Args:</span>
<span class="sd">        deep: If True, forces a reset even if the hash hasn&#39;t changed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">needs_reset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">needs_reset</span><span class="p">()</span> <span class="ow">or</span> <span class="n">deep</span>
    <span class="k">if</span> <span class="n">needs_reset</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">: Node needs reset&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_stats</span><span class="o">.</span><span class="n">has_run_with_current_setup</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">result_schema</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">predicted_schema</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hash</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_information</span><span class="o">.</span><span class="n">is_setup</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_correct</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_schema_callback</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Ensure the schema callback is reset</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema_callback</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">: Resetting the schema callback&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">schema_callback</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">evaluate_nodes</span><span class="p">()</span>
        <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hash</span>  <span class="c1"># Recalculate the hash after reset</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.set_node_information" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">set_node_information</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Populates the <code>node_information</code> attribute with the current state.</p>
<p>This includes the node's connections, settings, and position.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_node_information</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Populates the `node_information` attribute with the current state.</span>

<span class="sd">    This includes the node&#39;s connections, settings, and position.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;setting node information&#39;</span><span class="p">)</span>
    <span class="n">node_information</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_information</span>
    <span class="n">node_information</span><span class="o">.</span><span class="n">left_input_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">left_input</span><span class="o">.</span><span class="n">node_id</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">left_input</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="n">node_information</span><span class="o">.</span><span class="n">right_input_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">right_input</span><span class="o">.</span><span class="n">node_id</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">right_input</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="n">node_information</span><span class="o">.</span><span class="n">input_ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">mi</span><span class="o">.</span><span class="n">node_id</span> <span class="k">for</span> <span class="n">mi</span> <span class="ow">in</span>
                                  <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span><span class="p">]</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_inputs</span><span class="o">.</span><span class="n">main_inputs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="n">node_information</span><span class="o">.</span><span class="n">setting_input</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">setting_input</span>
    <span class="n">node_information</span><span class="o">.</span><span class="n">outputs</span> <span class="o">=</span> <span class="p">[</span><span class="n">n</span><span class="o">.</span><span class="n">node_id</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">leads_to_nodes</span><span class="p">]</span>
    <span class="n">node_information</span><span class="o">.</span><span class="n">is_setup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_setup</span>
    <span class="n">node_information</span><span class="o">.</span><span class="n">x_position</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">setting_input</span><span class="o">.</span><span class="n">pos_x</span>
    <span class="n">node_information</span><span class="o">.</span><span class="n">y_position</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">setting_input</span><span class="o">.</span><span class="n">pos_y</span>
    <span class="n">node_information</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_type</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.store_example_data_generator" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">store_example_data_generator</span><span class="p">(</span><span class="n">external_df_fetcher</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Stores a generator function for fetching a sample of the result data.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>external_df_fetcher</code>
            </td>
            <td>
                  <code><span title="flowfile_core.flowfile.flow_data_engine.subprocess_operations.ExternalDfFetcher">ExternalDfFetcher</span> | <span title="flowfile_core.flowfile.flow_data_engine.subprocess_operations.ExternalSampler">ExternalSampler</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The process that generated the sample data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span>
<span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">store_example_data_generator</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">external_df_fetcher</span><span class="p">:</span> <span class="n">ExternalDfFetcher</span> <span class="o">|</span> <span class="n">ExternalSampler</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Stores a generator function for fetching a sample of the result data.</span>

<span class="sd">    Args:</span>
<span class="sd">        external_df_fetcher: The process that generated the sample data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">external_df_fetcher</span><span class="o">.</span><span class="n">status</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">file_ref</span> <span class="o">=</span> <span class="n">external_df_fetcher</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">file_ref</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">example_data_path</span> <span class="o">=</span> <span class="n">file_ref</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">example_data_generator</span> <span class="o">=</span> <span class="n">get_read_top_n</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">file_ref</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;Could not get the sample data, the external process is not ready&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_node.flow_node.FlowNode.update_node" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">update_node</span><span class="p">(</span><span class="n">function</span><span class="p">,</span> <span class="n">input_columns</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">output_schema</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">drop_columns</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">setting_input</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pos_x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pos_y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">schema_callback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Updates the properties of the node.</p>
<p>This is called during initialization and when settings are changed.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>function</code>
            </td>
            <td>
                  <code><span title="typing.Callable">Callable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The new core data processing function.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>input_columns</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The new list of input columns.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>output_schema</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn">FlowfileColumn</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The new schema of added columns.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>drop_columns</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The new list of dropped columns.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The new name for the node.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>setting_input</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The new settings object.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pos_x</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The new x-coordinate.</p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pos_y</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The new y-coordinate.</p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>schema_callback</code>
            </td>
            <td>
                  <code><span title="typing.Callable">Callable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The new custom schema callback function.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_node/flow_node.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">update_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                <span class="n">function</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span>
                <span class="n">input_columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                <span class="n">output_schema</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">FlowfileColumn</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                <span class="n">drop_columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                <span class="n">setting_input</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                <span class="n">pos_x</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
                <span class="n">pos_y</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
                <span class="n">schema_callback</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                <span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates the properties of the node.</span>

<span class="sd">    This is called during initialization and when settings are changed.</span>

<span class="sd">    Args:</span>
<span class="sd">        function: The new core data processing function.</span>
<span class="sd">        input_columns: The new list of input columns.</span>
<span class="sd">        output_schema: The new schema of added columns.</span>
<span class="sd">        drop_columns: The new list of dropped columns.</span>
<span class="sd">        name: The new name for the node.</span>
<span class="sd">        setting_input: The new settings object.</span>
<span class="sd">        pos_x: The new x-coordinate.</span>
<span class="sd">        pos_y: The new y-coordinate.</span>
<span class="sd">        schema_callback: The new custom schema callback function.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">user_provided_schema_callback</span> <span class="o">=</span> <span class="n">schema_callback</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">node_information</span><span class="o">.</span><span class="n">y_position</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pos_y</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">node_information</span><span class="o">.</span><span class="n">x_position</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pos_x</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">node_information</span><span class="o">.</span><span class="n">setting_input</span> <span class="o">=</span> <span class="n">setting_input</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_type</span> <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_function</span> <span class="o">=</span> <span class="n">function</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">input_columns</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">input_columns</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">input_columns</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">output_columns</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">output_schema</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">output_schema</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">node_schema</span><span class="o">.</span><span class="n">drop_columns</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">drop_columns</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">drop_columns</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">renew_schema</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">setting_input</span><span class="p">,</span> <span class="s1">&#39;cache_results&#39;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_settings</span><span class="o">.</span><span class="n">cache_results</span> <span class="o">=</span> <span class="n">setting_input</span><span class="o">.</span><span class="n">cache_results</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">add_lead_to_in_depend_source</span><span class="p">()</span>
    <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hash</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">node_template</span> <span class="o">=</span> <span class="n">node_store</span><span class="o">.</span><span class="n">node_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_type</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_template</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Node template </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_type</span><span class="si">}</span><span class="s1"> not found&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">node_default</span> <span class="o">=</span> <span class="n">node_store</span><span class="o">.</span><span class="n">node_defaults</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_type</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">setting_input</span> <span class="o">=</span> <span class="n">setting_input</span>  <span class="c1"># wait until the end so that the hash is calculated correctly</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h3 id="the-flowdataengine">The FlowDataEngine</h3>
<p>The <code>FlowDataEngine</code> is the primary engine of the library, providing a rich API for data manipulation, I/O, and transformation. Its methods are grouped below by functionality.</p>


<div class="doc doc-object doc-class">



<h4 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents first">


        <p>The core data handling engine for Flowfile.</p>
<p>This class acts as a high-level wrapper around a Polars DataFrame or
LazyFrame, providing a unified API for data ingestion, transformation,
and output. It manages data state (lazy vs. eager), schema information,
and execution logic.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine._data_frame">_data_frame</span></code></td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="polars.DataFrame">DataFrame</span>, <span title="polars.LazyFrame">LazyFrame</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The underlying Polars DataFrame or LazyFrame.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.columns">columns</span></code></td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of column names in the current data frame.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.name">name</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An optional name for the data engine instance.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.number_of_records">number_of_records</span></code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of records. Can be -1 for lazy frames.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.errors">errors</span></code></td>
            <td>
                  <code><span title="typing.List">List</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of errors encountered during operations.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine._schema">_schema</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn">FlowfileColumn</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A cached list of <code>FlowfileColumn</code> objects representing the schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>












<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            __call__() (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__call__)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__call__">__call__</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Makes the class instance callable, returning itself.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            __get_sample__(n_rows=100, streamable=True) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__get_sample__)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__get_sample__">__get_sample__</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Internal method to get a sample of the data.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            __getitem__(item) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__getitem__)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__getitem__">__getitem__</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Accesses a specific column or item from the DataFrame.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            __init__(raw_data=None, path_ref=None, name=None, optimize_memory=True, schema=None, number_of_records=None, calculate_schema_stats=False, streamable=True, number_of_records_callback=None, data_callback=None) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__init__)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__init__">__init__</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Initializes the FlowDataEngine from various data sources.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            __len__() (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__len__)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__len__">__len__</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Returns the number of records in the table.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            __repr__() (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__repr__)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__repr__">__repr__</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Returns a string representation of the FlowDataEngine.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_new_values(values, col_name=None) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.add_new_values)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.add_new_values">add_new_values</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a new column with the provided values.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_record_id(record_id_settings) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.add_record_id)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.add_record_id">add_record_id</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a record ID (row number) column to the DataFrame.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            apply_flowfile_formula(func, col_name, output_data_type=None) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.apply_flowfile_formula)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.apply_flowfile_formula">apply_flowfile_formula</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Applies a formula to create a new column or transform an existing one.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            apply_sql_formula(func, col_name, output_data_type=None) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.apply_sql_formula)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.apply_sql_formula">apply_sql_formula</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Applies an SQL-style formula using <code>pl.sql_expr</code>.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            assert_equal(other, ordered=True, strict_schema=False) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.assert_equal)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.assert_equal">assert_equal</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Asserts that this DataFrame is equal to another.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            cache() (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.cache)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.cache">cache</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Caches the current DataFrame to disk and updates the internal reference.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            calculate_schema() (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.calculate_schema)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.calculate_schema">calculate_schema</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Calculates and returns the schema.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            change_column_types(transforms, calculate_schema=False) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.change_column_types)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.change_column_types">change_column_types</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Changes the data type of one or more columns.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            collect(n_records=None) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.collect)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.collect">collect</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Collects the data and returns it as a Polars DataFrame.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            collect_external() (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.collect_external)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.collect_external">collect_external</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Materializes data from a tracked external source.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            concat(other) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.concat)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.concat">concat</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Concatenates this DataFrame with one or more other DataFrames.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            count() (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.count)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.count">count</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Gets the total number of records.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            create_from_external_source(external_source)

  
      classmethod
   (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.create_from_external_source)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.create_from_external_source">create_from_external_source</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Creates a FlowDataEngine from an external data source.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            create_from_path(received_table)

  
      classmethod
   (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.create_from_path)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.create_from_path">create_from_path</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Creates a FlowDataEngine from a local file path.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            create_from_path_worker(received_table, flow_id, node_id)

  
      classmethod
   (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.create_from_path_worker)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.create_from_path_worker">create_from_path_worker</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Creates a FlowDataEngine from a path in a worker process.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            create_from_schema(schema)

  
      classmethod
   (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.create_from_schema)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.create_from_schema">create_from_schema</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Creates an empty FlowDataEngine from a schema definition.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            create_from_sql(sql, conn)

  
      classmethod
   (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.create_from_sql)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.create_from_sql">create_from_sql</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Creates a FlowDataEngine by executing a SQL query.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            create_random(number_of_records=1000)

  
      classmethod
   (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.create_random)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.create_random">create_random</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Creates a FlowDataEngine with randomly generated data.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            do_cross_join(cross_join_input, auto_generate_selection, verify_integrity, other) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.do_cross_join)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.do_cross_join">do_cross_join</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Performs a cross join with another DataFrame.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            do_filter(predicate) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.do_filter)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.do_filter">do_filter</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Filters rows based on a predicate expression.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            do_group_by(group_by_input, calculate_schema_stats=True) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.do_group_by)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.do_group_by">do_group_by</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Performs a group-by operation on the DataFrame.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            do_pivot(pivot_input, node_logger=None) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.do_pivot)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.do_pivot">do_pivot</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Converts the DataFrame from a long to a wide format, aggregating values.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            do_select(select_inputs, keep_missing=True) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.do_select)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.do_select">do_select</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Performs a complex column selection, renaming, and reordering operation.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            do_sort(sorts) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.do_sort)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.do_sort">do_sort</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Sorts the DataFrame by one or more columns.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            drop_columns(columns) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.drop_columns)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.drop_columns">drop_columns</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Drops specified columns from the DataFrame.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            from_cloud_storage_obj(settings)

  
      classmethod
   (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.from_cloud_storage_obj)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.from_cloud_storage_obj">from_cloud_storage_obj</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Creates a FlowDataEngine from an object in cloud storage.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            generate_enumerator(length=1000, output_name='output_column')

  
      classmethod
   (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.generate_enumerator)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.generate_enumerator">generate_enumerator</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Generates a FlowDataEngine with a single column containing a sequence of integers.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_estimated_file_size() (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_estimated_file_size)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_estimated_file_size">get_estimated_file_size</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Estimates the file size in bytes if the data originated from a local file.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_number_of_records(warn=False, force_calculate=False, calculate_in_worker_process=False) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_number_of_records)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_number_of_records">get_number_of_records</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Gets the total number of records in the DataFrame.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_number_of_records_in_process(force_calculate=False) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_number_of_records_in_process)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_number_of_records_in_process">get_number_of_records_in_process</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Get the number of records in the DataFrame in the local process.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_output_sample(n_rows=10) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_output_sample)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_output_sample">get_output_sample</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Gets a sample of the data as a list of dictionaries.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_record_count() (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_record_count)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_record_count">get_record_count</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Returns a new FlowDataEngine with a single column 'number_of_records'</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_sample(n_rows=100, random=False, shuffle=False, seed=None, execution_location=None) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_sample)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_sample">get_sample</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Gets a sample of rows from the DataFrame.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_schema_column(col_name) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_schema_column)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_schema_column">get_schema_column</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Retrieves the schema information for a single column by its name.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_select_inputs() (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_select_inputs)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_select_inputs">get_select_inputs</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Gets <code>SelectInput</code> specifications for all columns in the current schema.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_subset(n_rows=100) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_subset)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_subset">get_subset</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Gets the first <code>n_rows</code> from the DataFrame.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            initialize_empty_fl() (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.initialize_empty_fl)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.initialize_empty_fl">initialize_empty_fl</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Initializes an empty LazyFrame.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            iter_batches(batch_size=1000, columns=None) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.iter_batches)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.iter_batches">iter_batches</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Iterates over the DataFrame in batches.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            join(join_input, auto_generate_selection, verify_integrity, other) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.join)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.join">join</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Performs a standard SQL-style join with another DataFrame.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            make_unique(unique_input=None) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.make_unique)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.make_unique">make_unique</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Gets the unique rows from the DataFrame.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            output(output_fs, flow_id, node_id, execute_remote=True) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.output)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.output">output</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Writes the DataFrame to an output file.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            reorganize_order(column_order) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.reorganize_order)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.reorganize_order">reorganize_order</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Reorganizes columns into a specified order.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            save(path, data_type='parquet') (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.save)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.save">save</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Saves the DataFrame to a file in a separate thread.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            select_columns(list_select) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.select_columns)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.select_columns">select_columns</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Selects a subset of columns from the DataFrame.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            set_streamable(streamable=False) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.set_streamable)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.set_streamable">set_streamable</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Sets whether DataFrame operations should be streamable.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            solve_graph(graph_solver_input) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.solve_graph)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.solve_graph">solve_graph</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Solves a graph problem represented by 'from' and 'to' columns.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            split(split_input) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.split)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.split">split</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Splits a column's text values into multiple rows based on a delimiter.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            start_fuzzy_join(fuzzy_match_input, other, file_ref, flow_id=-1, node_id=-1) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.start_fuzzy_join)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.start_fuzzy_join">start_fuzzy_join</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Starts a fuzzy join operation in a background process.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            to_arrow() (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.to_arrow)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.to_arrow">to_arrow</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Converts the DataFrame to a PyArrow Table.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            to_cloud_storage_obj(settings) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.to_cloud_storage_obj)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.to_cloud_storage_obj">to_cloud_storage_obj</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Writes the DataFrame to an object in cloud storage.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            to_dict() (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.to_dict)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.to_dict">to_dict</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Converts the DataFrame to a Python dictionary of columns.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            to_pylist() (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.to_pylist)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.to_pylist">to_pylist</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Converts the DataFrame to a list of Python dictionaries.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            to_raw_data() (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.to_raw_data)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.to_raw_data">to_raw_data</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Converts the DataFrame to a <code>RawData</code> schema object.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            unpivot(unpivot_input) (flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.unpivot)" href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.unpivot">unpivot</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Converts the DataFrame from a wide to a long format.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>



              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 140</span>
<span class="normal"> 141</span>
<span class="normal"> 142</span>
<span class="normal"> 143</span>
<span class="normal"> 144</span>
<span class="normal"> 145</span>
<span class="normal"> 146</span>
<span class="normal"> 147</span>
<span class="normal"> 148</span>
<span class="normal"> 149</span>
<span class="normal"> 150</span>
<span class="normal"> 151</span>
<span class="normal"> 152</span>
<span class="normal"> 153</span>
<span class="normal"> 154</span>
<span class="normal"> 155</span>
<span class="normal"> 156</span>
<span class="normal"> 157</span>
<span class="normal"> 158</span>
<span class="normal"> 159</span>
<span class="normal"> 160</span>
<span class="normal"> 161</span>
<span class="normal"> 162</span>
<span class="normal"> 163</span>
<span class="normal"> 164</span>
<span class="normal"> 165</span>
<span class="normal"> 166</span>
<span class="normal"> 167</span>
<span class="normal"> 168</span>
<span class="normal"> 169</span>
<span class="normal"> 170</span>
<span class="normal"> 171</span>
<span class="normal"> 172</span>
<span class="normal"> 173</span>
<span class="normal"> 174</span>
<span class="normal"> 175</span>
<span class="normal"> 176</span>
<span class="normal"> 177</span>
<span class="normal"> 178</span>
<span class="normal"> 179</span>
<span class="normal"> 180</span>
<span class="normal"> 181</span>
<span class="normal"> 182</span>
<span class="normal"> 183</span>
<span class="normal"> 184</span>
<span class="normal"> 185</span>
<span class="normal"> 186</span>
<span class="normal"> 187</span>
<span class="normal"> 188</span>
<span class="normal"> 189</span>
<span class="normal"> 190</span>
<span class="normal"> 191</span>
<span class="normal"> 192</span>
<span class="normal"> 193</span>
<span class="normal"> 194</span>
<span class="normal"> 195</span>
<span class="normal"> 196</span>
<span class="normal"> 197</span>
<span class="normal"> 198</span>
<span class="normal"> 199</span>
<span class="normal"> 200</span>
<span class="normal"> 201</span>
<span class="normal"> 202</span>
<span class="normal"> 203</span>
<span class="normal"> 204</span>
<span class="normal"> 205</span>
<span class="normal"> 206</span>
<span class="normal"> 207</span>
<span class="normal"> 208</span>
<span class="normal"> 209</span>
<span class="normal"> 210</span>
<span class="normal"> 211</span>
<span class="normal"> 212</span>
<span class="normal"> 213</span>
<span class="normal"> 214</span>
<span class="normal"> 215</span>
<span class="normal"> 216</span>
<span class="normal"> 217</span>
<span class="normal"> 218</span>
<span class="normal"> 219</span>
<span class="normal"> 220</span>
<span class="normal"> 221</span>
<span class="normal"> 222</span>
<span class="normal"> 223</span>
<span class="normal"> 224</span>
<span class="normal"> 225</span>
<span class="normal"> 226</span>
<span class="normal"> 227</span>
<span class="normal"> 228</span>
<span class="normal"> 229</span>
<span class="normal"> 230</span>
<span class="normal"> 231</span>
<span class="normal"> 232</span>
<span class="normal"> 233</span>
<span class="normal"> 234</span>
<span class="normal"> 235</span>
<span class="normal"> 236</span>
<span class="normal"> 237</span>
<span class="normal"> 238</span>
<span class="normal"> 239</span>
<span class="normal"> 240</span>
<span class="normal"> 241</span>
<span class="normal"> 242</span>
<span class="normal"> 243</span>
<span class="normal"> 244</span>
<span class="normal"> 245</span>
<span class="normal"> 246</span>
<span class="normal"> 247</span>
<span class="normal"> 248</span>
<span class="normal"> 249</span>
<span class="normal"> 250</span>
<span class="normal"> 251</span>
<span class="normal"> 252</span>
<span class="normal"> 253</span>
<span class="normal"> 254</span>
<span class="normal"> 255</span>
<span class="normal"> 256</span>
<span class="normal"> 257</span>
<span class="normal"> 258</span>
<span class="normal"> 259</span>
<span class="normal"> 260</span>
<span class="normal"> 261</span>
<span class="normal"> 262</span>
<span class="normal"> 263</span>
<span class="normal"> 264</span>
<span class="normal"> 265</span>
<span class="normal"> 266</span>
<span class="normal"> 267</span>
<span class="normal"> 268</span>
<span class="normal"> 269</span>
<span class="normal"> 270</span>
<span class="normal"> 271</span>
<span class="normal"> 272</span>
<span class="normal"> 273</span>
<span class="normal"> 274</span>
<span class="normal"> 275</span>
<span class="normal"> 276</span>
<span class="normal"> 277</span>
<span class="normal"> 278</span>
<span class="normal"> 279</span>
<span class="normal"> 280</span>
<span class="normal"> 281</span>
<span class="normal"> 282</span>
<span class="normal"> 283</span>
<span class="normal"> 284</span>
<span class="normal"> 285</span>
<span class="normal"> 286</span>
<span class="normal"> 287</span>
<span class="normal"> 288</span>
<span class="normal"> 289</span>
<span class="normal"> 290</span>
<span class="normal"> 291</span>
<span class="normal"> 292</span>
<span class="normal"> 293</span>
<span class="normal"> 294</span>
<span class="normal"> 295</span>
<span class="normal"> 296</span>
<span class="normal"> 297</span>
<span class="normal"> 298</span>
<span class="normal"> 299</span>
<span class="normal"> 300</span>
<span class="normal"> 301</span>
<span class="normal"> 302</span>
<span class="normal"> 303</span>
<span class="normal"> 304</span>
<span class="normal"> 305</span>
<span class="normal"> 306</span>
<span class="normal"> 307</span>
<span class="normal"> 308</span>
<span class="normal"> 309</span>
<span class="normal"> 310</span>
<span class="normal"> 311</span>
<span class="normal"> 312</span>
<span class="normal"> 313</span>
<span class="normal"> 314</span>
<span class="normal"> 315</span>
<span class="normal"> 316</span>
<span class="normal"> 317</span>
<span class="normal"> 318</span>
<span class="normal"> 319</span>
<span class="normal"> 320</span>
<span class="normal"> 321</span>
<span class="normal"> 322</span>
<span class="normal"> 323</span>
<span class="normal"> 324</span>
<span class="normal"> 325</span>
<span class="normal"> 326</span>
<span class="normal"> 327</span>
<span class="normal"> 328</span>
<span class="normal"> 329</span>
<span class="normal"> 330</span>
<span class="normal"> 331</span>
<span class="normal"> 332</span>
<span class="normal"> 333</span>
<span class="normal"> 334</span>
<span class="normal"> 335</span>
<span class="normal"> 336</span>
<span class="normal"> 337</span>
<span class="normal"> 338</span>
<span class="normal"> 339</span>
<span class="normal"> 340</span>
<span class="normal"> 341</span>
<span class="normal"> 342</span>
<span class="normal"> 343</span>
<span class="normal"> 344</span>
<span class="normal"> 345</span>
<span class="normal"> 346</span>
<span class="normal"> 347</span>
<span class="normal"> 348</span>
<span class="normal"> 349</span>
<span class="normal"> 350</span>
<span class="normal"> 351</span>
<span class="normal"> 352</span>
<span class="normal"> 353</span>
<span class="normal"> 354</span>
<span class="normal"> 355</span>
<span class="normal"> 356</span>
<span class="normal"> 357</span>
<span class="normal"> 358</span>
<span class="normal"> 359</span>
<span class="normal"> 360</span>
<span class="normal"> 361</span>
<span class="normal"> 362</span>
<span class="normal"> 363</span>
<span class="normal"> 364</span>
<span class="normal"> 365</span>
<span class="normal"> 366</span>
<span class="normal"> 367</span>
<span class="normal"> 368</span>
<span class="normal"> 369</span>
<span class="normal"> 370</span>
<span class="normal"> 371</span>
<span class="normal"> 372</span>
<span class="normal"> 373</span>
<span class="normal"> 374</span>
<span class="normal"> 375</span>
<span class="normal"> 376</span>
<span class="normal"> 377</span>
<span class="normal"> 378</span>
<span class="normal"> 379</span>
<span class="normal"> 380</span>
<span class="normal"> 381</span>
<span class="normal"> 382</span>
<span class="normal"> 383</span>
<span class="normal"> 384</span>
<span class="normal"> 385</span>
<span class="normal"> 386</span>
<span class="normal"> 387</span>
<span class="normal"> 388</span>
<span class="normal"> 389</span>
<span class="normal"> 390</span>
<span class="normal"> 391</span>
<span class="normal"> 392</span>
<span class="normal"> 393</span>
<span class="normal"> 394</span>
<span class="normal"> 395</span>
<span class="normal"> 396</span>
<span class="normal"> 397</span>
<span class="normal"> 398</span>
<span class="normal"> 399</span>
<span class="normal"> 400</span>
<span class="normal"> 401</span>
<span class="normal"> 402</span>
<span class="normal"> 403</span>
<span class="normal"> 404</span>
<span class="normal"> 405</span>
<span class="normal"> 406</span>
<span class="normal"> 407</span>
<span class="normal"> 408</span>
<span class="normal"> 409</span>
<span class="normal"> 410</span>
<span class="normal"> 411</span>
<span class="normal"> 412</span>
<span class="normal"> 413</span>
<span class="normal"> 414</span>
<span class="normal"> 415</span>
<span class="normal"> 416</span>
<span class="normal"> 417</span>
<span class="normal"> 418</span>
<span class="normal"> 419</span>
<span class="normal"> 420</span>
<span class="normal"> 421</span>
<span class="normal"> 422</span>
<span class="normal"> 423</span>
<span class="normal"> 424</span>
<span class="normal"> 425</span>
<span class="normal"> 426</span>
<span class="normal"> 427</span>
<span class="normal"> 428</span>
<span class="normal"> 429</span>
<span class="normal"> 430</span>
<span class="normal"> 431</span>
<span class="normal"> 432</span>
<span class="normal"> 433</span>
<span class="normal"> 434</span>
<span class="normal"> 435</span>
<span class="normal"> 436</span>
<span class="normal"> 437</span>
<span class="normal"> 438</span>
<span class="normal"> 439</span>
<span class="normal"> 440</span>
<span class="normal"> 441</span>
<span class="normal"> 442</span>
<span class="normal"> 443</span>
<span class="normal"> 444</span>
<span class="normal"> 445</span>
<span class="normal"> 446</span>
<span class="normal"> 447</span>
<span class="normal"> 448</span>
<span class="normal"> 449</span>
<span class="normal"> 450</span>
<span class="normal"> 451</span>
<span class="normal"> 452</span>
<span class="normal"> 453</span>
<span class="normal"> 454</span>
<span class="normal"> 455</span>
<span class="normal"> 456</span>
<span class="normal"> 457</span>
<span class="normal"> 458</span>
<span class="normal"> 459</span>
<span class="normal"> 460</span>
<span class="normal"> 461</span>
<span class="normal"> 462</span>
<span class="normal"> 463</span>
<span class="normal"> 464</span>
<span class="normal"> 465</span>
<span class="normal"> 466</span>
<span class="normal"> 467</span>
<span class="normal"> 468</span>
<span class="normal"> 469</span>
<span class="normal"> 470</span>
<span class="normal"> 471</span>
<span class="normal"> 472</span>
<span class="normal"> 473</span>
<span class="normal"> 474</span>
<span class="normal"> 475</span>
<span class="normal"> 476</span>
<span class="normal"> 477</span>
<span class="normal"> 478</span>
<span class="normal"> 479</span>
<span class="normal"> 480</span>
<span class="normal"> 481</span>
<span class="normal"> 482</span>
<span class="normal"> 483</span>
<span class="normal"> 484</span>
<span class="normal"> 485</span>
<span class="normal"> 486</span>
<span class="normal"> 487</span>
<span class="normal"> 488</span>
<span class="normal"> 489</span>
<span class="normal"> 490</span>
<span class="normal"> 491</span>
<span class="normal"> 492</span>
<span class="normal"> 493</span>
<span class="normal"> 494</span>
<span class="normal"> 495</span>
<span class="normal"> 496</span>
<span class="normal"> 497</span>
<span class="normal"> 498</span>
<span class="normal"> 499</span>
<span class="normal"> 500</span>
<span class="normal"> 501</span>
<span class="normal"> 502</span>
<span class="normal"> 503</span>
<span class="normal"> 504</span>
<span class="normal"> 505</span>
<span class="normal"> 506</span>
<span class="normal"> 507</span>
<span class="normal"> 508</span>
<span class="normal"> 509</span>
<span class="normal"> 510</span>
<span class="normal"> 511</span>
<span class="normal"> 512</span>
<span class="normal"> 513</span>
<span class="normal"> 514</span>
<span class="normal"> 515</span>
<span class="normal"> 516</span>
<span class="normal"> 517</span>
<span class="normal"> 518</span>
<span class="normal"> 519</span>
<span class="normal"> 520</span>
<span class="normal"> 521</span>
<span class="normal"> 522</span>
<span class="normal"> 523</span>
<span class="normal"> 524</span>
<span class="normal"> 525</span>
<span class="normal"> 526</span>
<span class="normal"> 527</span>
<span class="normal"> 528</span>
<span class="normal"> 529</span>
<span class="normal"> 530</span>
<span class="normal"> 531</span>
<span class="normal"> 532</span>
<span class="normal"> 533</span>
<span class="normal"> 534</span>
<span class="normal"> 535</span>
<span class="normal"> 536</span>
<span class="normal"> 537</span>
<span class="normal"> 538</span>
<span class="normal"> 539</span>
<span class="normal"> 540</span>
<span class="normal"> 541</span>
<span class="normal"> 542</span>
<span class="normal"> 543</span>
<span class="normal"> 544</span>
<span class="normal"> 545</span>
<span class="normal"> 546</span>
<span class="normal"> 547</span>
<span class="normal"> 548</span>
<span class="normal"> 549</span>
<span class="normal"> 550</span>
<span class="normal"> 551</span>
<span class="normal"> 552</span>
<span class="normal"> 553</span>
<span class="normal"> 554</span>
<span class="normal"> 555</span>
<span class="normal"> 556</span>
<span class="normal"> 557</span>
<span class="normal"> 558</span>
<span class="normal"> 559</span>
<span class="normal"> 560</span>
<span class="normal"> 561</span>
<span class="normal"> 562</span>
<span class="normal"> 563</span>
<span class="normal"> 564</span>
<span class="normal"> 565</span>
<span class="normal"> 566</span>
<span class="normal"> 567</span>
<span class="normal"> 568</span>
<span class="normal"> 569</span>
<span class="normal"> 570</span>
<span class="normal"> 571</span>
<span class="normal"> 572</span>
<span class="normal"> 573</span>
<span class="normal"> 574</span>
<span class="normal"> 575</span>
<span class="normal"> 576</span>
<span class="normal"> 577</span>
<span class="normal"> 578</span>
<span class="normal"> 579</span>
<span class="normal"> 580</span>
<span class="normal"> 581</span>
<span class="normal"> 582</span>
<span class="normal"> 583</span>
<span class="normal"> 584</span>
<span class="normal"> 585</span>
<span class="normal"> 586</span>
<span class="normal"> 587</span>
<span class="normal"> 588</span>
<span class="normal"> 589</span>
<span class="normal"> 590</span>
<span class="normal"> 591</span>
<span class="normal"> 592</span>
<span class="normal"> 593</span>
<span class="normal"> 594</span>
<span class="normal"> 595</span>
<span class="normal"> 596</span>
<span class="normal"> 597</span>
<span class="normal"> 598</span>
<span class="normal"> 599</span>
<span class="normal"> 600</span>
<span class="normal"> 601</span>
<span class="normal"> 602</span>
<span class="normal"> 603</span>
<span class="normal"> 604</span>
<span class="normal"> 605</span>
<span class="normal"> 606</span>
<span class="normal"> 607</span>
<span class="normal"> 608</span>
<span class="normal"> 609</span>
<span class="normal"> 610</span>
<span class="normal"> 611</span>
<span class="normal"> 612</span>
<span class="normal"> 613</span>
<span class="normal"> 614</span>
<span class="normal"> 615</span>
<span class="normal"> 616</span>
<span class="normal"> 617</span>
<span class="normal"> 618</span>
<span class="normal"> 619</span>
<span class="normal"> 620</span>
<span class="normal"> 621</span>
<span class="normal"> 622</span>
<span class="normal"> 623</span>
<span class="normal"> 624</span>
<span class="normal"> 625</span>
<span class="normal"> 626</span>
<span class="normal"> 627</span>
<span class="normal"> 628</span>
<span class="normal"> 629</span>
<span class="normal"> 630</span>
<span class="normal"> 631</span>
<span class="normal"> 632</span>
<span class="normal"> 633</span>
<span class="normal"> 634</span>
<span class="normal"> 635</span>
<span class="normal"> 636</span>
<span class="normal"> 637</span>
<span class="normal"> 638</span>
<span class="normal"> 639</span>
<span class="normal"> 640</span>
<span class="normal"> 641</span>
<span class="normal"> 642</span>
<span class="normal"> 643</span>
<span class="normal"> 644</span>
<span class="normal"> 645</span>
<span class="normal"> 646</span>
<span class="normal"> 647</span>
<span class="normal"> 648</span>
<span class="normal"> 649</span>
<span class="normal"> 650</span>
<span class="normal"> 651</span>
<span class="normal"> 652</span>
<span class="normal"> 653</span>
<span class="normal"> 654</span>
<span class="normal"> 655</span>
<span class="normal"> 656</span>
<span class="normal"> 657</span>
<span class="normal"> 658</span>
<span class="normal"> 659</span>
<span class="normal"> 660</span>
<span class="normal"> 661</span>
<span class="normal"> 662</span>
<span class="normal"> 663</span>
<span class="normal"> 664</span>
<span class="normal"> 665</span>
<span class="normal"> 666</span>
<span class="normal"> 667</span>
<span class="normal"> 668</span>
<span class="normal"> 669</span>
<span class="normal"> 670</span>
<span class="normal"> 671</span>
<span class="normal"> 672</span>
<span class="normal"> 673</span>
<span class="normal"> 674</span>
<span class="normal"> 675</span>
<span class="normal"> 676</span>
<span class="normal"> 677</span>
<span class="normal"> 678</span>
<span class="normal"> 679</span>
<span class="normal"> 680</span>
<span class="normal"> 681</span>
<span class="normal"> 682</span>
<span class="normal"> 683</span>
<span class="normal"> 684</span>
<span class="normal"> 685</span>
<span class="normal"> 686</span>
<span class="normal"> 687</span>
<span class="normal"> 688</span>
<span class="normal"> 689</span>
<span class="normal"> 690</span>
<span class="normal"> 691</span>
<span class="normal"> 692</span>
<span class="normal"> 693</span>
<span class="normal"> 694</span>
<span class="normal"> 695</span>
<span class="normal"> 696</span>
<span class="normal"> 697</span>
<span class="normal"> 698</span>
<span class="normal"> 699</span>
<span class="normal"> 700</span>
<span class="normal"> 701</span>
<span class="normal"> 702</span>
<span class="normal"> 703</span>
<span class="normal"> 704</span>
<span class="normal"> 705</span>
<span class="normal"> 706</span>
<span class="normal"> 707</span>
<span class="normal"> 708</span>
<span class="normal"> 709</span>
<span class="normal"> 710</span>
<span class="normal"> 711</span>
<span class="normal"> 712</span>
<span class="normal"> 713</span>
<span class="normal"> 714</span>
<span class="normal"> 715</span>
<span class="normal"> 716</span>
<span class="normal"> 717</span>
<span class="normal"> 718</span>
<span class="normal"> 719</span>
<span class="normal"> 720</span>
<span class="normal"> 721</span>
<span class="normal"> 722</span>
<span class="normal"> 723</span>
<span class="normal"> 724</span>
<span class="normal"> 725</span>
<span class="normal"> 726</span>
<span class="normal"> 727</span>
<span class="normal"> 728</span>
<span class="normal"> 729</span>
<span class="normal"> 730</span>
<span class="normal"> 731</span>
<span class="normal"> 732</span>
<span class="normal"> 733</span>
<span class="normal"> 734</span>
<span class="normal"> 735</span>
<span class="normal"> 736</span>
<span class="normal"> 737</span>
<span class="normal"> 738</span>
<span class="normal"> 739</span>
<span class="normal"> 740</span>
<span class="normal"> 741</span>
<span class="normal"> 742</span>
<span class="normal"> 743</span>
<span class="normal"> 744</span>
<span class="normal"> 745</span>
<span class="normal"> 746</span>
<span class="normal"> 747</span>
<span class="normal"> 748</span>
<span class="normal"> 749</span>
<span class="normal"> 750</span>
<span class="normal"> 751</span>
<span class="normal"> 752</span>
<span class="normal"> 753</span>
<span class="normal"> 754</span>
<span class="normal"> 755</span>
<span class="normal"> 756</span>
<span class="normal"> 757</span>
<span class="normal"> 758</span>
<span class="normal"> 759</span>
<span class="normal"> 760</span>
<span class="normal"> 761</span>
<span class="normal"> 762</span>
<span class="normal"> 763</span>
<span class="normal"> 764</span>
<span class="normal"> 765</span>
<span class="normal"> 766</span>
<span class="normal"> 767</span>
<span class="normal"> 768</span>
<span class="normal"> 769</span>
<span class="normal"> 770</span>
<span class="normal"> 771</span>
<span class="normal"> 772</span>
<span class="normal"> 773</span>
<span class="normal"> 774</span>
<span class="normal"> 775</span>
<span class="normal"> 776</span>
<span class="normal"> 777</span>
<span class="normal"> 778</span>
<span class="normal"> 779</span>
<span class="normal"> 780</span>
<span class="normal"> 781</span>
<span class="normal"> 782</span>
<span class="normal"> 783</span>
<span class="normal"> 784</span>
<span class="normal"> 785</span>
<span class="normal"> 786</span>
<span class="normal"> 787</span>
<span class="normal"> 788</span>
<span class="normal"> 789</span>
<span class="normal"> 790</span>
<span class="normal"> 791</span>
<span class="normal"> 792</span>
<span class="normal"> 793</span>
<span class="normal"> 794</span>
<span class="normal"> 795</span>
<span class="normal"> 796</span>
<span class="normal"> 797</span>
<span class="normal"> 798</span>
<span class="normal"> 799</span>
<span class="normal"> 800</span>
<span class="normal"> 801</span>
<span class="normal"> 802</span>
<span class="normal"> 803</span>
<span class="normal"> 804</span>
<span class="normal"> 805</span>
<span class="normal"> 806</span>
<span class="normal"> 807</span>
<span class="normal"> 808</span>
<span class="normal"> 809</span>
<span class="normal"> 810</span>
<span class="normal"> 811</span>
<span class="normal"> 812</span>
<span class="normal"> 813</span>
<span class="normal"> 814</span>
<span class="normal"> 815</span>
<span class="normal"> 816</span>
<span class="normal"> 817</span>
<span class="normal"> 818</span>
<span class="normal"> 819</span>
<span class="normal"> 820</span>
<span class="normal"> 821</span>
<span class="normal"> 822</span>
<span class="normal"> 823</span>
<span class="normal"> 824</span>
<span class="normal"> 825</span>
<span class="normal"> 826</span>
<span class="normal"> 827</span>
<span class="normal"> 828</span>
<span class="normal"> 829</span>
<span class="normal"> 830</span>
<span class="normal"> 831</span>
<span class="normal"> 832</span>
<span class="normal"> 833</span>
<span class="normal"> 834</span>
<span class="normal"> 835</span>
<span class="normal"> 836</span>
<span class="normal"> 837</span>
<span class="normal"> 838</span>
<span class="normal"> 839</span>
<span class="normal"> 840</span>
<span class="normal"> 841</span>
<span class="normal"> 842</span>
<span class="normal"> 843</span>
<span class="normal"> 844</span>
<span class="normal"> 845</span>
<span class="normal"> 846</span>
<span class="normal"> 847</span>
<span class="normal"> 848</span>
<span class="normal"> 849</span>
<span class="normal"> 850</span>
<span class="normal"> 851</span>
<span class="normal"> 852</span>
<span class="normal"> 853</span>
<span class="normal"> 854</span>
<span class="normal"> 855</span>
<span class="normal"> 856</span>
<span class="normal"> 857</span>
<span class="normal"> 858</span>
<span class="normal"> 859</span>
<span class="normal"> 860</span>
<span class="normal"> 861</span>
<span class="normal"> 862</span>
<span class="normal"> 863</span>
<span class="normal"> 864</span>
<span class="normal"> 865</span>
<span class="normal"> 866</span>
<span class="normal"> 867</span>
<span class="normal"> 868</span>
<span class="normal"> 869</span>
<span class="normal"> 870</span>
<span class="normal"> 871</span>
<span class="normal"> 872</span>
<span class="normal"> 873</span>
<span class="normal"> 874</span>
<span class="normal"> 875</span>
<span class="normal"> 876</span>
<span class="normal"> 877</span>
<span class="normal"> 878</span>
<span class="normal"> 879</span>
<span class="normal"> 880</span>
<span class="normal"> 881</span>
<span class="normal"> 882</span>
<span class="normal"> 883</span>
<span class="normal"> 884</span>
<span class="normal"> 885</span>
<span class="normal"> 886</span>
<span class="normal"> 887</span>
<span class="normal"> 888</span>
<span class="normal"> 889</span>
<span class="normal"> 890</span>
<span class="normal"> 891</span>
<span class="normal"> 892</span>
<span class="normal"> 893</span>
<span class="normal"> 894</span>
<span class="normal"> 895</span>
<span class="normal"> 896</span>
<span class="normal"> 897</span>
<span class="normal"> 898</span>
<span class="normal"> 899</span>
<span class="normal"> 900</span>
<span class="normal"> 901</span>
<span class="normal"> 902</span>
<span class="normal"> 903</span>
<span class="normal"> 904</span>
<span class="normal"> 905</span>
<span class="normal"> 906</span>
<span class="normal"> 907</span>
<span class="normal"> 908</span>
<span class="normal"> 909</span>
<span class="normal"> 910</span>
<span class="normal"> 911</span>
<span class="normal"> 912</span>
<span class="normal"> 913</span>
<span class="normal"> 914</span>
<span class="normal"> 915</span>
<span class="normal"> 916</span>
<span class="normal"> 917</span>
<span class="normal"> 918</span>
<span class="normal"> 919</span>
<span class="normal"> 920</span>
<span class="normal"> 921</span>
<span class="normal"> 922</span>
<span class="normal"> 923</span>
<span class="normal"> 924</span>
<span class="normal"> 925</span>
<span class="normal"> 926</span>
<span class="normal"> 927</span>
<span class="normal"> 928</span>
<span class="normal"> 929</span>
<span class="normal"> 930</span>
<span class="normal"> 931</span>
<span class="normal"> 932</span>
<span class="normal"> 933</span>
<span class="normal"> 934</span>
<span class="normal"> 935</span>
<span class="normal"> 936</span>
<span class="normal"> 937</span>
<span class="normal"> 938</span>
<span class="normal"> 939</span>
<span class="normal"> 940</span>
<span class="normal"> 941</span>
<span class="normal"> 942</span>
<span class="normal"> 943</span>
<span class="normal"> 944</span>
<span class="normal"> 945</span>
<span class="normal"> 946</span>
<span class="normal"> 947</span>
<span class="normal"> 948</span>
<span class="normal"> 949</span>
<span class="normal"> 950</span>
<span class="normal"> 951</span>
<span class="normal"> 952</span>
<span class="normal"> 953</span>
<span class="normal"> 954</span>
<span class="normal"> 955</span>
<span class="normal"> 956</span>
<span class="normal"> 957</span>
<span class="normal"> 958</span>
<span class="normal"> 959</span>
<span class="normal"> 960</span>
<span class="normal"> 961</span>
<span class="normal"> 962</span>
<span class="normal"> 963</span>
<span class="normal"> 964</span>
<span class="normal"> 965</span>
<span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span>
<span class="normal">1389</span>
<span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span>
<span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span>
<span class="normal">1476</span>
<span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span>
<span class="normal">1496</span>
<span class="normal">1497</span>
<span class="normal">1498</span>
<span class="normal">1499</span>
<span class="normal">1500</span>
<span class="normal">1501</span>
<span class="normal">1502</span>
<span class="normal">1503</span>
<span class="normal">1504</span>
<span class="normal">1505</span>
<span class="normal">1506</span>
<span class="normal">1507</span>
<span class="normal">1508</span>
<span class="normal">1509</span>
<span class="normal">1510</span>
<span class="normal">1511</span>
<span class="normal">1512</span>
<span class="normal">1513</span>
<span class="normal">1514</span>
<span class="normal">1515</span>
<span class="normal">1516</span>
<span class="normal">1517</span>
<span class="normal">1518</span>
<span class="normal">1519</span>
<span class="normal">1520</span>
<span class="normal">1521</span>
<span class="normal">1522</span>
<span class="normal">1523</span>
<span class="normal">1524</span>
<span class="normal">1525</span>
<span class="normal">1526</span>
<span class="normal">1527</span>
<span class="normal">1528</span>
<span class="normal">1529</span>
<span class="normal">1530</span>
<span class="normal">1531</span>
<span class="normal">1532</span>
<span class="normal">1533</span>
<span class="normal">1534</span>
<span class="normal">1535</span>
<span class="normal">1536</span>
<span class="normal">1537</span>
<span class="normal">1538</span>
<span class="normal">1539</span>
<span class="normal">1540</span>
<span class="normal">1541</span>
<span class="normal">1542</span>
<span class="normal">1543</span>
<span class="normal">1544</span>
<span class="normal">1545</span>
<span class="normal">1546</span>
<span class="normal">1547</span>
<span class="normal">1548</span>
<span class="normal">1549</span>
<span class="normal">1550</span>
<span class="normal">1551</span>
<span class="normal">1552</span>
<span class="normal">1553</span>
<span class="normal">1554</span>
<span class="normal">1555</span>
<span class="normal">1556</span>
<span class="normal">1557</span>
<span class="normal">1558</span>
<span class="normal">1559</span>
<span class="normal">1560</span>
<span class="normal">1561</span>
<span class="normal">1562</span>
<span class="normal">1563</span>
<span class="normal">1564</span>
<span class="normal">1565</span>
<span class="normal">1566</span>
<span class="normal">1567</span>
<span class="normal">1568</span>
<span class="normal">1569</span>
<span class="normal">1570</span>
<span class="normal">1571</span>
<span class="normal">1572</span>
<span class="normal">1573</span>
<span class="normal">1574</span>
<span class="normal">1575</span>
<span class="normal">1576</span>
<span class="normal">1577</span>
<span class="normal">1578</span>
<span class="normal">1579</span>
<span class="normal">1580</span>
<span class="normal">1581</span>
<span class="normal">1582</span>
<span class="normal">1583</span>
<span class="normal">1584</span>
<span class="normal">1585</span>
<span class="normal">1586</span>
<span class="normal">1587</span>
<span class="normal">1588</span>
<span class="normal">1589</span>
<span class="normal">1590</span>
<span class="normal">1591</span>
<span class="normal">1592</span>
<span class="normal">1593</span>
<span class="normal">1594</span>
<span class="normal">1595</span>
<span class="normal">1596</span>
<span class="normal">1597</span>
<span class="normal">1598</span>
<span class="normal">1599</span>
<span class="normal">1600</span>
<span class="normal">1601</span>
<span class="normal">1602</span>
<span class="normal">1603</span>
<span class="normal">1604</span>
<span class="normal">1605</span>
<span class="normal">1606</span>
<span class="normal">1607</span>
<span class="normal">1608</span>
<span class="normal">1609</span>
<span class="normal">1610</span>
<span class="normal">1611</span>
<span class="normal">1612</span>
<span class="normal">1613</span>
<span class="normal">1614</span>
<span class="normal">1615</span>
<span class="normal">1616</span>
<span class="normal">1617</span>
<span class="normal">1618</span>
<span class="normal">1619</span>
<span class="normal">1620</span>
<span class="normal">1621</span>
<span class="normal">1622</span>
<span class="normal">1623</span>
<span class="normal">1624</span>
<span class="normal">1625</span>
<span class="normal">1626</span>
<span class="normal">1627</span>
<span class="normal">1628</span>
<span class="normal">1629</span>
<span class="normal">1630</span>
<span class="normal">1631</span>
<span class="normal">1632</span>
<span class="normal">1633</span>
<span class="normal">1634</span>
<span class="normal">1635</span>
<span class="normal">1636</span>
<span class="normal">1637</span>
<span class="normal">1638</span>
<span class="normal">1639</span>
<span class="normal">1640</span>
<span class="normal">1641</span>
<span class="normal">1642</span>
<span class="normal">1643</span>
<span class="normal">1644</span>
<span class="normal">1645</span>
<span class="normal">1646</span>
<span class="normal">1647</span>
<span class="normal">1648</span>
<span class="normal">1649</span>
<span class="normal">1650</span>
<span class="normal">1651</span>
<span class="normal">1652</span>
<span class="normal">1653</span>
<span class="normal">1654</span>
<span class="normal">1655</span>
<span class="normal">1656</span>
<span class="normal">1657</span>
<span class="normal">1658</span>
<span class="normal">1659</span>
<span class="normal">1660</span>
<span class="normal">1661</span>
<span class="normal">1662</span>
<span class="normal">1663</span>
<span class="normal">1664</span>
<span class="normal">1665</span>
<span class="normal">1666</span>
<span class="normal">1667</span>
<span class="normal">1668</span>
<span class="normal">1669</span>
<span class="normal">1670</span>
<span class="normal">1671</span>
<span class="normal">1672</span>
<span class="normal">1673</span>
<span class="normal">1674</span>
<span class="normal">1675</span>
<span class="normal">1676</span>
<span class="normal">1677</span>
<span class="normal">1678</span>
<span class="normal">1679</span>
<span class="normal">1680</span>
<span class="normal">1681</span>
<span class="normal">1682</span>
<span class="normal">1683</span>
<span class="normal">1684</span>
<span class="normal">1685</span>
<span class="normal">1686</span>
<span class="normal">1687</span>
<span class="normal">1688</span>
<span class="normal">1689</span>
<span class="normal">1690</span>
<span class="normal">1691</span>
<span class="normal">1692</span>
<span class="normal">1693</span>
<span class="normal">1694</span>
<span class="normal">1695</span>
<span class="normal">1696</span>
<span class="normal">1697</span>
<span class="normal">1698</span>
<span class="normal">1699</span>
<span class="normal">1700</span>
<span class="normal">1701</span>
<span class="normal">1702</span>
<span class="normal">1703</span>
<span class="normal">1704</span>
<span class="normal">1705</span>
<span class="normal">1706</span>
<span class="normal">1707</span>
<span class="normal">1708</span>
<span class="normal">1709</span>
<span class="normal">1710</span>
<span class="normal">1711</span>
<span class="normal">1712</span>
<span class="normal">1713</span>
<span class="normal">1714</span>
<span class="normal">1715</span>
<span class="normal">1716</span>
<span class="normal">1717</span>
<span class="normal">1718</span>
<span class="normal">1719</span>
<span class="normal">1720</span>
<span class="normal">1721</span>
<span class="normal">1722</span>
<span class="normal">1723</span>
<span class="normal">1724</span>
<span class="normal">1725</span>
<span class="normal">1726</span>
<span class="normal">1727</span>
<span class="normal">1728</span>
<span class="normal">1729</span>
<span class="normal">1730</span>
<span class="normal">1731</span>
<span class="normal">1732</span>
<span class="normal">1733</span>
<span class="normal">1734</span>
<span class="normal">1735</span>
<span class="normal">1736</span>
<span class="normal">1737</span>
<span class="normal">1738</span>
<span class="normal">1739</span>
<span class="normal">1740</span>
<span class="normal">1741</span>
<span class="normal">1742</span>
<span class="normal">1743</span>
<span class="normal">1744</span>
<span class="normal">1745</span>
<span class="normal">1746</span>
<span class="normal">1747</span>
<span class="normal">1748</span>
<span class="normal">1749</span>
<span class="normal">1750</span>
<span class="normal">1751</span>
<span class="normal">1752</span>
<span class="normal">1753</span>
<span class="normal">1754</span>
<span class="normal">1755</span>
<span class="normal">1756</span>
<span class="normal">1757</span>
<span class="normal">1758</span>
<span class="normal">1759</span>
<span class="normal">1760</span>
<span class="normal">1761</span>
<span class="normal">1762</span>
<span class="normal">1763</span>
<span class="normal">1764</span>
<span class="normal">1765</span>
<span class="normal">1766</span>
<span class="normal">1767</span>
<span class="normal">1768</span>
<span class="normal">1769</span>
<span class="normal">1770</span>
<span class="normal">1771</span>
<span class="normal">1772</span>
<span class="normal">1773</span>
<span class="normal">1774</span>
<span class="normal">1775</span>
<span class="normal">1776</span>
<span class="normal">1777</span>
<span class="normal">1778</span>
<span class="normal">1779</span>
<span class="normal">1780</span>
<span class="normal">1781</span>
<span class="normal">1782</span>
<span class="normal">1783</span>
<span class="normal">1784</span>
<span class="normal">1785</span>
<span class="normal">1786</span>
<span class="normal">1787</span>
<span class="normal">1788</span>
<span class="normal">1789</span>
<span class="normal">1790</span>
<span class="normal">1791</span>
<span class="normal">1792</span>
<span class="normal">1793</span>
<span class="normal">1794</span>
<span class="normal">1795</span>
<span class="normal">1796</span>
<span class="normal">1797</span>
<span class="normal">1798</span>
<span class="normal">1799</span>
<span class="normal">1800</span>
<span class="normal">1801</span>
<span class="normal">1802</span>
<span class="normal">1803</span>
<span class="normal">1804</span>
<span class="normal">1805</span>
<span class="normal">1806</span>
<span class="normal">1807</span>
<span class="normal">1808</span>
<span class="normal">1809</span>
<span class="normal">1810</span>
<span class="normal">1811</span>
<span class="normal">1812</span>
<span class="normal">1813</span>
<span class="normal">1814</span>
<span class="normal">1815</span>
<span class="normal">1816</span>
<span class="normal">1817</span>
<span class="normal">1818</span>
<span class="normal">1819</span>
<span class="normal">1820</span>
<span class="normal">1821</span>
<span class="normal">1822</span>
<span class="normal">1823</span>
<span class="normal">1824</span>
<span class="normal">1825</span>
<span class="normal">1826</span>
<span class="normal">1827</span>
<span class="normal">1828</span>
<span class="normal">1829</span>
<span class="normal">1830</span>
<span class="normal">1831</span>
<span class="normal">1832</span>
<span class="normal">1833</span>
<span class="normal">1834</span>
<span class="normal">1835</span>
<span class="normal">1836</span>
<span class="normal">1837</span>
<span class="normal">1838</span>
<span class="normal">1839</span>
<span class="normal">1840</span>
<span class="normal">1841</span>
<span class="normal">1842</span>
<span class="normal">1843</span>
<span class="normal">1844</span>
<span class="normal">1845</span>
<span class="normal">1846</span>
<span class="normal">1847</span>
<span class="normal">1848</span>
<span class="normal">1849</span>
<span class="normal">1850</span>
<span class="normal">1851</span>
<span class="normal">1852</span>
<span class="normal">1853</span>
<span class="normal">1854</span>
<span class="normal">1855</span>
<span class="normal">1856</span>
<span class="normal">1857</span>
<span class="normal">1858</span>
<span class="normal">1859</span>
<span class="normal">1860</span>
<span class="normal">1861</span>
<span class="normal">1862</span>
<span class="normal">1863</span>
<span class="normal">1864</span>
<span class="normal">1865</span>
<span class="normal">1866</span>
<span class="normal">1867</span>
<span class="normal">1868</span>
<span class="normal">1869</span>
<span class="normal">1870</span>
<span class="normal">1871</span>
<span class="normal">1872</span>
<span class="normal">1873</span>
<span class="normal">1874</span>
<span class="normal">1875</span>
<span class="normal">1876</span>
<span class="normal">1877</span>
<span class="normal">1878</span>
<span class="normal">1879</span>
<span class="normal">1880</span>
<span class="normal">1881</span>
<span class="normal">1882</span>
<span class="normal">1883</span>
<span class="normal">1884</span>
<span class="normal">1885</span>
<span class="normal">1886</span>
<span class="normal">1887</span>
<span class="normal">1888</span>
<span class="normal">1889</span>
<span class="normal">1890</span>
<span class="normal">1891</span>
<span class="normal">1892</span>
<span class="normal">1893</span>
<span class="normal">1894</span>
<span class="normal">1895</span>
<span class="normal">1896</span>
<span class="normal">1897</span>
<span class="normal">1898</span>
<span class="normal">1899</span>
<span class="normal">1900</span>
<span class="normal">1901</span>
<span class="normal">1902</span>
<span class="normal">1903</span>
<span class="normal">1904</span>
<span class="normal">1905</span>
<span class="normal">1906</span>
<span class="normal">1907</span>
<span class="normal">1908</span>
<span class="normal">1909</span>
<span class="normal">1910</span>
<span class="normal">1911</span>
<span class="normal">1912</span>
<span class="normal">1913</span>
<span class="normal">1914</span>
<span class="normal">1915</span>
<span class="normal">1916</span>
<span class="normal">1917</span>
<span class="normal">1918</span>
<span class="normal">1919</span>
<span class="normal">1920</span>
<span class="normal">1921</span>
<span class="normal">1922</span>
<span class="normal">1923</span>
<span class="normal">1924</span>
<span class="normal">1925</span>
<span class="normal">1926</span>
<span class="normal">1927</span>
<span class="normal">1928</span>
<span class="normal">1929</span>
<span class="normal">1930</span>
<span class="normal">1931</span>
<span class="normal">1932</span>
<span class="normal">1933</span>
<span class="normal">1934</span>
<span class="normal">1935</span>
<span class="normal">1936</span>
<span class="normal">1937</span>
<span class="normal">1938</span>
<span class="normal">1939</span>
<span class="normal">1940</span>
<span class="normal">1941</span>
<span class="normal">1942</span>
<span class="normal">1943</span>
<span class="normal">1944</span>
<span class="normal">1945</span>
<span class="normal">1946</span>
<span class="normal">1947</span>
<span class="normal">1948</span>
<span class="normal">1949</span>
<span class="normal">1950</span>
<span class="normal">1951</span>
<span class="normal">1952</span>
<span class="normal">1953</span>
<span class="normal">1954</span>
<span class="normal">1955</span>
<span class="normal">1956</span>
<span class="normal">1957</span>
<span class="normal">1958</span>
<span class="normal">1959</span>
<span class="normal">1960</span>
<span class="normal">1961</span>
<span class="normal">1962</span>
<span class="normal">1963</span>
<span class="normal">1964</span>
<span class="normal">1965</span>
<span class="normal">1966</span>
<span class="normal">1967</span>
<span class="normal">1968</span>
<span class="normal">1969</span>
<span class="normal">1970</span>
<span class="normal">1971</span>
<span class="normal">1972</span>
<span class="normal">1973</span>
<span class="normal">1974</span>
<span class="normal">1975</span>
<span class="normal">1976</span>
<span class="normal">1977</span>
<span class="normal">1978</span>
<span class="normal">1979</span>
<span class="normal">1980</span>
<span class="normal">1981</span>
<span class="normal">1982</span>
<span class="normal">1983</span>
<span class="normal">1984</span>
<span class="normal">1985</span>
<span class="normal">1986</span>
<span class="normal">1987</span>
<span class="normal">1988</span>
<span class="normal">1989</span>
<span class="normal">1990</span>
<span class="normal">1991</span>
<span class="normal">1992</span>
<span class="normal">1993</span>
<span class="normal">1994</span>
<span class="normal">1995</span>
<span class="normal">1996</span>
<span class="normal">1997</span>
<span class="normal">1998</span>
<span class="normal">1999</span>
<span class="normal">2000</span>
<span class="normal">2001</span>
<span class="normal">2002</span>
<span class="normal">2003</span>
<span class="normal">2004</span>
<span class="normal">2005</span>
<span class="normal">2006</span>
<span class="normal">2007</span>
<span class="normal">2008</span>
<span class="normal">2009</span>
<span class="normal">2010</span>
<span class="normal">2011</span>
<span class="normal">2012</span>
<span class="normal">2013</span>
<span class="normal">2014</span>
<span class="normal">2015</span>
<span class="normal">2016</span>
<span class="normal">2017</span>
<span class="normal">2018</span>
<span class="normal">2019</span>
<span class="normal">2020</span>
<span class="normal">2021</span>
<span class="normal">2022</span>
<span class="normal">2023</span>
<span class="normal">2024</span>
<span class="normal">2025</span>
<span class="normal">2026</span>
<span class="normal">2027</span>
<span class="normal">2028</span>
<span class="normal">2029</span>
<span class="normal">2030</span>
<span class="normal">2031</span>
<span class="normal">2032</span>
<span class="normal">2033</span>
<span class="normal">2034</span>
<span class="normal">2035</span>
<span class="normal">2036</span>
<span class="normal">2037</span>
<span class="normal">2038</span>
<span class="normal">2039</span>
<span class="normal">2040</span>
<span class="normal">2041</span>
<span class="normal">2042</span>
<span class="normal">2043</span>
<span class="normal">2044</span>
<span class="normal">2045</span>
<span class="normal">2046</span>
<span class="normal">2047</span>
<span class="normal">2048</span>
<span class="normal">2049</span>
<span class="normal">2050</span>
<span class="normal">2051</span>
<span class="normal">2052</span>
<span class="normal">2053</span>
<span class="normal">2054</span>
<span class="normal">2055</span>
<span class="normal">2056</span>
<span class="normal">2057</span>
<span class="normal">2058</span>
<span class="normal">2059</span>
<span class="normal">2060</span>
<span class="normal">2061</span>
<span class="normal">2062</span>
<span class="normal">2063</span>
<span class="normal">2064</span>
<span class="normal">2065</span>
<span class="normal">2066</span>
<span class="normal">2067</span>
<span class="normal">2068</span>
<span class="normal">2069</span>
<span class="normal">2070</span>
<span class="normal">2071</span>
<span class="normal">2072</span>
<span class="normal">2073</span>
<span class="normal">2074</span>
<span class="normal">2075</span>
<span class="normal">2076</span>
<span class="normal">2077</span>
<span class="normal">2078</span>
<span class="normal">2079</span>
<span class="normal">2080</span>
<span class="normal">2081</span>
<span class="normal">2082</span>
<span class="normal">2083</span>
<span class="normal">2084</span>
<span class="normal">2085</span>
<span class="normal">2086</span>
<span class="normal">2087</span>
<span class="normal">2088</span>
<span class="normal">2089</span>
<span class="normal">2090</span>
<span class="normal">2091</span>
<span class="normal">2092</span>
<span class="normal">2093</span>
<span class="normal">2094</span>
<span class="normal">2095</span>
<span class="normal">2096</span>
<span class="normal">2097</span>
<span class="normal">2098</span>
<span class="normal">2099</span>
<span class="normal">2100</span>
<span class="normal">2101</span>
<span class="normal">2102</span>
<span class="normal">2103</span>
<span class="normal">2104</span>
<span class="normal">2105</span>
<span class="normal">2106</span>
<span class="normal">2107</span>
<span class="normal">2108</span>
<span class="normal">2109</span>
<span class="normal">2110</span>
<span class="normal">2111</span>
<span class="normal">2112</span>
<span class="normal">2113</span>
<span class="normal">2114</span>
<span class="normal">2115</span>
<span class="normal">2116</span>
<span class="normal">2117</span>
<span class="normal">2118</span>
<span class="normal">2119</span>
<span class="normal">2120</span>
<span class="normal">2121</span>
<span class="normal">2122</span>
<span class="normal">2123</span>
<span class="normal">2124</span>
<span class="normal">2125</span>
<span class="normal">2126</span>
<span class="normal">2127</span>
<span class="normal">2128</span>
<span class="normal">2129</span>
<span class="normal">2130</span>
<span class="normal">2131</span>
<span class="normal">2132</span>
<span class="normal">2133</span>
<span class="normal">2134</span>
<span class="normal">2135</span>
<span class="normal">2136</span>
<span class="normal">2137</span>
<span class="normal">2138</span>
<span class="normal">2139</span>
<span class="normal">2140</span>
<span class="normal">2141</span>
<span class="normal">2142</span>
<span class="normal">2143</span>
<span class="normal">2144</span>
<span class="normal">2145</span>
<span class="normal">2146</span>
<span class="normal">2147</span>
<span class="normal">2148</span>
<span class="normal">2149</span>
<span class="normal">2150</span>
<span class="normal">2151</span>
<span class="normal">2152</span>
<span class="normal">2153</span>
<span class="normal">2154</span>
<span class="normal">2155</span>
<span class="normal">2156</span>
<span class="normal">2157</span>
<span class="normal">2158</span>
<span class="normal">2159</span>
<span class="normal">2160</span>
<span class="normal">2161</span>
<span class="normal">2162</span>
<span class="normal">2163</span>
<span class="normal">2164</span>
<span class="normal">2165</span>
<span class="normal">2166</span>
<span class="normal">2167</span>
<span class="normal">2168</span>
<span class="normal">2169</span>
<span class="normal">2170</span>
<span class="normal">2171</span>
<span class="normal">2172</span>
<span class="normal">2173</span>
<span class="normal">2174</span>
<span class="normal">2175</span>
<span class="normal">2176</span>
<span class="normal">2177</span>
<span class="normal">2178</span>
<span class="normal">2179</span>
<span class="normal">2180</span>
<span class="normal">2181</span>
<span class="normal">2182</span>
<span class="normal">2183</span>
<span class="normal">2184</span>
<span class="normal">2185</span>
<span class="normal">2186</span>
<span class="normal">2187</span>
<span class="normal">2188</span>
<span class="normal">2189</span>
<span class="normal">2190</span>
<span class="normal">2191</span>
<span class="normal">2192</span>
<span class="normal">2193</span>
<span class="normal">2194</span>
<span class="normal">2195</span>
<span class="normal">2196</span>
<span class="normal">2197</span>
<span class="normal">2198</span>
<span class="normal">2199</span>
<span class="normal">2200</span>
<span class="normal">2201</span>
<span class="normal">2202</span>
<span class="normal">2203</span>
<span class="normal">2204</span>
<span class="normal">2205</span>
<span class="normal">2206</span>
<span class="normal">2207</span>
<span class="normal">2208</span>
<span class="normal">2209</span>
<span class="normal">2210</span>
<span class="normal">2211</span>
<span class="normal">2212</span>
<span class="normal">2213</span>
<span class="normal">2214</span>
<span class="normal">2215</span>
<span class="normal">2216</span>
<span class="normal">2217</span>
<span class="normal">2218</span>
<span class="normal">2219</span>
<span class="normal">2220</span>
<span class="normal">2221</span>
<span class="normal">2222</span>
<span class="normal">2223</span>
<span class="normal">2224</span>
<span class="normal">2225</span>
<span class="normal">2226</span>
<span class="normal">2227</span>
<span class="normal">2228</span>
<span class="normal">2229</span>
<span class="normal">2230</span>
<span class="normal">2231</span>
<span class="normal">2232</span>
<span class="normal">2233</span>
<span class="normal">2234</span>
<span class="normal">2235</span>
<span class="normal">2236</span>
<span class="normal">2237</span>
<span class="normal">2238</span>
<span class="normal">2239</span>
<span class="normal">2240</span>
<span class="normal">2241</span>
<span class="normal">2242</span>
<span class="normal">2243</span>
<span class="normal">2244</span>
<span class="normal">2245</span>
<span class="normal">2246</span>
<span class="normal">2247</span>
<span class="normal">2248</span>
<span class="normal">2249</span>
<span class="normal">2250</span>
<span class="normal">2251</span>
<span class="normal">2252</span>
<span class="normal">2253</span>
<span class="normal">2254</span>
<span class="normal">2255</span>
<span class="normal">2256</span>
<span class="normal">2257</span>
<span class="normal">2258</span>
<span class="normal">2259</span>
<span class="normal">2260</span>
<span class="normal">2261</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">FlowDataEngine</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The core data handling engine for Flowfile.</span>

<span class="sd">    This class acts as a high-level wrapper around a Polars DataFrame or</span>
<span class="sd">    LazyFrame, providing a unified API for data ingestion, transformation,</span>
<span class="sd">    and output. It manages data state (lazy vs. eager), schema information,</span>
<span class="sd">    and execution logic.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        _data_frame: The underlying Polars DataFrame or LazyFrame.</span>
<span class="sd">        columns: A list of column names in the current data frame.</span>
<span class="sd">        name: An optional name for the data engine instance.</span>
<span class="sd">        number_of_records: The number of records. Can be -1 for lazy frames.</span>
<span class="sd">        errors: A list of errors encountered during operations.</span>
<span class="sd">        _schema: A cached list of `FlowfileColumn` objects representing the schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Core attributes</span>
    <span class="n">_data_frame</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">pl</span><span class="o">.</span><span class="n">LazyFrame</span><span class="p">]</span>
    <span class="n">columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span>

    <span class="c1"># Metadata attributes</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">number_of_records</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">errors</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_schema</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="s1">&#39;FlowfileColumn&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Configuration attributes</span>
    <span class="n">_optimize_memory</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">_lazy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_streamable</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">_calculate_schema_stats</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># Cache and optimization attributes</span>
    <span class="n">__col_name_idx_map</span><span class="p">:</span> <span class="n">Dict</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">__data_map</span><span class="p">:</span> <span class="n">Dict</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">__optimized_columns</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">__sample__</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">__number_of_fields</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_col_idx</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Source tracking</span>
    <span class="n">_org_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_external_source</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ExternalDataSource</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># State tracking</span>
    <span class="n">sorted_by</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">is_future</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">is_collected</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">ind_schema_calculated</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># Callbacks</span>
    <span class="n">_future</span><span class="p">:</span> <span class="n">Future</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_number_of_records_callback</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_data_callback</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">None</span>


    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">raw_data</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="s1">&#39;ParquetFile&#39;</span><span class="p">,</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">pl</span><span class="o">.</span><span class="n">LazyFrame</span><span class="p">,</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">RawData</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">path_ref</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">optimize_memory</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                 <span class="n">schema</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s1">&#39;FlowfileColumn&#39;</span><span class="p">]</span> <span class="o">|</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="n">pl</span><span class="o">.</span><span class="n">Schema</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">number_of_records</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">calculate_schema_stats</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                 <span class="n">streamable</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                 <span class="n">number_of_records_callback</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">data_callback</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initializes the FlowDataEngine from various data sources.</span>

<span class="sd">        Args:</span>
<span class="sd">            raw_data: The input data. Can be a list of dicts, a Polars DataFrame/LazyFrame,</span>
<span class="sd">                or a `RawData` schema object.</span>
<span class="sd">            path_ref: A string path to a Parquet file.</span>
<span class="sd">            name: An optional name for the data engine instance.</span>
<span class="sd">            optimize_memory: If True, prefers lazy operations to conserve memory.</span>
<span class="sd">            schema: An optional schema definition. Can be a list of `FlowfileColumn` objects,</span>
<span class="sd">                a list of column names, or a Polars `Schema`.</span>
<span class="sd">            number_of_records: The number of records, if known.</span>
<span class="sd">            calculate_schema_stats: If True, computes detailed statistics for each column.</span>
<span class="sd">            streamable: If True, allows for streaming operations when possible.</span>
<span class="sd">            number_of_records_callback: A callback function to retrieve the number of records.</span>
<span class="sd">            data_callback: A callback function to retrieve the data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_attributes</span><span class="p">(</span><span class="n">number_of_records_callback</span><span class="p">,</span> <span class="n">data_callback</span><span class="p">,</span> <span class="n">streamable</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">raw_data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_handle_raw_data</span><span class="p">(</span><span class="n">raw_data</span><span class="p">,</span> <span class="n">number_of_records</span><span class="p">,</span> <span class="n">optimize_memory</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">path_ref</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_handle_path_ref</span><span class="p">(</span><span class="n">path_ref</span><span class="p">,</span> <span class="n">optimize_memory</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">initialize_empty_fl</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_finalize_initialization</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">optimize_memory</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="n">calculate_schema_stats</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_initialize_attributes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number_of_records_callback</span><span class="p">,</span> <span class="n">data_callback</span><span class="p">,</span> <span class="n">streamable</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;(Internal) Sets the initial default attributes for a new instance.</span>

<span class="sd">        This helper is called first during initialization to ensure all state-tracking</span>
<span class="sd">        and configuration attributes have a clean default value before data is processed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_external_source</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_number_of_records_callback</span> <span class="o">=</span> <span class="n">number_of_records_callback</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data_callback</span> <span class="o">=</span> <span class="n">data_callback</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ind_schema_calculated</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_streamable</span> <span class="o">=</span> <span class="n">streamable</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_org_path</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_lazy</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_schema_stats</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_collected</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_future</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_handle_raw_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raw_data</span><span class="p">,</span> <span class="n">number_of_records</span><span class="p">,</span> <span class="n">optimize_memory</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;(Internal) Dispatches raw data to the appropriate handler based on its type.</span>

<span class="sd">        This acts as a router during initialization, inspecting the type of `raw_data`</span>
<span class="sd">        and calling the corresponding specialized `_handle_*` method to process it.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">raw_data</span><span class="p">,</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">RawData</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_handle_raw_data_format</span><span class="p">(</span><span class="n">raw_data</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">raw_data</span><span class="p">,</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_handle_polars_dataframe</span><span class="p">(</span><span class="n">raw_data</span><span class="p">,</span> <span class="n">number_of_records</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">raw_data</span><span class="p">,</span> <span class="n">pl</span><span class="o">.</span><span class="n">LazyFrame</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_handle_polars_lazy_frame</span><span class="p">(</span><span class="n">raw_data</span><span class="p">,</span> <span class="n">number_of_records</span><span class="p">,</span> <span class="n">optimize_memory</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">raw_data</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_handle_python_data</span><span class="p">(</span><span class="n">raw_data</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_handle_polars_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">df</span><span class="p">:</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">number_of_records</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;(Internal) Initializes the engine from an eager Polars DataFrame.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span> <span class="o">=</span> <span class="n">df</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">=</span> <span class="n">number_of_records</span> <span class="ow">or</span> <span class="n">df</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">len</span><span class="p">())[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_handle_polars_lazy_frame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lf</span><span class="p">:</span> <span class="n">pl</span><span class="o">.</span><span class="n">LazyFrame</span><span class="p">,</span> <span class="n">number_of_records</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">optimize_memory</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;(Internal) Initializes the engine from a Polars LazyFrame.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span> <span class="o">=</span> <span class="n">lf</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_lazy</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">if</span> <span class="n">number_of_records</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">=</span> <span class="n">number_of_records</span>
        <span class="k">elif</span> <span class="n">optimize_memory</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">=</span> <span class="n">lf</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">len</span><span class="p">())</span><span class="o">.</span><span class="n">collect</span><span class="p">()[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_handle_python_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">,</span> <span class="n">Dict</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;(Internal) Dispatches Python collections to the correct handler.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_handle_dict_input</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_handle_list_input</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_handle_dict_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;(Internal) Initializes the engine from a Python dictionary.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">initialize_empty_fl</span><span class="p">()</span>
        <span class="n">lengths</span> <span class="o">=</span> <span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">))</span> <span class="k">else</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">lengths</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">lengths</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">=</span> <span class="n">lengths</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">data</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_handle_raw_data_format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raw_data</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">RawData</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;(Internal) Initializes the engine from a `RawData` schema object.</span>

<span class="sd">        This method uses the schema provided in the `RawData` object to correctly</span>
<span class="sd">        infer data types when creating the Polars DataFrame.</span>

<span class="sd">        Args:</span>
<span class="sd">            raw_data: An instance of `RawData` containing the data and schema.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">flowfile_schema</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">FlowfileColumn</span><span class="o">.</span><span class="n">create_from_minimal_field_info</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">raw_data</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
        <span class="n">polars_schema</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">Schema</span><span class="p">([(</span><span class="n">flowfile_column</span><span class="o">.</span><span class="n">column_name</span><span class="p">,</span> <span class="n">flowfile_column</span><span class="o">.</span><span class="n">get_polars_type</span><span class="p">()</span><span class="o">.</span><span class="n">pl_datatype</span><span class="p">)</span>
                                   <span class="k">for</span> <span class="n">flowfile_column</span> <span class="ow">in</span> <span class="n">flowfile_schema</span><span class="p">])</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">raw_data</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">polars_schema</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not parse the data with the schema:</span><span class="se">\n</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">raw_data</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">lazy</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_handle_list_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">List</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;(Internal) Initializes the engine from a list of records.&quot;&quot;&quot;</span>
        <span class="n">number_of_records</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">number_of_records</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">processed_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_process_list_data</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">=</span> <span class="n">number_of_records</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">processed_data</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">initialize_empty_fl</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_process_list_data</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">List</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;(Internal) Normalizes list data into a list of dictionaries.</span>

<span class="sd">        Ensures that a list of objects or non-dict items is converted into a</span>
<span class="sd">        uniform list of dictionaries suitable for Polars DataFrame creation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">dict</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;__dict__&#39;</span><span class="p">)):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">to_dicts</span><span class="p">()</span>
            <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Value must be able to be converted to dictionary&#39;</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Value must be able to be converted to dictionary: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">row</span><span class="o">.</span><span class="vm">__dict__</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">data</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">ensure_similarity_dicts</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_cloud_storage_obj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">settings</span><span class="p">:</span> <span class="n">cloud_storage_schemas</span><span class="o">.</span><span class="n">CloudStorageWriteSettingsInternal</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Writes the DataFrame to an object in cloud storage.</span>

<span class="sd">        This method supports writing to various cloud storage providers like AWS S3,</span>
<span class="sd">        Azure Data Lake Storage, and Google Cloud Storage.</span>

<span class="sd">        Args:</span>
<span class="sd">            settings: A `CloudStorageWriteSettingsInternal` object containing connection</span>
<span class="sd">                details, file format, and write options.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the specified file format is not supported for writing.</span>
<span class="sd">            NotImplementedError: If the &#39;append&#39; write mode is used with an unsupported format.</span>
<span class="sd">            Exception: If the write operation to cloud storage fails for any reason.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">connection</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">connection</span>
        <span class="n">write_settings</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">write_settings</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Writing to </span><span class="si">{</span><span class="n">connection</span><span class="o">.</span><span class="n">storage_type</span><span class="si">}</span><span class="s2"> storage: </span><span class="si">{</span><span class="n">write_settings</span><span class="o">.</span><span class="n">resource_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">write_settings</span><span class="o">.</span><span class="n">write_mode</span> <span class="o">==</span> <span class="s1">&#39;append&#39;</span> <span class="ow">and</span> <span class="n">write_settings</span><span class="o">.</span><span class="n">file_format</span> <span class="o">!=</span> <span class="s2">&quot;delta&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;The &#39;append&#39; write mode is not yet supported for this destination.&quot;</span><span class="p">)</span>
        <span class="n">storage_options</span> <span class="o">=</span> <span class="n">CloudStorageReader</span><span class="o">.</span><span class="n">get_storage_options</span><span class="p">(</span><span class="n">connection</span><span class="p">)</span>
        <span class="n">credential_provider</span> <span class="o">=</span> <span class="n">CloudStorageReader</span><span class="o">.</span><span class="n">get_credential_provider</span><span class="p">(</span><span class="n">connection</span><span class="p">)</span>
        <span class="c1"># Dispatch to the correct writer based on file format</span>
        <span class="k">if</span> <span class="n">write_settings</span><span class="o">.</span><span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;parquet&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write_parquet_to_cloud</span><span class="p">(</span>
                <span class="n">write_settings</span><span class="o">.</span><span class="n">resource_path</span><span class="p">,</span>
                <span class="n">storage_options</span><span class="p">,</span>
                <span class="n">credential_provider</span><span class="p">,</span>
                <span class="n">write_settings</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="n">write_settings</span><span class="o">.</span><span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;delta&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write_delta_to_cloud</span><span class="p">(</span>
                <span class="n">write_settings</span><span class="o">.</span><span class="n">resource_path</span><span class="p">,</span>
                <span class="n">storage_options</span><span class="p">,</span>
                <span class="n">credential_provider</span><span class="p">,</span>
                <span class="n">write_settings</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="n">write_settings</span><span class="o">.</span><span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;csv&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write_csv_to_cloud</span><span class="p">(</span>
                <span class="n">write_settings</span><span class="o">.</span><span class="n">resource_path</span><span class="p">,</span>
                <span class="n">storage_options</span><span class="p">,</span>
                <span class="n">credential_provider</span><span class="p">,</span>
                <span class="n">write_settings</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="n">write_settings</span><span class="o">.</span><span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;json&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write_json_to_cloud</span><span class="p">(</span>
                <span class="n">write_settings</span><span class="o">.</span><span class="n">resource_path</span><span class="p">,</span>
                <span class="n">storage_options</span><span class="p">,</span>
                <span class="n">credential_provider</span><span class="p">,</span>
                <span class="n">write_settings</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unsupported file format for writing: </span><span class="si">{</span><span class="n">write_settings</span><span class="o">.</span><span class="n">file_format</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Successfully wrote data to </span><span class="si">{</span><span class="n">write_settings</span><span class="o">.</span><span class="n">resource_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_write_parquet_to_cloud</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                <span class="n">resource_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                <span class="n">storage_options</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
                                <span class="n">credential_provider</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">],</span>
                                <span class="n">write_settings</span><span class="p">:</span> <span class="n">cloud_storage_schemas</span><span class="o">.</span><span class="n">CloudStorageWriteSettings</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;(Internal) Writes the DataFrame to a Parquet file in cloud storage.</span>

<span class="sd">        Uses `sink_parquet` for efficient streaming writes. Falls back to a</span>
<span class="sd">        collect-then-write pattern if sinking fails.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">sink_kwargs</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="n">resource_path</span><span class="p">,</span>
                <span class="s2">&quot;compression&quot;</span><span class="p">:</span> <span class="n">write_settings</span><span class="o">.</span><span class="n">parquet_compression</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="n">storage_options</span><span class="p">:</span>
                <span class="n">sink_kwargs</span><span class="p">[</span><span class="s2">&quot;storage_options&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">storage_options</span>
            <span class="k">if</span> <span class="n">credential_provider</span><span class="p">:</span>
                <span class="n">sink_kwargs</span><span class="p">[</span><span class="s2">&quot;credential_provider&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">credential_provider</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">sink_parquet</span><span class="p">(</span><span class="o">**</span><span class="n">sink_kwargs</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to sink the data, falling back to collecing and writing. </span><span class="se">\n</span><span class="s2"> </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">pl_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
                <span class="n">sink_kwargs</span><span class="p">[</span><span class="s1">&#39;file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sink_kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;path&quot;</span><span class="p">)</span>
                <span class="n">pl_df</span><span class="o">.</span><span class="n">write_parquet</span><span class="p">(</span><span class="o">**</span><span class="n">sink_kwargs</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to write Parquet to </span><span class="si">{</span><span class="n">resource_path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to write Parquet to cloud storage: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_write_delta_to_cloud</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                              <span class="n">resource_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                              <span class="n">storage_options</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
                              <span class="n">credential_provider</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">],</span>
                              <span class="n">write_settings</span><span class="p">:</span> <span class="n">cloud_storage_schemas</span><span class="o">.</span><span class="n">CloudStorageWriteSettings</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;(Internal) Writes the DataFrame to a Delta Lake table in cloud storage.</span>

<span class="sd">        This operation requires collecting the data first, as `write_delta` operates</span>
<span class="sd">        on an eager DataFrame.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">sink_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="n">resource_path</span><span class="p">,</span>
            <span class="s2">&quot;mode&quot;</span><span class="p">:</span> <span class="n">write_settings</span><span class="o">.</span><span class="n">write_mode</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">storage_options</span><span class="p">:</span>
            <span class="n">sink_kwargs</span><span class="p">[</span><span class="s2">&quot;storage_options&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">storage_options</span>
        <span class="k">if</span> <span class="n">credential_provider</span><span class="p">:</span>
            <span class="n">sink_kwargs</span><span class="p">[</span><span class="s2">&quot;credential_provider&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">credential_provider</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span><span class="o">.</span><span class="n">write_delta</span><span class="p">(</span><span class="o">**</span><span class="n">sink_kwargs</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_write_csv_to_cloud</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                            <span class="n">resource_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                            <span class="n">storage_options</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
                            <span class="n">credential_provider</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">],</span>
                            <span class="n">write_settings</span><span class="p">:</span> <span class="n">cloud_storage_schemas</span><span class="o">.</span><span class="n">CloudStorageWriteSettings</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;(Internal) Writes the DataFrame to a CSV file in cloud storage.</span>

<span class="sd">        Uses `sink_csv` for efficient, streaming writes of the data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">sink_kwargs</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="n">resource_path</span><span class="p">,</span>
                <span class="s2">&quot;separator&quot;</span><span class="p">:</span> <span class="n">write_settings</span><span class="o">.</span><span class="n">csv_delimiter</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="n">storage_options</span><span class="p">:</span>
                <span class="n">sink_kwargs</span><span class="p">[</span><span class="s2">&quot;storage_options&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">storage_options</span>
            <span class="k">if</span> <span class="n">credential_provider</span><span class="p">:</span>
                <span class="n">sink_kwargs</span><span class="p">[</span><span class="s2">&quot;credential_provider&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">credential_provider</span>

            <span class="c1"># sink_csv executes the lazy query and writes the result</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">sink_csv</span><span class="p">(</span><span class="o">**</span><span class="n">sink_kwargs</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to write CSV to </span><span class="si">{</span><span class="n">resource_path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to write CSV to cloud storage: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_write_json_to_cloud</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                             <span class="n">resource_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                             <span class="n">storage_options</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
                             <span class="n">credential_provider</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">],</span>
                             <span class="n">write_settings</span><span class="p">:</span> <span class="n">cloud_storage_schemas</span><span class="o">.</span><span class="n">CloudStorageWriteSettings</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;(Internal) Writes the DataFrame to a line-delimited JSON (NDJSON) file.</span>

<span class="sd">        Uses `sink_ndjson` for efficient, streaming writes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">sink_kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="n">resource_path</span><span class="p">}</span>
            <span class="k">if</span> <span class="n">storage_options</span><span class="p">:</span>
                <span class="n">sink_kwargs</span><span class="p">[</span><span class="s2">&quot;storage_options&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">storage_options</span>
            <span class="k">if</span> <span class="n">credential_provider</span><span class="p">:</span>
                <span class="n">sink_kwargs</span><span class="p">[</span><span class="s2">&quot;credential_provider&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">credential_provider</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">sink_ndjson</span><span class="p">(</span><span class="o">**</span><span class="n">sink_kwargs</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to write JSON to </span><span class="si">{</span><span class="n">resource_path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to write JSON to cloud storage: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_cloud_storage_obj</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">settings</span><span class="p">:</span> <span class="n">cloud_storage_schemas</span><span class="o">.</span><span class="n">CloudStorageReadSettingsInternal</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a FlowDataEngine from an object in cloud storage.</span>

<span class="sd">        This method supports reading from various cloud storage providers like AWS S3,</span>
<span class="sd">        Azure Data Lake Storage, and Google Cloud Storage, with support for</span>
<span class="sd">        various authentication methods.</span>

<span class="sd">        Args:</span>
<span class="sd">            settings: A `CloudStorageReadSettingsInternal` object containing connection</span>
<span class="sd">                details, file format, and read options.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new `FlowDataEngine` instance containing the data from cloud storage.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the storage type or file format is not supported.</span>
<span class="sd">            NotImplementedError: If a requested file format like &quot;delta&quot; or &quot;iceberg&quot;</span>
<span class="sd">                is not yet implemented.</span>
<span class="sd">            Exception: If reading from cloud storage fails.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">connection</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">connection</span>
        <span class="n">read_settings</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">read_settings</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Reading from </span><span class="si">{</span><span class="n">connection</span><span class="o">.</span><span class="n">storage_type</span><span class="si">}</span><span class="s2"> storage: </span><span class="si">{</span><span class="n">read_settings</span><span class="o">.</span><span class="n">resource_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="c1"># Get storage options based on connection type</span>
        <span class="n">storage_options</span> <span class="o">=</span> <span class="n">CloudStorageReader</span><span class="o">.</span><span class="n">get_storage_options</span><span class="p">(</span><span class="n">connection</span><span class="p">)</span>
        <span class="c1"># Get credential provider if needed</span>
        <span class="n">credential_provider</span> <span class="o">=</span> <span class="n">CloudStorageReader</span><span class="o">.</span><span class="n">get_credential_provider</span><span class="p">(</span><span class="n">connection</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">read_settings</span><span class="o">.</span><span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;parquet&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_read_parquet_from_cloud</span><span class="p">(</span>
                <span class="n">read_settings</span><span class="o">.</span><span class="n">resource_path</span><span class="p">,</span>
                <span class="n">storage_options</span><span class="p">,</span>
                <span class="n">credential_provider</span><span class="p">,</span>
                <span class="n">read_settings</span><span class="o">.</span><span class="n">scan_mode</span> <span class="o">==</span> <span class="s2">&quot;directory&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="n">read_settings</span><span class="o">.</span><span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;delta&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_read_delta_from_cloud</span><span class="p">(</span>
                <span class="n">read_settings</span><span class="o">.</span><span class="n">resource_path</span><span class="p">,</span>
                <span class="n">storage_options</span><span class="p">,</span>
                <span class="n">credential_provider</span><span class="p">,</span>
                <span class="n">read_settings</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="n">read_settings</span><span class="o">.</span><span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;csv&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_read_csv_from_cloud</span><span class="p">(</span>
                <span class="n">read_settings</span><span class="o">.</span><span class="n">resource_path</span><span class="p">,</span>
                <span class="n">storage_options</span><span class="p">,</span>
                <span class="n">credential_provider</span><span class="p">,</span>
                <span class="n">read_settings</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="n">read_settings</span><span class="o">.</span><span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;json&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_read_json_from_cloud</span><span class="p">(</span>
                <span class="n">read_settings</span><span class="o">.</span><span class="n">resource_path</span><span class="p">,</span>
                <span class="n">storage_options</span><span class="p">,</span>
                <span class="n">credential_provider</span><span class="p">,</span>
                <span class="n">read_settings</span><span class="o">.</span><span class="n">scan_mode</span> <span class="o">==</span> <span class="s2">&quot;directory&quot;</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="n">read_settings</span><span class="o">.</span><span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;iceberg&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_read_iceberg_from_cloud</span><span class="p">(</span>
                <span class="n">read_settings</span><span class="o">.</span><span class="n">resource_path</span><span class="p">,</span>
                <span class="n">storage_options</span><span class="p">,</span>
                <span class="n">credential_provider</span><span class="p">,</span>
                <span class="n">read_settings</span>
            <span class="p">)</span>

        <span class="k">elif</span> <span class="n">read_settings</span><span class="o">.</span><span class="n">file_format</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;delta&quot;</span><span class="p">,</span> <span class="s2">&quot;iceberg&quot;</span><span class="p">]:</span>
            <span class="c1"># These would require additional libraries</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;File format </span><span class="si">{</span><span class="n">read_settings</span><span class="o">.</span><span class="n">file_format</span><span class="si">}</span><span class="s2"> not yet implemented&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unsupported file format: </span><span class="si">{</span><span class="n">read_settings</span><span class="o">.</span><span class="n">file_format</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_get_schema_from_first_file_in_dir</span><span class="p">(</span><span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">storage_options</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
                                           <span class="n">file_format</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;csv&quot;</span><span class="p">,</span> <span class="s2">&quot;parquet&quot;</span><span class="p">,</span> <span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="s2">&quot;delta&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlowfileColumn</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Infers the schema by scanning the first file in a cloud directory.&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">scan_func</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">pl</span><span class="p">,</span> <span class="s2">&quot;scan_&quot;</span> <span class="o">+</span> <span class="n">file_format</span><span class="p">)</span>
            <span class="n">first_file_ref</span> <span class="o">=</span> <span class="n">get_first_file_from_s3_dir</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">storage_options</span><span class="o">=</span><span class="n">storage_options</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">convert_stats_to_column_info</span><span class="p">(</span><span class="n">FlowDataEngine</span><span class="o">.</span><span class="n">_create_schema_stats_from_pl_schema</span><span class="p">(</span>
                <span class="n">scan_func</span><span class="p">(</span><span class="n">first_file_ref</span><span class="p">,</span> <span class="n">storage_options</span><span class="o">=</span><span class="n">storage_options</span><span class="p">)</span><span class="o">.</span><span class="n">collect_schema</span><span class="p">()))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not read schema from first file in directory, using default schema: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>


    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_read_iceberg_from_cloud</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span>
                                 <span class="n">resource_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                 <span class="n">storage_options</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
                                 <span class="n">credential_provider</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">],</span>
                                 <span class="n">read_settings</span><span class="p">:</span> <span class="n">cloud_storage_schemas</span><span class="o">.</span><span class="n">CloudStorageReadSettings</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Reads Iceberg table(s) from cloud storage.&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to read Iceberg table from cloud storage: Not yet implemented&quot;</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_read_parquet_from_cloud</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span>
                                 <span class="n">resource_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                 <span class="n">storage_options</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
                                 <span class="n">credential_provider</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">],</span>
                                 <span class="n">is_directory</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Reads Parquet file(s) from cloud storage.&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Use scan_parquet for lazy evaluation</span>
            <span class="k">if</span> <span class="n">is_directory</span><span class="p">:</span>
                <span class="n">resource_path</span> <span class="o">=</span> <span class="n">ensure_path_has_wildcard_pattern</span><span class="p">(</span><span class="n">resource_path</span><span class="o">=</span><span class="n">resource_path</span><span class="p">,</span> <span class="n">file_format</span><span class="o">=</span><span class="s2">&quot;parquet&quot;</span><span class="p">)</span>
            <span class="n">scan_kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="n">resource_path</span><span class="p">}</span>

            <span class="k">if</span> <span class="n">storage_options</span><span class="p">:</span>
                <span class="n">scan_kwargs</span><span class="p">[</span><span class="s2">&quot;storage_options&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">storage_options</span>

            <span class="k">if</span> <span class="n">credential_provider</span><span class="p">:</span>
                <span class="n">scan_kwargs</span><span class="p">[</span><span class="s2">&quot;credential_provider&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">credential_provider</span>
            <span class="k">if</span> <span class="n">storage_options</span> <span class="ow">and</span> <span class="n">is_directory</span><span class="p">:</span>
                <span class="n">schema</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_get_schema_from_first_file_in_dir</span><span class="p">(</span><span class="n">resource_path</span><span class="p">,</span> <span class="n">storage_options</span><span class="p">,</span> <span class="s2">&quot;parquet&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">schema</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">lf</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">scan_parquet</span><span class="p">(</span><span class="o">**</span><span class="n">scan_kwargs</span><span class="p">)</span>

            <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
                <span class="n">lf</span><span class="p">,</span>
                <span class="n">number_of_records</span><span class="o">=</span><span class="mi">6_666_666</span><span class="p">,</span>  <span class="c1"># Set so the provider is not accessed for this stat</span>
                <span class="n">optimize_memory</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">streamable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">schema</span><span class="o">=</span><span class="n">schema</span>
            <span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to read Parquet from </span><span class="si">{</span><span class="n">resource_path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to read Parquet from cloud storage: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_read_delta_from_cloud</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span>
                               <span class="n">resource_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                               <span class="n">storage_options</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
                               <span class="n">credential_provider</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">],</span>
                               <span class="n">read_settings</span><span class="p">:</span> <span class="n">cloud_storage_schemas</span><span class="o">.</span><span class="n">CloudStorageReadSettings</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Reads a Delta Lake table from cloud storage.&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Reading Delta file from cloud storage...&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;read_settings: </span><span class="si">{</span><span class="n">read_settings</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">scan_kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="n">resource_path</span><span class="p">}</span>
            <span class="k">if</span> <span class="n">read_settings</span><span class="o">.</span><span class="n">delta_version</span><span class="p">:</span>
                <span class="n">scan_kwargs</span><span class="p">[</span><span class="s1">&#39;version&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">read_settings</span><span class="o">.</span><span class="n">delta_version</span>
            <span class="k">if</span> <span class="n">storage_options</span><span class="p">:</span>
                <span class="n">scan_kwargs</span><span class="p">[</span><span class="s2">&quot;storage_options&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">storage_options</span>
            <span class="k">if</span> <span class="n">credential_provider</span><span class="p">:</span>
                <span class="n">scan_kwargs</span><span class="p">[</span><span class="s2">&quot;credential_provider&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">credential_provider</span>
            <span class="n">lf</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">scan_delta</span><span class="p">(</span><span class="o">**</span><span class="n">scan_kwargs</span><span class="p">)</span>

            <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
                <span class="n">lf</span><span class="p">,</span>
                <span class="n">number_of_records</span><span class="o">=</span><span class="mi">6_666_666</span><span class="p">,</span>  <span class="c1"># Set so the provider is not accessed for this stat</span>
                <span class="n">optimize_memory</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">streamable</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to read Delta file from </span><span class="si">{</span><span class="n">resource_path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to read Delta file from cloud storage: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_read_csv_from_cloud</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span>
                             <span class="n">resource_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                             <span class="n">storage_options</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
                             <span class="n">credential_provider</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">],</span>
                             <span class="n">read_settings</span><span class="p">:</span> <span class="n">cloud_storage_schemas</span><span class="o">.</span><span class="n">CloudStorageReadSettings</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Reads CSV file(s) from cloud storage.&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">scan_kwargs</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="n">resource_path</span><span class="p">,</span>
                <span class="s2">&quot;has_header&quot;</span><span class="p">:</span> <span class="n">read_settings</span><span class="o">.</span><span class="n">csv_has_header</span><span class="p">,</span>
                <span class="s2">&quot;separator&quot;</span><span class="p">:</span> <span class="n">read_settings</span><span class="o">.</span><span class="n">csv_delimiter</span><span class="p">,</span>
                <span class="s2">&quot;encoding&quot;</span><span class="p">:</span> <span class="n">read_settings</span><span class="o">.</span><span class="n">csv_encoding</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="n">storage_options</span><span class="p">:</span>
                <span class="n">scan_kwargs</span><span class="p">[</span><span class="s2">&quot;storage_options&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">storage_options</span>
            <span class="k">if</span> <span class="n">credential_provider</span><span class="p">:</span>
                <span class="n">scan_kwargs</span><span class="p">[</span><span class="s2">&quot;credential_provider&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">credential_provider</span>

            <span class="k">if</span> <span class="n">read_settings</span><span class="o">.</span><span class="n">scan_mode</span> <span class="o">==</span> <span class="s2">&quot;directory&quot;</span><span class="p">:</span>
                <span class="n">resource_path</span> <span class="o">=</span> <span class="n">ensure_path_has_wildcard_pattern</span><span class="p">(</span><span class="n">resource_path</span><span class="o">=</span><span class="n">resource_path</span><span class="p">,</span> <span class="n">file_format</span><span class="o">=</span><span class="s2">&quot;csv&quot;</span><span class="p">)</span>
                <span class="n">scan_kwargs</span><span class="p">[</span><span class="s2">&quot;source&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">resource_path</span>
            <span class="k">if</span> <span class="n">storage_options</span> <span class="ow">and</span> <span class="n">read_settings</span><span class="o">.</span><span class="n">scan_mode</span> <span class="o">==</span> <span class="s2">&quot;directory&quot;</span><span class="p">:</span>
                <span class="n">schema</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_get_schema_from_first_file_in_dir</span><span class="p">(</span><span class="n">resource_path</span><span class="p">,</span> <span class="n">storage_options</span><span class="p">,</span> <span class="s2">&quot;csv&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">schema</span> <span class="o">=</span> <span class="kc">None</span>

            <span class="n">lf</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">scan_csv</span><span class="p">(</span><span class="o">**</span><span class="n">scan_kwargs</span><span class="p">)</span>

            <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
                <span class="n">lf</span><span class="p">,</span>
                <span class="n">number_of_records</span><span class="o">=</span><span class="mi">6_666_666</span><span class="p">,</span>  <span class="c1"># Will be calculated lazily</span>
                <span class="n">optimize_memory</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">streamable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">schema</span><span class="o">=</span><span class="n">schema</span>
            <span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to read CSV from </span><span class="si">{</span><span class="n">resource_path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to read CSV from cloud storage: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_read_json_from_cloud</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span>
                              <span class="n">resource_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                              <span class="n">storage_options</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
                              <span class="n">credential_provider</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">],</span>
                              <span class="n">is_directory</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Reads JSON file(s) from cloud storage.&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">is_directory</span><span class="p">:</span>
                <span class="n">resource_path</span> <span class="o">=</span> <span class="n">ensure_path_has_wildcard_pattern</span><span class="p">(</span><span class="n">resource_path</span><span class="p">,</span> <span class="s2">&quot;json&quot;</span><span class="p">)</span>
            <span class="n">scan_kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="n">resource_path</span><span class="p">}</span>

            <span class="k">if</span> <span class="n">storage_options</span><span class="p">:</span>
                <span class="n">scan_kwargs</span><span class="p">[</span><span class="s2">&quot;storage_options&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">storage_options</span>
            <span class="k">if</span> <span class="n">credential_provider</span><span class="p">:</span>
                <span class="n">scan_kwargs</span><span class="p">[</span><span class="s2">&quot;credential_provider&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">credential_provider</span>

            <span class="n">lf</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">scan_ndjson</span><span class="p">(</span><span class="o">**</span><span class="n">scan_kwargs</span><span class="p">)</span>  <span class="c1"># Using NDJSON for line-delimited JSON</span>

            <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
                <span class="n">lf</span><span class="p">,</span>
                <span class="n">number_of_records</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">optimize_memory</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">streamable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to read JSON from </span><span class="si">{</span><span class="n">resource_path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to read JSON from cloud storage: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_handle_path_ref</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path_ref</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">optimize_memory</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Handles file path reference input.&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">pf</span> <span class="o">=</span> <span class="n">ParquetFile</span><span class="p">(</span><span class="n">path_ref</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Provided ref is not a parquet file&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">=</span> <span class="n">pf</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">num_rows</span>
        <span class="k">if</span> <span class="n">optimize_memory</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_lazy</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">scan_parquet</span><span class="p">(</span><span class="n">path_ref</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">read_parquet</span><span class="p">(</span><span class="n">path_ref</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_finalize_initialization</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">optimize_memory</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span>
                                 <span class="n">calculate_schema_stats</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Finalizes initialization by setting remaining attributes.&quot;&quot;&quot;</span>
        <span class="n">_</span> <span class="o">=</span> <span class="n">calculate_schema_stats</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_optimize_memory</span> <span class="o">=</span> <span class="n">optimize_memory</span>
        <span class="k">if</span> <span class="n">assert_if_flowfile_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span> <span class="o">=</span> <span class="n">schema</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">column_name</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">pl_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">collect_schema</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="n">pl_schema</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">column_name</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span><span class="p">]</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span> <span class="k">else</span> <span class="n">pl_schema</span><span class="o">.</span><span class="n">names</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Accesses a specific column or item from the DataFrame.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">select</span><span class="p">([</span><span class="n">item</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">data_frame</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pl</span><span class="o">.</span><span class="n">LazyFrame</span> <span class="o">|</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The underlying Polars DataFrame or LazyFrame.</span>

<span class="sd">        This property provides access to the Polars object that backs the</span>
<span class="sd">        FlowDataEngine. It handles lazy-loading from external sources if necessary.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The active Polars `DataFrame` or `LazyFrame`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_frame</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_future</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_frame</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_future</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_frame</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_external_source</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_frame</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_external_source</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_external_source</span><span class="o">.</span><span class="n">get_pl_df</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">data_frame</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_external_source</span><span class="o">.</span><span class="n">get_iter</span><span class="p">())</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">data_frame</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data_frame</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_external_source</span><span class="o">.</span><span class="n">get_pl_df</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">calculate_schema</span><span class="p">()</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_frame</span>

    <span class="nd">@data_frame</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">data_frame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">df</span><span class="p">:</span> <span class="n">pl</span><span class="o">.</span><span class="n">LazyFrame</span> <span class="o">|</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets the underlying Polars DataFrame or LazyFrame.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Cannot set a non-lazy dataframe to a lazy flowfile&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data_frame</span> <span class="o">=</span> <span class="n">df</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_create_schema_stats_from_pl_schema</span><span class="p">(</span><span class="n">pl_schema</span><span class="p">:</span> <span class="n">pl</span><span class="o">.</span><span class="n">Schema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Converts a Polars Schema into a list of schema statistics dictionaries.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="nb">dict</span><span class="p">(</span><span class="n">column_name</span><span class="o">=</span><span class="n">k</span><span class="p">,</span> <span class="n">pl_datatype</span><span class="o">=</span><span class="n">v</span><span class="p">,</span> <span class="n">col_index</span><span class="o">=</span><span class="n">i</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">pl_schema</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
        <span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_add_schema_from_schema_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema_stats</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Populates the schema from a list of schema statistics dictionaries.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span> <span class="o">=</span> <span class="n">convert_stats_to_column_info</span><span class="p">(</span><span class="n">schema_stats</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlowfileColumn</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The schema of the DataFrame as a list of `FlowfileColumn` objects.</span>

<span class="sd">        This property lazily calculates the schema if it hasn&#39;t been determined yet.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of `FlowfileColumn` objects describing the schema.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_fields</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_calculate_schema_stats</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">ind_schema_calculated</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_schema_stats</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">ind_schema_calculated</span><span class="p">:</span>
                <span class="n">schema_stats</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_schema</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ind_schema_calculated</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">schema_stats</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_schema_stats_from_pl_schema</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">collect_schema</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_add_schema_from_schema_stats</span><span class="p">(</span><span class="n">schema_stats</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">number_of_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The number of columns (fields) in the DataFrame.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The integer count of columns.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__number_of_fields</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__number_of_fields</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__number_of_fields</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">collect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_records</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Collects the data and returns it as a Polars DataFrame.</span>

<span class="sd">        This method triggers the execution of the lazy query plan (if applicable)</span>
<span class="sd">        and returns the result. It supports streaming to optimize memory usage</span>
<span class="sd">        for large datasets.</span>

<span class="sd">        Args:</span>
<span class="sd">            n_records: The maximum number of records to collect. If None, all</span>
<span class="sd">                records are collected.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A Polars `DataFrame` containing the collected data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">n_records</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Fetching all data for Table object &quot;</span><span class="si">{</span><span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">}</span><span class="s1">&quot;. Settings: streaming=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_streamable</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Fetching </span><span class="si">{</span><span class="n">n_records</span><span class="si">}</span><span class="s1"> record(s) for Table object &quot;</span><span class="si">{</span><span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">}</span><span class="s1">&quot;. &#39;</span>
                        <span class="sa">f</span><span class="s1">&#39;Settings: streaming=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_streamable</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_collect_data</span><span class="p">(</span><span class="n">n_records</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span><span class="p">]</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_collection_error</span><span class="p">(</span><span class="n">n_records</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_collect_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_records</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Internal method to handle data collection logic.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">n_records</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">collect_external</span><span class="p">()</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_streamable</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Collecting data in streaming mode&#39;</span><span class="p">)</span>
                    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">collect</span><span class="p">(</span><span class="n">engine</span><span class="o">=</span><span class="s2">&quot;streaming&quot;</span><span class="p">)</span>
                <span class="k">except</span> <span class="n">PanicException</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_streamable</span> <span class="o">=</span> <span class="kc">False</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Collecting data in non-streaming mode&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">external_source</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_collect_from_external_source</span><span class="p">(</span><span class="n">n_records</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_streamable</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">n_records</span><span class="p">)</span><span class="o">.</span><span class="n">collect</span><span class="p">(</span><span class="n">engine</span><span class="o">=</span><span class="s2">&quot;streaming&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">n_records</span><span class="p">)</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_collect_from_external_source</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_records</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Handles collection from an external source.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">external_source</span><span class="o">.</span><span class="n">get_pl_df</span><span class="p">()</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">all_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">external_source</span><span class="o">.</span><span class="n">get_pl_df</span><span class="p">()</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">n_records</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span> <span class="o">=</span> <span class="n">all_data</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">all_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">external_source</span><span class="o">.</span><span class="n">get_sample</span><span class="p">(</span><span class="n">n_records</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">LazyFrame</span><span class="p">(</span><span class="n">all_data</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_handle_collection_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_records</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Handles errors during collection by attempting partial collection.&quot;&quot;&quot;</span>
        <span class="n">n_records</span> <span class="o">=</span> <span class="mi">100000000</span> <span class="k">if</span> <span class="n">n_records</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">n_records</span>
        <span class="n">ok_cols</span><span class="p">,</span> <span class="n">error_cols</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_identify_valid_columns</span><span class="p">(</span><span class="n">n_records</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ok_cols</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_partial_dataframe</span><span class="p">(</span><span class="n">ok_cols</span><span class="p">,</span> <span class="n">error_cols</span><span class="p">,</span> <span class="n">n_records</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_empty_dataframe</span><span class="p">(</span><span class="n">n_records</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_identify_valid_columns</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_records</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Identifies which columns can be collected successfully.&quot;&quot;&quot;</span>
        <span class="n">ok_cols</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">error_cols</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">n_records</span><span class="p">)</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
                <span class="n">ok_cols</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="n">error_cols</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">c</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">schema</span><span class="p">[</span><span class="n">c</span><span class="p">]))</span>
        <span class="k">return</span> <span class="n">ok_cols</span><span class="p">,</span> <span class="n">error_cols</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_create_partial_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ok_cols</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">error_cols</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span>
                                  <span class="n">n_records</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a DataFrame with partial data for columns that could be collected.&quot;&quot;&quot;</span>
        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">ok_cols</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">with_columns</span><span class="p">([</span>
            <span class="n">pl</span><span class="o">.</span><span class="n">lit</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="n">column_name</span><span class="p">)</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">column_name</span><span class="p">,</span> <span class="n">data_type</span> <span class="ow">in</span> <span class="n">error_cols</span>
        <span class="p">])</span>
        <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">n_records</span><span class="p">)</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_create_empty_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_records</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates an empty DataFrame with the correct schema.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
                <span class="n">column_name</span><span class="p">:</span> <span class="n">pl</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">column_name</span><span class="p">,</span>
                    <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span><span class="p">,</span> <span class="n">n_records</span><span class="p">)</span>
                <span class="p">)</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">column_name</span><span class="p">,</span> <span class="n">data_type</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">})</span>
        <span class="k">return</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">schema</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">schema</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">do_group_by</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">group_by_input</span><span class="p">:</span> <span class="n">transform_schemas</span><span class="o">.</span><span class="n">GroupByInput</span><span class="p">,</span>
                    <span class="n">calculate_schema_stats</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Performs a group-by operation on the DataFrame.</span>

<span class="sd">        Args:</span>
<span class="sd">            group_by_input: A `GroupByInput` object defining the grouping columns</span>
<span class="sd">                and aggregations.</span>
<span class="sd">            calculate_schema_stats: If True, calculates schema statistics for the</span>
<span class="sd">                resulting DataFrame.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new `FlowDataEngine` instance with the grouped and aggregated data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">aggregations</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">group_by_input</span><span class="o">.</span><span class="n">agg_cols</span> <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">agg</span> <span class="o">!=</span> <span class="s1">&#39;groupby&#39;</span><span class="p">]</span>
        <span class="n">group_columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">group_by_input</span><span class="o">.</span><span class="n">agg_cols</span> <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">agg</span> <span class="o">==</span> <span class="s1">&#39;groupby&#39;</span><span class="p">]</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">group_columns</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">select</span><span class="p">(</span>
                    <span class="n">ac</span><span class="o">.</span><span class="n">agg_func</span><span class="p">(</span><span class="n">ac</span><span class="o">.</span><span class="n">old_name</span><span class="p">)</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="n">ac</span><span class="o">.</span><span class="n">new_name</span><span class="p">)</span> <span class="k">for</span> <span class="n">ac</span> <span class="ow">in</span> <span class="n">aggregations</span>
                <span class="p">),</span>
                <span class="n">calculate_schema_stats</span><span class="o">=</span><span class="n">calculate_schema_stats</span>
            <span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">rename</span><span class="p">({</span><span class="n">c</span><span class="o">.</span><span class="n">old_name</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">new_name</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">group_columns</span><span class="p">})</span>
        <span class="n">group_by_columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">n_c</span><span class="o">.</span><span class="n">new_name</span> <span class="k">for</span> <span class="n">n_c</span> <span class="ow">in</span> <span class="n">group_columns</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span>
            <span class="n">df</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="o">*</span><span class="n">group_by_columns</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span>
                <span class="n">ac</span><span class="o">.</span><span class="n">agg_func</span><span class="p">(</span><span class="n">ac</span><span class="o">.</span><span class="n">old_name</span><span class="p">)</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="n">ac</span><span class="o">.</span><span class="n">new_name</span><span class="p">)</span> <span class="k">for</span> <span class="n">ac</span> <span class="ow">in</span> <span class="n">aggregations</span>
            <span class="p">),</span>
            <span class="n">calculate_schema_stats</span><span class="o">=</span><span class="n">calculate_schema_stats</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">do_sort</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sorts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">transform_schemas</span><span class="o">.</span><span class="n">SortByInput</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sorts the DataFrame by one or more columns.</span>

<span class="sd">        Args:</span>
<span class="sd">            sorts: A list of `SortByInput` objects, each specifying a column</span>
<span class="sd">                and sort direction (&#39;asc&#39; or &#39;desc&#39;).</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new `FlowDataEngine` instance with the sorted data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">sorts</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span>

        <span class="n">descending</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">how</span> <span class="o">==</span> <span class="s1">&#39;desc&#39;</span> <span class="ow">or</span> <span class="n">s</span><span class="o">.</span><span class="n">how</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;descending&#39;</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">sorts</span><span class="p">]</span>
        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">sort</span><span class="p">([</span><span class="n">sort_by</span><span class="o">.</span><span class="n">column</span> <span class="k">for</span> <span class="n">sort_by</span> <span class="ow">in</span> <span class="n">sorts</span><span class="p">],</span> <span class="n">descending</span><span class="o">=</span><span class="n">descending</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">number_of_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">change_column_types</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">transforms</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">transform_schemas</span><span class="o">.</span><span class="n">SelectInput</span><span class="p">],</span>
                            <span class="n">calculate_schema</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Changes the data type of one or more columns.</span>

<span class="sd">        Args:</span>
<span class="sd">            transforms: A list of `SelectInput` objects, where each object specifies</span>
<span class="sd">                the column and its new `polars_type`.</span>
<span class="sd">            calculate_schema: If True, recalculates the schema after the type change.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new `FlowDataEngine` instance with the updated column types.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dtypes</span> <span class="o">=</span> <span class="p">[</span><span class="n">dtype</span><span class="o">.</span><span class="n">base_type</span><span class="p">()</span> <span class="k">for</span> <span class="n">dtype</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">collect_schema</span><span class="p">()</span><span class="o">.</span><span class="n">dtypes</span><span class="p">()]</span>
        <span class="n">idx_mapping</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span>
            <span class="p">(</span><span class="n">transform</span><span class="o">.</span><span class="n">old_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cols_idx</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">transform</span><span class="o">.</span><span class="n">old_name</span><span class="p">),</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">pl</span><span class="p">,</span> <span class="n">transform</span><span class="o">.</span><span class="n">polars_type</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">transform</span> <span class="ow">in</span> <span class="n">transforms</span> <span class="k">if</span> <span class="n">transform</span><span class="o">.</span><span class="n">data_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="p">)</span>

        <span class="n">actual_transforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">idx_mapping</span> <span class="k">if</span> <span class="n">c</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">!=</span> <span class="n">dtypes</span><span class="p">[</span><span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">]]]</span>
        <span class="n">transformations</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">utils</span><span class="o">.</span><span class="n">define_pl_col_transformation</span><span class="p">(</span><span class="n">col_name</span><span class="o">=</span><span class="n">transform</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">col_type</span><span class="o">=</span><span class="n">transform</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">transform</span> <span class="ow">in</span> <span class="n">actual_transforms</span>
        <span class="p">]</span>

        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span><span class="n">transformations</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span>
            <span class="n">df</span><span class="p">,</span>
            <span class="n">number_of_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span><span class="p">,</span>
            <span class="n">calculate_schema_stats</span><span class="o">=</span><span class="n">calculate_schema</span><span class="p">,</span>
            <span class="n">streamable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_streamable</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;parquet&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Future</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Saves the DataFrame to a file in a separate thread.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The file path to save to.</span>
<span class="sd">            data_type: The format to save in (e.g., &#39;parquet&#39;, &#39;csv&#39;).</span>

<span class="sd">        Returns:</span>
<span class="sd">            A `loky.Future` object representing the asynchronous save operation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">estimated_size</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_estimated_file_size</span><span class="p">()</span> <span class="o">*</span> <span class="mi">4</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">write_threaded</span><span class="p">(</span><span class="n">_df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">data_type</span><span class="o">=</span><span class="n">data_type</span><span class="p">,</span> <span class="n">estimated_size</span><span class="o">=</span><span class="n">estimated_size</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_pylist</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Converts the DataFrame to a list of Python dictionaries.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list where each item is a dictionary representing a row.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">collect</span><span class="p">(</span><span class="n">engine</span><span class="o">=</span><span class="s2">&quot;streaming&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_streamable</span> <span class="k">else</span> <span class="s2">&quot;auto&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to_dicts</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">to_dicts</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_arrow</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PaTable</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Converts the DataFrame to a PyArrow Table.</span>

<span class="sd">        This method triggers a `.collect()` call if the data is lazy,</span>
<span class="sd">        then converts the resulting eager DataFrame into a `pyarrow.Table`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A `pyarrow.Table` instance representing the data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">collect</span><span class="p">(</span><span class="n">engine</span><span class="o">=</span><span class="s2">&quot;streaming&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_streamable</span> <span class="k">else</span> <span class="s2">&quot;auto&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to_arrow</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">to_arrow</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_raw_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">RawData</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Converts the DataFrame to a `RawData` schema object.</span>

<span class="sd">        Returns:</span>
<span class="sd">            An `input_schema.RawData` object containing the schema and data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">get_minimal_field_info</span><span class="p">()</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">]</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">RawData</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Converts the DataFrame to a Python dictionary of columns.</span>

<span class="sd">         Each key in the dictionary is a column name, and the corresponding value</span>
<span class="sd">         is a list of the data in that column.</span>

<span class="sd">         Returns:</span>
<span class="sd">             A dictionary mapping column names to lists of their values.</span>
<span class="sd">         &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">collect</span><span class="p">(</span><span class="n">engine</span><span class="o">=</span><span class="s2">&quot;streaming&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_streamable</span> <span class="k">else</span> <span class="s2">&quot;auto&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="n">as_series</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="n">as_series</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">create_from_external_source</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">external_source</span><span class="p">:</span> <span class="n">ExternalDataSource</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a FlowDataEngine from an external data source.</span>

<span class="sd">        Args:</span>
<span class="sd">            external_source: An object that conforms to the `ExternalDataSource`</span>
<span class="sd">                interface.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new `FlowDataEngine` instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">external_source</span><span class="o">.</span><span class="n">schema</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ff</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">create_from_schema</span><span class="p">(</span><span class="n">external_source</span><span class="o">.</span><span class="n">schema</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">external_source</span><span class="o">.</span><span class="n">initial_data_getter</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ff</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">raw_data</span><span class="o">=</span><span class="n">external_source</span><span class="o">.</span><span class="n">initial_data_getter</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ff</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span>
        <span class="n">ff</span><span class="o">.</span><span class="n">_external_source</span> <span class="o">=</span> <span class="n">external_source</span>
        <span class="k">return</span> <span class="n">ff</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">create_from_sql</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">sql</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">conn</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a FlowDataEngine by executing a SQL query.</span>

<span class="sd">        Args:</span>
<span class="sd">            sql: The SQL query string to execute.</span>
<span class="sd">            conn: A database connection object or connection URI string.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new `FlowDataEngine` instance with the query result.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span> <span class="n">conn</span><span class="p">))</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">create_from_schema</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">FlowfileColumn</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates an empty FlowDataEngine from a schema definition.</span>

<span class="sd">        Args:</span>
<span class="sd">            schema: A list of `FlowfileColumn` objects defining the schema.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new, empty `FlowDataEngine` instance with the specified schema.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pl_schema</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">flow_file_column</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">schema</span><span class="p">):</span>
            <span class="n">pl_schema</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">flow_file_column</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">cast_str_to_polars_type</span><span class="p">(</span><span class="n">flow_file_column</span><span class="o">.</span><span class="n">data_type</span><span class="p">)))</span>
            <span class="n">schema</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">col_index</span> <span class="o">=</span> <span class="n">i</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">LazyFrame</span><span class="p">(</span><span class="n">schema</span><span class="o">=</span><span class="n">pl_schema</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span> <span class="n">calculate_schema_stats</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">number_of_records</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">create_from_path</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">received_table</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">ReceivedTableBase</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a FlowDataEngine from a local file path.</span>

<span class="sd">        Supports various file types like CSV, Parquet, and Excel.</span>

<span class="sd">        Args:</span>
<span class="sd">            received_table: A `ReceivedTableBase` object containing the file path</span>
<span class="sd">                and format details.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new `FlowDataEngine` instance with data from the file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">received_table</span><span class="o">.</span><span class="n">set_absolute_filepath</span><span class="p">()</span>
        <span class="n">file_type_handlers</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;csv&#39;</span><span class="p">:</span> <span class="n">create_funcs</span><span class="o">.</span><span class="n">create_from_path_csv</span><span class="p">,</span>
            <span class="s1">&#39;parquet&#39;</span><span class="p">:</span> <span class="n">create_funcs</span><span class="o">.</span><span class="n">create_from_path_parquet</span><span class="p">,</span>
            <span class="s1">&#39;excel&#39;</span><span class="p">:</span> <span class="n">create_funcs</span><span class="o">.</span><span class="n">create_from_path_excel</span>
        <span class="p">}</span>

        <span class="n">handler</span> <span class="o">=</span> <span class="n">file_type_handlers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">received_table</span><span class="o">.</span><span class="n">file_type</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">handler</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Cannot create from </span><span class="si">{</span><span class="n">received_table</span><span class="o">.</span><span class="n">file_type</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="n">flow_file</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">handler</span><span class="p">(</span><span class="n">received_table</span><span class="p">))</span>
        <span class="n">flow_file</span><span class="o">.</span><span class="n">_org_path</span> <span class="o">=</span> <span class="n">received_table</span><span class="o">.</span><span class="n">abs_file_path</span>
        <span class="k">return</span> <span class="n">flow_file</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">create_random</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">number_of_records</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a FlowDataEngine with randomly generated data.</span>

<span class="sd">        Useful for testing and examples.</span>

<span class="sd">        Args:</span>
<span class="sd">            number_of_records: The number of random records to generate.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new `FlowDataEngine` instance with fake data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">create_fake_data</span><span class="p">(</span><span class="n">number_of_records</span><span class="p">))</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">generate_enumerator</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">length</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">,</span> <span class="n">output_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;output_column&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generates a FlowDataEngine with a single column containing a sequence of integers.</span>

<span class="sd">        Args:</span>
<span class="sd">            length: The number of integers to generate in the sequence.</span>
<span class="sd">            output_name: The name of the output column.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new `FlowDataEngine` instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">length</span> <span class="o">&gt;</span> <span class="mi">10_000_000</span><span class="p">:</span>
            <span class="n">length</span> <span class="o">=</span> <span class="mi">10_000_000</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">LazyFrame</span><span class="p">()</span><span class="o">.</span><span class="n">select</span><span class="p">((</span><span class="n">pl</span><span class="o">.</span><span class="n">int_range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">length</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">pl</span><span class="o">.</span><span class="n">UInt32</span><span class="p">))</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="n">output_name</span><span class="p">)))</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_handle_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">FlowfileColumn</span><span class="p">]</span> <span class="o">|</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="n">pl</span><span class="o">.</span><span class="n">Schema</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
                       <span class="n">pl_schema</span><span class="p">:</span> <span class="n">pl</span><span class="o">.</span><span class="n">Schema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlowfileColumn</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Handles schema processing and validation during initialization.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">schema</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">pl_schema</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">convert_stats_to_column_info</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_create_schema_stats_from_pl_schema</span><span class="p">(</span><span class="n">pl_schema</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">schema</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">pl_schema</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">elif</span> <span class="n">assert_if_flowfile_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span> <span class="ow">and</span> <span class="n">pl_schema</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">schema</span>
        <span class="k">elif</span> <span class="n">pl_schema</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">schema</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">schema</span><span class="o">.</span><span class="fm">__len__</span><span class="p">()</span> <span class="o">!=</span> <span class="n">pl_schema</span><span class="o">.</span><span class="fm">__len__</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s1">&#39;Schema does not match the data got </span><span class="si">{</span><span class="n">schema</span><span class="o">.</span><span class="fm">__len__</span><span class="p">()</span><span class="si">}</span><span class="s1"> columns expected </span><span class="si">{</span><span class="n">pl_schema</span><span class="o">.</span><span class="fm">__len__</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="n">pl</span><span class="o">.</span><span class="n">Schema</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_polars_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="n">pl_schema</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">[]</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">str</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_string_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="n">pl_schema</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">schema</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_handle_polars_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">pl</span><span class="o">.</span><span class="n">Schema</span><span class="p">,</span> <span class="n">pl_schema</span><span class="p">:</span> <span class="n">pl</span><span class="o">.</span><span class="n">Schema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlowfileColumn</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Handles Polars schema conversion.&quot;&quot;&quot;</span>
        <span class="n">flow_file_columns</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">FlowfileColumn</span><span class="o">.</span><span class="n">create_from_polars_dtype</span><span class="p">(</span><span class="n">column_name</span><span class="o">=</span><span class="n">col_name</span><span class="p">,</span> <span class="n">data_type</span><span class="o">=</span><span class="n">dtype</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">col_name</span><span class="p">,</span> <span class="n">dtype</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">schema</span><span class="o">.</span><span class="n">names</span><span class="p">(),</span> <span class="n">schema</span><span class="o">.</span><span class="n">dtypes</span><span class="p">())</span>
        <span class="p">]</span>

        <span class="n">select_arg</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">pl</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="n">o</span><span class="p">)</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">schema_dtype</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">o</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">schema_dtype</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">pl_schema</span><span class="o">.</span><span class="n">names</span><span class="p">(),</span> <span class="n">schema</span><span class="o">.</span><span class="n">names</span><span class="p">(),</span> <span class="n">schema</span><span class="o">.</span><span class="n">dtypes</span><span class="p">())</span>
        <span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">select_arg</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">flow_file_columns</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_handle_string_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">pl_schema</span><span class="p">:</span> <span class="n">pl</span><span class="o">.</span><span class="n">Schema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlowfileColumn</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Handles string-based schema conversion.&quot;&quot;&quot;</span>
        <span class="n">flow_file_columns</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">FlowfileColumn</span><span class="o">.</span><span class="n">create_from_polars_dtype</span><span class="p">(</span><span class="n">column_name</span><span class="o">=</span><span class="n">col_name</span><span class="p">,</span> <span class="n">data_type</span><span class="o">=</span><span class="n">dtype</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">col_name</span><span class="p">,</span> <span class="n">dtype</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="n">pl_schema</span><span class="o">.</span><span class="n">dtypes</span><span class="p">())</span>
        <span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">rename</span><span class="p">({</span>
            <span class="n">o</span><span class="p">:</span> <span class="n">n</span> <span class="k">for</span> <span class="n">o</span><span class="p">,</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">pl_schema</span><span class="o">.</span><span class="n">names</span><span class="p">(),</span> <span class="n">schema</span><span class="p">)</span>
        <span class="p">})</span>

        <span class="k">return</span> <span class="n">flow_file_columns</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">split</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">split_input</span><span class="p">:</span> <span class="n">transform_schemas</span><span class="o">.</span><span class="n">TextToRowsInput</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Splits a column&#39;s text values into multiple rows based on a delimiter.</span>

<span class="sd">        This operation is often referred to as &quot;exploding&quot; the DataFrame, as it</span>
<span class="sd">        increases the number of rows.</span>

<span class="sd">        Args:</span>
<span class="sd">            split_input: A `TextToRowsInput` object specifying the column to split,</span>
<span class="sd">                the delimiter, and the output column name.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new `FlowDataEngine` instance with the exploded rows.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">output_column_name</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">split_input</span><span class="o">.</span><span class="n">output_column_name</span>
            <span class="k">if</span> <span class="n">split_input</span><span class="o">.</span><span class="n">output_column_name</span>
            <span class="k">else</span> <span class="n">split_input</span><span class="o">.</span><span class="n">column_to_split</span>
        <span class="p">)</span>

        <span class="n">split_value</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">split_input</span><span class="o">.</span><span class="n">split_fixed_value</span>
            <span class="k">if</span> <span class="n">split_input</span><span class="o">.</span><span class="n">split_by_fixed_value</span>
            <span class="k">else</span> <span class="n">pl</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="n">split_input</span><span class="o">.</span><span class="n">split_by_column</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span>
                <span class="n">pl</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="n">split_input</span><span class="o">.</span><span class="n">column_to_split</span><span class="p">)</span>
                <span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="n">split_value</span><span class="p">)</span>
                <span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="n">output_column_name</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="o">.</span><span class="n">explode</span><span class="p">(</span><span class="n">output_column_name</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">unpivot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">unpivot_input</span><span class="p">:</span> <span class="n">transform_schemas</span><span class="o">.</span><span class="n">UnpivotInput</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Converts the DataFrame from a wide to a long format.</span>

<span class="sd">        This is the inverse of a pivot operation, taking columns and transforming</span>
<span class="sd">        them into `variable` and `value` rows.</span>

<span class="sd">        Args:</span>
<span class="sd">            unpivot_input: An `UnpivotInput` object specifying which columns to</span>
<span class="sd">                unpivot and which to keep as index columns.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new, unpivoted `FlowDataEngine` instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">lf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span>

        <span class="k">if</span> <span class="n">unpivot_input</span><span class="o">.</span><span class="n">data_type_selector_expr</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">lf</span><span class="o">.</span><span class="n">unpivot</span><span class="p">(</span>
                <span class="n">on</span><span class="o">=</span><span class="n">unpivot_input</span><span class="o">.</span><span class="n">data_type_selector_expr</span><span class="p">(),</span>
                <span class="n">index</span><span class="o">=</span><span class="n">unpivot_input</span><span class="o">.</span><span class="n">index_columns</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="n">unpivot_input</span><span class="o">.</span><span class="n">value_columns</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">lf</span><span class="o">.</span><span class="n">unpivot</span><span class="p">(</span>
                <span class="n">on</span><span class="o">=</span><span class="n">unpivot_input</span><span class="o">.</span><span class="n">value_columns</span><span class="p">,</span>
                <span class="n">index</span><span class="o">=</span><span class="n">unpivot_input</span><span class="o">.</span><span class="n">index_columns</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">lf</span><span class="o">.</span><span class="n">unpivot</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">do_pivot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pivot_input</span><span class="p">:</span> <span class="n">transform_schemas</span><span class="o">.</span><span class="n">PivotInput</span><span class="p">,</span> <span class="n">node_logger</span><span class="p">:</span> <span class="n">NodeLogger</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Converts the DataFrame from a long to a wide format, aggregating values.</span>

<span class="sd">        Args:</span>
<span class="sd">            pivot_input: A `PivotInput` object defining the index, pivot, and value</span>
<span class="sd">                columns, along with the aggregation logic.</span>
<span class="sd">            node_logger: An optional logger for reporting warnings, e.g., if the</span>
<span class="sd">                pivot column has too many unique values.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new, pivoted `FlowDataEngine` instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Get unique values for pivot columns</span>
        <span class="n">max_unique_vals</span> <span class="o">=</span> <span class="mi">200</span>
        <span class="n">new_cols_unique</span> <span class="o">=</span> <span class="n">fetch_unique_values</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">pivot_input</span><span class="o">.</span><span class="n">pivot_column</span><span class="p">)</span>
                                              <span class="o">.</span><span class="n">unique</span><span class="p">()</span>
                                              <span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">pivot_input</span><span class="o">.</span><span class="n">pivot_column</span><span class="p">)</span>
                                              <span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="n">max_unique_vals</span><span class="p">)</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">String</span><span class="p">))</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">new_cols_unique</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">max_unique_vals</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">node_logger</span><span class="p">:</span>
                <span class="n">node_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;Pivot column has too many unique values. Please consider using a different column.&#39;</span>
                                    <span class="sa">f</span><span class="s1">&#39; Max unique values: </span><span class="si">{</span><span class="n">max_unique_vals</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">pivot_input</span><span class="o">.</span><span class="n">index_columns</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">no_index_cols</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">pivot_input</span><span class="o">.</span><span class="n">index_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;__temp__&#39;</span><span class="p">]</span>
            <span class="n">ff</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">apply_flowfile_formula</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="n">col_name</span><span class="o">=</span><span class="s1">&#39;__temp__&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">no_index_cols</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="n">ff</span> <span class="o">=</span> <span class="bp">self</span>

        <span class="c1"># Perform pivot operations</span>
        <span class="n">index_columns</span> <span class="o">=</span> <span class="n">pivot_input</span><span class="o">.</span><span class="n">get_index_columns</span><span class="p">()</span>
        <span class="n">grouped_ff</span> <span class="o">=</span> <span class="n">ff</span><span class="o">.</span><span class="n">do_group_by</span><span class="p">(</span><span class="n">pivot_input</span><span class="o">.</span><span class="n">get_group_by_input</span><span class="p">(),</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">pivot_column</span> <span class="o">=</span> <span class="n">pivot_input</span><span class="o">.</span><span class="n">get_pivot_column</span><span class="p">()</span>

        <span class="n">input_df</span> <span class="o">=</span> <span class="n">grouped_ff</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span>
            <span class="n">pivot_column</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">String</span><span class="p">)</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="n">pivot_input</span><span class="o">.</span><span class="n">pivot_column</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">number_of_aggregations</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">pivot_input</span><span class="o">.</span><span class="n">aggregations</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">input_df</span><span class="o">.</span><span class="n">select</span><span class="p">(</span>
                <span class="o">*</span><span class="n">index_columns</span><span class="p">,</span>
                <span class="n">pivot_column</span><span class="p">,</span>
                <span class="n">pivot_input</span><span class="o">.</span><span class="n">get_values_expr</span><span class="p">()</span>
            <span class="p">)</span>
            <span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="o">*</span><span class="n">index_columns</span><span class="p">)</span>
            <span class="o">.</span><span class="n">agg</span><span class="p">([</span>
                <span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="s1">&#39;vals&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">pivot_column</span> <span class="o">==</span> <span class="n">new_col_value</span><span class="p">))</span>
                <span class="o">.</span><span class="n">first</span><span class="p">()</span>
                <span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="n">new_col_value</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">new_col_value</span> <span class="ow">in</span> <span class="n">new_cols_unique</span>
            <span class="p">])</span>
            <span class="o">.</span><span class="n">select</span><span class="p">(</span>
                <span class="o">*</span><span class="n">index_columns</span><span class="p">,</span>
                <span class="o">*</span><span class="p">[</span>
                    <span class="n">pl</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="n">new_col</span><span class="p">)</span><span class="o">.</span><span class="n">struct</span><span class="o">.</span><span class="n">field</span><span class="p">(</span><span class="n">agg</span><span class="p">)</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">new_col</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;_&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">agg</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">number_of_aggregations</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">new_col</span><span class="w"> </span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">new_col</span> <span class="ow">in</span> <span class="n">new_cols_unique</span>
                    <span class="k">for</span> <span class="n">agg</span> <span class="ow">in</span> <span class="n">pivot_input</span><span class="o">.</span><span class="n">aggregations</span>
                <span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="c1"># Clean up temporary columns if needed</span>
        <span class="k">if</span> <span class="n">no_index_cols</span><span class="p">:</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;__temp__&#39;</span><span class="p">)</span>
            <span class="n">pivot_input</span><span class="o">.</span><span class="n">index_columns</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">calculate_schema_stats</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">do_filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">predicate</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Filters rows based on a predicate expression.</span>

<span class="sd">        Args:</span>
<span class="sd">            predicate: A string containing a Polars expression that evaluates to</span>
<span class="sd">                a boolean value.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new `FlowDataEngine` instance containing only the rows that match</span>
<span class="sd">            the predicate.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">f</span> <span class="o">=</span> <span class="n">to_expr</span><span class="p">(</span><span class="n">predicate</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Error in filter expression: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">f</span> <span class="o">=</span> <span class="n">to_expr</span><span class="p">(</span><span class="s2">&quot;False&quot;</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">,</span> <span class="n">streamable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_streamable</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_record_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id_settings</span><span class="p">:</span> <span class="n">transform_schemas</span><span class="o">.</span><span class="n">RecordIdInput</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a record ID (row number) column to the DataFrame.</span>

<span class="sd">        Can generate a simple sequential ID or a grouped ID that resets for</span>
<span class="sd">        each group.</span>

<span class="sd">        Args:</span>
<span class="sd">            record_id_settings: A `RecordIdInput` object specifying the output</span>
<span class="sd">                column name, offset, and optional grouping columns.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new `FlowDataEngine` instance with the added record ID column.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">record_id_settings</span><span class="o">.</span><span class="n">group_by</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">record_id_settings</span><span class="o">.</span><span class="n">group_by_columns</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_add_grouped_record_id</span><span class="p">(</span><span class="n">record_id_settings</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_add_simple_record_id</span><span class="p">(</span><span class="n">record_id_settings</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_add_grouped_record_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id_settings</span><span class="p">:</span> <span class="n">transform_schemas</span><span class="o">.</span><span class="n">RecordIdInput</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a record ID column with grouping.&quot;&quot;&quot;</span>
        <span class="n">select_cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">pl</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="n">record_id_settings</span><span class="o">.</span><span class="n">output_column_name</span><span class="p">)]</span> <span class="o">+</span> <span class="p">[</span><span class="n">pl</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>

        <span class="n">df</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span>
            <span class="o">.</span><span class="n">with_columns</span><span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">lit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="n">record_id_settings</span><span class="o">.</span><span class="n">output_column_name</span><span class="p">))</span>
            <span class="o">.</span><span class="n">with_columns</span><span class="p">(</span>
                <span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">cum_count</span><span class="p">(</span><span class="n">record_id_settings</span><span class="o">.</span><span class="n">output_column_name</span><span class="p">)</span>
                 <span class="o">.</span><span class="n">over</span><span class="p">(</span><span class="n">record_id_settings</span><span class="o">.</span><span class="n">group_by_columns</span><span class="p">)</span> <span class="o">+</span> <span class="n">record_id_settings</span><span class="o">.</span><span class="n">offset</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
                <span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="n">record_id_settings</span><span class="o">.</span><span class="n">output_column_name</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">select_cols</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="n">output_schema</span> <span class="o">=</span> <span class="p">[</span><span class="n">FlowfileColumn</span><span class="o">.</span><span class="n">from_input</span><span class="p">(</span><span class="n">record_id_settings</span><span class="o">.</span><span class="n">output_column_name</span><span class="p">,</span> <span class="s1">&#39;UInt64&#39;</span><span class="p">)]</span>
        <span class="n">output_schema</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">output_schema</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_add_simple_record_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id_settings</span><span class="p">:</span> <span class="n">transform_schemas</span><span class="o">.</span><span class="n">RecordIdInput</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a simple sequential record ID column.&quot;&quot;&quot;</span>
        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">with_row_index</span><span class="p">(</span>
            <span class="n">record_id_settings</span><span class="o">.</span><span class="n">output_column_name</span><span class="p">,</span>
            <span class="n">record_id_settings</span><span class="o">.</span><span class="n">offset</span>
        <span class="p">)</span>

        <span class="n">output_schema</span> <span class="o">=</span> <span class="p">[</span><span class="n">FlowfileColumn</span><span class="o">.</span><span class="n">from_input</span><span class="p">(</span><span class="n">record_id_settings</span><span class="o">.</span><span class="n">output_column_name</span><span class="p">,</span> <span class="s1">&#39;UInt64&#39;</span><span class="p">)]</span>
        <span class="n">output_schema</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">output_schema</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_schema_column</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowfileColumn</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieves the schema information for a single column by its name.</span>

<span class="sd">        Args:</span>
<span class="sd">            col_name: The name of the column to retrieve.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A `FlowfileColumn` object for the specified column, or `None` if not found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">col_name</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">s</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_estimated_file_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Estimates the file size in bytes if the data originated from a local file.</span>

<span class="sd">        This relies on the original path being tracked during file ingestion.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The file size in bytes, or 0 if the original path is unknown.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_org_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">getsize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_org_path</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">0</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns a string representation of the FlowDataEngine.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;flow data engine</span><span class="se">\n</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Makes the class instance callable, returning itself.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the number of records in the table.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_number_of_records</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">cache</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Caches the current DataFrame to disk and updates the internal reference.</span>

<span class="sd">        This triggers a background process to write the current LazyFrame&#39;s result</span>
<span class="sd">        to a temporary file. Subsequent operations on this `FlowDataEngine` instance</span>
<span class="sd">        will read from the cached file, which can speed up downstream computations.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The same `FlowDataEngine` instance, now backed by the cached data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">edf</span> <span class="o">=</span> <span class="n">ExternalDfFetcher</span><span class="p">(</span><span class="n">lf</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="p">,</span> <span class="n">file_ref</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)),</span> <span class="n">wait_on_completion</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                <span class="n">flow_id</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
                                <span class="n">node_id</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Caching data in background&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">edf</span><span class="o">.</span><span class="n">get_result</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">pl</span><span class="o">.</span><span class="n">LazyFrame</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Data cached&#39;</span><span class="p">)</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_frame</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span> <span class="o">=</span> <span class="n">result</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Data loaded from cache&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">collect_external</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Materializes data from a tracked external source.</span>

<span class="sd">        If the `FlowDataEngine` was created from an `ExternalDataSource`, this</span>
<span class="sd">        method will trigger the data retrieval, update the internal `_data_frame`</span>
<span class="sd">        to a `LazyFrame` of the collected data, and reset the schema to be</span>
<span class="sd">        re-evaluated.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_external_source</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Collecting external source&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">external_source</span><span class="o">.</span><span class="n">get_pl_df</span><span class="p">()</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">external_source</span><span class="o">.</span><span class="n">get_pl_df</span><span class="p">()</span><span class="o">.</span><span class="n">lazy</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">LazyFrame</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">external_source</span><span class="o">.</span><span class="n">get_iter</span><span class="p">()))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># enforce reset schema</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_output_sample</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a sample of the data as a list of dictionaries.</span>

<span class="sd">        This is typically used to display a preview of the data in a UI.</span>

<span class="sd">        Args:</span>
<span class="sd">            n_rows: The number of rows to sample.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of dictionaries, where each dictionary represents a row.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">&gt;</span> <span class="n">n_rows</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">collect</span><span class="p">(</span><span class="n">n_rows</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">to_dicts</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__get_sample__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">streamable</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Internal method to get a sample of the data.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span><span class="p">:</span>
            <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">lazy</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span>

        <span class="k">if</span> <span class="n">streamable</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">n_rows</span><span class="p">)</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Error in getting sample: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">n_rows</span><span class="p">)</span><span class="o">.</span><span class="n">collect</span><span class="p">(</span><span class="n">engine</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">number_of_records</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">),</span> <span class="n">schema</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_sample</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">random</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">shuffle</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                   <span class="n">seed</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">execution_location</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ExecutionLocationsLiteral</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a sample of rows from the DataFrame.</span>

<span class="sd">        Args:</span>
<span class="sd">            n_rows: The number of rows to sample.</span>
<span class="sd">            random: If True, performs random sampling. If False, takes the first n_rows.</span>
<span class="sd">            shuffle: If True (and `random` is True), shuffles the data before sampling.</span>
<span class="sd">            seed: A random seed for reproducibility.</span>
<span class="sd">            execution_location: Location which is used to calculate the size of the dataframe</span>
<span class="sd">        Returns:</span>
<span class="sd">            A new `FlowDataEngine` instance containing the sampled data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Getting sample of </span><span class="si">{</span><span class="n">n_rows</span><span class="si">}</span><span class="s1"> rows&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">random</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">external_source</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">collect_external</span><span class="p">()</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span> <span class="ow">and</span> <span class="n">shuffle</span><span class="p">:</span>
                <span class="n">sample_df</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">collect</span><span class="p">(</span><span class="n">engine</span><span class="o">=</span><span class="s2">&quot;streaming&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_streamable</span> <span class="k">else</span> <span class="s2">&quot;auto&quot;</span><span class="p">)</span>
                             <span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n_rows</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="n">seed</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="n">shuffle</span><span class="p">))</span>
            <span class="k">elif</span> <span class="n">shuffle</span><span class="p">:</span>
                <span class="n">sample_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n_rows</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="n">seed</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="n">shuffle</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">execution_location</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">execution_location</span> <span class="o">=</span> <span class="n">get_global_execution_location</span><span class="p">()</span>
                <span class="n">n_rows</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">n_rows</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_number_of_records</span><span class="p">(</span>
                    <span class="n">calculate_in_worker_process</span><span class="o">=</span><span class="n">execution_location</span> <span class="o">==</span> <span class="s2">&quot;remote&quot;</span><span class="p">)</span>
                             <span class="p">)</span>

                <span class="n">every_n_records</span> <span class="o">=</span> <span class="n">ceil</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">/</span> <span class="n">n_rows</span><span class="p">)</span>
                <span class="n">sample_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">gather_every</span><span class="p">(</span><span class="n">every_n_records</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">external_source</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">collect</span><span class="p">(</span><span class="n">n_rows</span><span class="p">)</span>
            <span class="n">sample_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">n_rows</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">sample_df</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the first `n_rows` from the DataFrame.</span>

<span class="sd">        Args:</span>
<span class="sd">            n_rows: The number of rows to include in the subset.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new `FlowDataEngine` instance containing the subset of data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">n_rows</span><span class="p">),</span> <span class="n">calculate_schema_stats</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">n_rows</span><span class="p">),</span> <span class="n">calculate_schema_stats</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">iter_batches</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">batch_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">,</span>
                     <span class="n">columns</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Iterates over the DataFrame in batches.</span>

<span class="sd">        Args:</span>
<span class="sd">            batch_size: The size of each batch.</span>
<span class="sd">            columns: A list of column names to include in the batches. If None,</span>
<span class="sd">                all columns are included.</span>

<span class="sd">        Yields:</span>
<span class="sd">            A `FlowDataEngine` instance for each batch.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">columns</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">columns</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">batches</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">iter_slices</span><span class="p">(</span><span class="n">batch_size</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">batch</span> <span class="ow">in</span> <span class="n">batches</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">batch</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">start_fuzzy_join</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fuzzy_match_input</span><span class="p">:</span> <span class="n">transform_schemas</span><span class="o">.</span><span class="n">FuzzyMatchInput</span><span class="p">,</span>
                         <span class="n">other</span><span class="p">:</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">,</span> <span class="n">file_ref</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
                         <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ExternalFuzzyMatchFetcher</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Starts a fuzzy join operation in a background process.</span>

<span class="sd">        This method prepares the data and initiates the fuzzy matching in a</span>
<span class="sd">        separate process, returning a tracker object immediately.</span>

<span class="sd">        Args:</span>
<span class="sd">            fuzzy_match_input: A `FuzzyMatchInput` object with the matching parameters.</span>
<span class="sd">            other: The right `FlowDataEngine` to join with.</span>
<span class="sd">            file_ref: A reference string for temporary files.</span>
<span class="sd">            flow_id: The flow ID for tracking.</span>
<span class="sd">            node_id: The node ID for tracking.</span>

<span class="sd">        Returns:</span>
<span class="sd">            An `ExternalFuzzyMatchFetcher` object that can be used to track the</span>
<span class="sd">            progress and retrieve the result of the fuzzy join.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">left_df</span><span class="p">,</span> <span class="n">right_df</span> <span class="o">=</span> <span class="n">prepare_for_fuzzy_match</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="n">other</span><span class="p">,</span> <span class="n">fuzzy_match_input</span><span class="o">=</span><span class="n">fuzzy_match_input</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ExternalFuzzyMatchFetcher</span><span class="p">(</span><span class="n">left_df</span><span class="p">,</span> <span class="n">right_df</span><span class="p">,</span>
                                         <span class="n">fuzzy_maps</span><span class="o">=</span><span class="n">fuzzy_match_input</span><span class="o">.</span><span class="n">fuzzy_maps</span><span class="p">,</span>
                                         <span class="n">file_ref</span><span class="o">=</span><span class="n">file_ref</span> <span class="o">+</span> <span class="s1">&#39;_fm&#39;</span><span class="p">,</span>
                                         <span class="n">wait_on_completion</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                         <span class="n">flow_id</span><span class="o">=</span><span class="n">flow_id</span><span class="p">,</span>
                                         <span class="n">node_id</span><span class="o">=</span><span class="n">node_id</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">fuzzy_join_external</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                            <span class="n">fuzzy_match_input</span><span class="p">:</span> <span class="n">transform_schemas</span><span class="o">.</span><span class="n">FuzzyMatchInput</span><span class="p">,</span>
                            <span class="n">other</span><span class="p">:</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">,</span>
                            <span class="n">file_ref</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                            <span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
                            <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
                            <span class="p">):</span>
        <span class="k">if</span> <span class="n">file_ref</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">file_ref</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span> <span class="o">+</span> <span class="s1">&#39;_&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="n">other</span><span class="p">))</span>

        <span class="n">left_df</span><span class="p">,</span> <span class="n">right_df</span> <span class="o">=</span> <span class="n">prepare_for_fuzzy_match</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="n">other</span><span class="p">,</span> <span class="n">fuzzy_match_input</span><span class="o">=</span><span class="n">fuzzy_match_input</span><span class="p">)</span>
        <span class="n">external_tracker</span> <span class="o">=</span> <span class="n">ExternalFuzzyMatchFetcher</span><span class="p">(</span><span class="n">left_df</span><span class="p">,</span> <span class="n">right_df</span><span class="p">,</span>
                                                     <span class="n">fuzzy_maps</span><span class="o">=</span><span class="n">fuzzy_match_input</span><span class="o">.</span><span class="n">fuzzy_maps</span><span class="p">,</span>
                                                     <span class="n">file_ref</span><span class="o">=</span><span class="n">file_ref</span> <span class="o">+</span> <span class="s1">&#39;_fm&#39;</span><span class="p">,</span>
                                                     <span class="n">wait_on_completion</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                                     <span class="n">flow_id</span><span class="o">=</span><span class="n">flow_id</span><span class="p">,</span>
                                                     <span class="n">node_id</span><span class="o">=</span><span class="n">node_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">external_tracker</span><span class="o">.</span><span class="n">get_result</span><span class="p">())</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">fuzzy_join</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fuzzy_match_input</span><span class="p">:</span> <span class="n">transform_schemas</span><span class="o">.</span><span class="n">FuzzyMatchInput</span><span class="p">,</span>
                   <span class="n">other</span><span class="p">:</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">,</span>
                   <span class="n">node_logger</span><span class="p">:</span> <span class="n">NodeLogger</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
        <span class="n">left_df</span><span class="p">,</span> <span class="n">right_df</span> <span class="o">=</span> <span class="n">prepare_for_fuzzy_match</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="n">other</span><span class="p">,</span> <span class="n">fuzzy_match_input</span><span class="o">=</span><span class="n">fuzzy_match_input</span><span class="p">)</span>
        <span class="n">fuzzy_mappings</span> <span class="o">=</span> <span class="p">[</span><span class="n">FuzzyMapping</span><span class="p">(</span><span class="o">**</span><span class="n">fm</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span> <span class="k">for</span> <span class="n">fm</span> <span class="ow">in</span> <span class="n">fuzzy_match_input</span><span class="o">.</span><span class="n">fuzzy_maps</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">fuzzy_match_dfs</span><span class="p">(</span><span class="n">left_df</span><span class="p">,</span> <span class="n">right_df</span><span class="p">,</span> <span class="n">fuzzy_maps</span><span class="o">=</span><span class="n">fuzzy_mappings</span><span class="p">,</span>
                                              <span class="n">logger</span><span class="o">=</span><span class="n">node_logger</span><span class="o">.</span><span class="n">logger</span> <span class="k">if</span> <span class="n">node_logger</span> <span class="k">else</span> <span class="n">logger</span><span class="p">)</span>
                              <span class="o">.</span><span class="n">lazy</span><span class="p">())</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">do_cross_join</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cross_join_input</span><span class="p">:</span> <span class="n">transform_schemas</span><span class="o">.</span><span class="n">CrossJoinInput</span><span class="p">,</span>
                      <span class="n">auto_generate_selection</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">verify_integrity</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
                      <span class="n">other</span><span class="p">:</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Performs a cross join with another DataFrame.</span>

<span class="sd">        A cross join produces the Cartesian product of the two DataFrames.</span>

<span class="sd">        Args:</span>
<span class="sd">            cross_join_input: A `CrossJoinInput` object specifying column selections.</span>
<span class="sd">            auto_generate_selection: If True, automatically renames columns to avoid conflicts.</span>
<span class="sd">            verify_integrity: If True, checks if the resulting join would be too large.</span>
<span class="sd">            other: The right `FlowDataEngine` to join with.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new `FlowDataEngine` with the result of the cross join.</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception: If `verify_integrity` is True and the join would result in</span>
<span class="sd">                an excessively large number of records.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="n">other</span><span class="o">.</span><span class="n">lazy</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="n">verify_join_select_integrity</span><span class="p">(</span><span class="n">cross_join_input</span><span class="p">,</span> <span class="n">left_columns</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">right_columns</span><span class="o">=</span><span class="n">other</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
        <span class="n">right_select</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">old_name</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">cross_join_input</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">renames</span>
                        <span class="k">if</span> <span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">keep</span> <span class="ow">or</span> <span class="n">v</span><span class="o">.</span><span class="n">join_key</span><span class="p">)</span> <span class="ow">and</span> <span class="n">v</span><span class="o">.</span><span class="n">is_available</span><span class="p">]</span>
        <span class="n">left_select</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">old_name</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">cross_join_input</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">renames</span>
                       <span class="k">if</span> <span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">keep</span> <span class="ow">or</span> <span class="n">v</span><span class="o">.</span><span class="n">join_key</span><span class="p">)</span> <span class="ow">and</span> <span class="n">v</span><span class="o">.</span><span class="n">is_available</span><span class="p">]</span>

        <span class="n">left</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">left_select</span><span class="p">)</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">cross_join_input</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">rename_table</span><span class="p">)</span>
        <span class="n">right</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">right_select</span><span class="p">)</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">cross_join_input</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">rename_table</span><span class="p">)</span>

        <span class="n">joined_df</span> <span class="o">=</span> <span class="n">left</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">right</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;cross&#39;</span><span class="p">)</span>

        <span class="n">cols_to_delete_after</span> <span class="o">=</span> <span class="p">[</span><span class="n">col</span><span class="o">.</span><span class="n">new_name</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span>
                                <span class="n">cross_join_input</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">renames</span> <span class="o">+</span> <span class="n">cross_join_input</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">renames</span>
                                <span class="k">if</span> <span class="n">col</span><span class="o">.</span><span class="n">join_key</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">col</span><span class="o">.</span><span class="n">keep</span> <span class="ow">and</span> <span class="n">col</span><span class="o">.</span><span class="n">is_available</span><span class="p">]</span>

        <span class="n">fl</span> <span class="o">=</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">joined_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">cols_to_delete_after</span><span class="p">),</span> <span class="n">calculate_schema_stats</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">streamable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">fl</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">join</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">join_input</span><span class="p">:</span> <span class="n">transform_schemas</span><span class="o">.</span><span class="n">JoinInput</span><span class="p">,</span> <span class="n">auto_generate_selection</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
             <span class="n">verify_integrity</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Performs a standard SQL-style join with another DataFrame.</span>

<span class="sd">        Supports various join types like &#39;inner&#39;, &#39;left&#39;, &#39;right&#39;, &#39;outer&#39;, &#39;semi&#39;, and &#39;anti&#39;.</span>

<span class="sd">        Args:</span>
<span class="sd">            join_input: A `JoinInput` object defining the join keys, join type,</span>
<span class="sd">                and column selections.</span>
<span class="sd">            auto_generate_selection: If True, automatically handles column renaming.</span>
<span class="sd">            verify_integrity: If True, performs checks to prevent excessively large joins.</span>
<span class="sd">            other: The right `FlowDataEngine` to join with.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new `FlowDataEngine` with the joined data.</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception: If the join configuration is invalid or if `verify_integrity`</span>
<span class="sd">                is True and the join is predicted to be too large.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ensure_right_unselect_for_semi_and_anti_joins</span><span class="p">(</span><span class="n">join_input</span><span class="p">)</span>
        <span class="n">verify_join_select_integrity</span><span class="p">(</span><span class="n">join_input</span><span class="p">,</span> <span class="n">left_columns</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">right_columns</span><span class="o">=</span><span class="n">other</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_join_map_integrity</span><span class="p">(</span><span class="n">join_input</span><span class="p">,</span> <span class="n">left_columns</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">,</span> <span class="n">right_columns</span><span class="o">=</span><span class="n">other</span><span class="o">.</span><span class="n">schema</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Join is not valid by the data fields&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">auto_generate_selection</span><span class="p">:</span>
            <span class="n">join_input</span><span class="o">.</span><span class="n">auto_rename</span><span class="p">()</span>
        <span class="n">left</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">get_select_columns</span><span class="p">(</span><span class="n">join_input</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">renames</span><span class="p">))</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">join_input</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">rename_table</span><span class="p">)</span>
        <span class="n">right</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">get_select_columns</span><span class="p">(</span><span class="n">join_input</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">renames</span><span class="p">))</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">join_input</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">rename_table</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">verify_integrity</span> <span class="ow">and</span> <span class="n">join_input</span><span class="o">.</span><span class="n">how</span> <span class="o">!=</span> <span class="s1">&#39;right&#39;</span><span class="p">:</span>
            <span class="n">n_records</span> <span class="o">=</span> <span class="n">get_join_count</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">left_on_keys</span><span class="o">=</span><span class="n">join_input</span><span class="o">.</span><span class="n">left_join_keys</span><span class="p">,</span>
                                       <span class="n">right_on_keys</span><span class="o">=</span><span class="n">join_input</span><span class="o">.</span><span class="n">right_join_keys</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="n">join_input</span><span class="o">.</span><span class="n">how</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">n_records</span> <span class="o">&gt;</span> <span class="mi">1_000_000_000</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Join will result in too many records, ending process&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">n_records</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">reverse_join_key_mapping</span> <span class="o">=</span> <span class="n">_handle_duplication_join_keys</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">join_input</span><span class="p">)</span>
        <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">rename_df_table_for_join</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">join_input</span><span class="o">.</span><span class="n">get_join_key_renames</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">join_input</span><span class="o">.</span><span class="n">how</span> <span class="o">==</span> <span class="s1">&#39;right&#39;</span><span class="p">:</span>
            <span class="n">joined_df</span> <span class="o">=</span> <span class="n">right</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                <span class="n">other</span><span class="o">=</span><span class="n">left</span><span class="p">,</span>
                <span class="n">left_on</span><span class="o">=</span><span class="n">join_input</span><span class="o">.</span><span class="n">right_join_keys</span><span class="p">,</span>
                <span class="n">right_on</span><span class="o">=</span><span class="n">join_input</span><span class="o">.</span><span class="n">left_join_keys</span><span class="p">,</span>
                <span class="n">how</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span>
                <span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">reverse_join_key_mapping</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">joined_df</span> <span class="o">=</span> <span class="n">left</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                <span class="n">other</span><span class="o">=</span><span class="n">right</span><span class="p">,</span>
                <span class="n">left_on</span><span class="o">=</span><span class="n">join_input</span><span class="o">.</span><span class="n">left_join_keys</span><span class="p">,</span>
                <span class="n">right_on</span><span class="o">=</span><span class="n">join_input</span><span class="o">.</span><span class="n">right_join_keys</span><span class="p">,</span>
                <span class="n">how</span><span class="o">=</span><span class="n">join_input</span><span class="o">.</span><span class="n">how</span><span class="p">,</span>
                <span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">reverse_join_key_mapping</span><span class="p">)</span>
        <span class="n">left_cols_to_delete_after</span> <span class="o">=</span> <span class="p">[</span><span class="n">get_col_name_to_delete</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="s1">&#39;left&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">join_input</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">renames</span>
                                     <span class="k">if</span> <span class="ow">not</span> <span class="n">col</span><span class="o">.</span><span class="n">keep</span>
                                     <span class="ow">and</span> <span class="n">col</span><span class="o">.</span><span class="n">is_available</span> <span class="ow">and</span> <span class="n">col</span><span class="o">.</span><span class="n">join_key</span>
                                     <span class="p">]</span>
        <span class="n">right_cols_to_delete_after</span> <span class="o">=</span> <span class="p">[</span><span class="n">get_col_name_to_delete</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">join_input</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">renames</span>
                                      <span class="k">if</span> <span class="ow">not</span> <span class="n">col</span><span class="o">.</span><span class="n">keep</span>
                                      <span class="ow">and</span> <span class="n">col</span><span class="o">.</span><span class="n">is_available</span> <span class="ow">and</span> <span class="n">col</span><span class="o">.</span><span class="n">join_key</span>
                                      <span class="ow">and</span> <span class="n">join_input</span><span class="o">.</span><span class="n">how</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="s2">&quot;inner&quot;</span><span class="p">,</span> <span class="s2">&quot;cross&quot;</span><span class="p">,</span> <span class="s2">&quot;outer&quot;</span><span class="p">)</span>
                                      <span class="p">]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">right_cols_to_delete_after</span> <span class="o">+</span> <span class="n">left_cols_to_delete_after</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">joined_df</span> <span class="o">=</span> <span class="n">joined_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">left_cols_to_delete_after</span> <span class="o">+</span> <span class="n">right_cols_to_delete_after</span><span class="p">)</span>
        <span class="n">undo_join_key_remapping</span> <span class="o">=</span> <span class="n">get_undo_rename_mapping_join</span><span class="p">(</span><span class="n">join_input</span><span class="p">)</span>
        <span class="n">joined_df</span> <span class="o">=</span> <span class="n">joined_df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">undo_join_key_remapping</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">verify_integrity</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">joined_df</span><span class="p">,</span> <span class="n">calculate_schema_stats</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                  <span class="n">number_of_records</span><span class="o">=</span><span class="n">n_records</span><span class="p">,</span> <span class="n">streamable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">fl</span> <span class="o">=</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">joined_df</span><span class="p">,</span> <span class="n">calculate_schema_stats</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                <span class="n">number_of_records</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">streamable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">fl</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">solve_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">graph_solver_input</span><span class="p">:</span> <span class="n">transform_schemas</span><span class="o">.</span><span class="n">GraphSolverInput</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Solves a graph problem represented by &#39;from&#39; and &#39;to&#39; columns.</span>

<span class="sd">        This is used for operations like finding connected components in a graph.</span>

<span class="sd">        Args:</span>
<span class="sd">            graph_solver_input: A `GraphSolverInput` object defining the source,</span>
<span class="sd">                destination, and output column names.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new `FlowDataEngine` instance with the solved graph data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">lf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span>
            <span class="n">graph_solver</span><span class="p">(</span><span class="n">graph_solver_input</span><span class="o">.</span><span class="n">col_from</span><span class="p">,</span> <span class="n">graph_solver_input</span><span class="o">.</span><span class="n">col_to</span><span class="p">)</span>
            <span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="n">graph_solver_input</span><span class="o">.</span><span class="n">output_column_name</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">lf</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_new_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">,</span> <span class="n">col_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a new column with the provided values.</span>

<span class="sd">        Args:</span>
<span class="sd">            values: An iterable (e.g., list, tuple) of values to add as a new column.</span>
<span class="sd">            col_name: The name for the new column. Defaults to &#39;new_values&#39;.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new `FlowDataEngine` instance with the added column.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">col_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">col_name</span> <span class="o">=</span> <span class="s1">&#39;new_values&#39;</span>
        <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">values</span><span class="p">)</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="n">col_name</span><span class="p">)))</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_record_count</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns a new FlowDataEngine with a single column &#39;number_of_records&#39;</span>
<span class="sd">        containing the total number of records.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new `FlowDataEngine` instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">len</span><span class="p">()</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="s1">&#39;number_of_records&#39;</span><span class="p">)))</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">assert_equal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">,</span> <span class="n">ordered</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">strict_schema</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Asserts that this DataFrame is equal to another.</span>

<span class="sd">        Useful for testing.</span>

<span class="sd">        Args:</span>
<span class="sd">            other: The other `FlowDataEngine` to compare with.</span>
<span class="sd">            ordered: If True, the row order must be identical.</span>
<span class="sd">            strict_schema: If True, the data types of the schemas must be identical.</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception: If the DataFrames are not equal based on the specified criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">org_laziness</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">lazy</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">other</span><span class="o">.</span><span class="n">lazy</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="n">other</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="n">other</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">select_columns</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_number_of_records_in_process</span><span class="p">()</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">get_number_of_records_in_process</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Number of records is not equal&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Schema is not equal&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">strict_schema</span><span class="p">:</span>
            <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">schema</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">schema</span><span class="p">,</span> <span class="s1">&#39;Data types do not match&#39;</span>

        <span class="k">if</span> <span class="n">ordered</span><span class="p">:</span>
            <span class="n">self_lf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
            <span class="n">other_lf</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="n">other</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">self_lf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span>
            <span class="n">other_lf</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">data_frame</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">lazy</span> <span class="o">=</span> <span class="n">org_laziness</span>
        <span class="k">assert</span> <span class="n">self_lf</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">other_lf</span><span class="p">),</span> <span class="s1">&#39;Data is not equal&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">initialize_empty_fl</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initializes an empty LazyFrame.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">LazyFrame</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_lazy</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_calculate_number_of_records_in_worker</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculates the number of records in a worker process.&quot;&quot;&quot;</span>
        <span class="n">number_of_records</span> <span class="o">=</span> <span class="n">ExternalDfFetcher</span><span class="p">(</span>
            <span class="n">lf</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="p">,</span>
            <span class="n">operation_type</span><span class="o">=</span><span class="s2">&quot;calculate_number_of_records&quot;</span><span class="p">,</span>
            <span class="n">flow_id</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">node_id</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">wait_on_completion</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span><span class="o">.</span><span class="n">result</span>
        <span class="k">return</span> <span class="n">number_of_records</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_number_of_records_in_process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force_calculate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the number of records in the DataFrame in the local process.</span>

<span class="sd">        args:</span>
<span class="sd">            force_calculate: If True, forces recalculation even if a value is cached.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The total number of records.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_number_of_records</span><span class="p">(</span><span class="n">force_calculate</span><span class="o">=</span><span class="n">force_calculate</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_number_of_records</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">warn</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">force_calculate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                              <span class="n">calculate_in_worker_process</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the total number of records in the DataFrame.</span>

<span class="sd">        For lazy frames, this may trigger a full data scan, which can be expensive.</span>

<span class="sd">        Args:</span>
<span class="sd">            warn: If True, logs a warning if a potentially expensive calculation is triggered.</span>
<span class="sd">            force_calculate: If True, forces recalculation even if a value is cached.</span>
<span class="sd">            calculate_in_worker_process: If True, offloads the calculation to a worker process.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The total number of records.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the number of records could not be determined.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_future</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_collected</span><span class="p">:</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">force_calculate</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_number_of_records_callback</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_number_of_records_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">calculate_in_worker_process</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_number_of_records_in_worker</span><span class="p">()</span>
                        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span>
                    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">warn</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;Calculating the number of records this can be expensive on a lazy frame&#39;</span><span class="p">)</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">len</span><span class="p">())</span><span class="o">.</span><span class="n">collect</span><span class="p">(</span>
                        <span class="n">engine</span><span class="o">=</span><span class="s2">&quot;streaming&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_streamable</span> <span class="k">else</span> <span class="s2">&quot;auto&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
                <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Could not get number of records&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="fm">__len__</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">has_errors</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Checks if there are any errors.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">lazy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Indicates if the DataFrame is in lazy mode.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lazy</span>

    <span class="nd">@lazy</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">lazy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exec_lazy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets the laziness of the DataFrame.</span>

<span class="sd">        Args:</span>
<span class="sd">            exec_lazy: If True, converts the DataFrame to a LazyFrame. If False,</span>
<span class="sd">                collects the data and converts it to an eager DataFrame.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">exec_lazy</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lazy</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">exec_lazy</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">lazy</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_lazy</span> <span class="o">=</span> <span class="n">exec_lazy</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">external_source</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span> <span class="o">=</span> <span class="n">df</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">collect</span><span class="p">(</span><span class="n">engine</span><span class="o">=</span><span class="s2">&quot;streaming&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_streamable</span> <span class="k">else</span> <span class="s2">&quot;auto&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_lazy</span> <span class="o">=</span> <span class="n">exec_lazy</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">external_source</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ExternalDataSource</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The external data source, if any.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_external_source</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">cols_idx</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A dictionary mapping column names to their integer index.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_col_idx</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_col_idx</span> <span class="o">=</span> <span class="p">{</span><span class="n">c</span><span class="p">:</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="p">)}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_col_idx</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">__name__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The name of the table.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_select_inputs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">transform_schemas</span><span class="o">.</span><span class="n">SelectInputs</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets `SelectInput` specifications for all columns in the current schema.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A `SelectInputs` object that can be used to configure selection or</span>
<span class="sd">            transformation operations.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">transform_schemas</span><span class="o">.</span><span class="n">SelectInputs</span><span class="p">(</span>
            <span class="p">[</span><span class="n">transform_schemas</span><span class="o">.</span><span class="n">SelectInput</span><span class="p">(</span><span class="n">old_name</span><span class="o">=</span><span class="n">c</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">data_type</span><span class="o">=</span><span class="n">c</span><span class="o">.</span><span class="n">data_type</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">]</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">select_columns</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">list_select</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Selects a subset of columns from the DataFrame.</span>

<span class="sd">        Args:</span>
<span class="sd">            list_select: A list, tuple, or single string of column names to select.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new `FlowDataEngine` instance containing only the selected columns.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">list_select</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">list_select</span> <span class="o">=</span> <span class="p">[</span><span class="n">list_select</span><span class="p">]</span>

        <span class="n">idx_to_keep</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">cols_idx</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">list_select</span><span class="p">]</span>
        <span class="n">selects</span> <span class="o">=</span> <span class="p">[</span><span class="n">ls</span> <span class="k">for</span> <span class="n">ls</span><span class="p">,</span> <span class="n">id_to_keep</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">list_select</span><span class="p">,</span> <span class="n">idx_to_keep</span><span class="p">)</span> <span class="k">if</span> <span class="n">id_to_keep</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">]</span>
        <span class="n">new_schema</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">idx_to_keep</span> <span class="k">if</span> <span class="n">i</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">selects</span><span class="p">),</span>
            <span class="n">number_of_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span><span class="p">,</span>
            <span class="n">schema</span><span class="o">=</span><span class="n">new_schema</span><span class="p">,</span>
            <span class="n">streamable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_streamable</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">drop_columns</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Drops specified columns from the DataFrame.</span>

<span class="sd">        Args:</span>
<span class="sd">            columns: A list of column names to drop.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new `FlowDataEngine` instance without the dropped columns.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cols_for_select</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">columns</span><span class="p">))</span>
        <span class="n">idx_to_keep</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">cols_idx</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">cols_for_select</span><span class="p">]</span>
        <span class="n">new_schema</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">idx_to_keep</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">cols_for_select</span><span class="p">),</span>
            <span class="n">number_of_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span><span class="p">,</span>
            <span class="n">schema</span><span class="o">=</span><span class="n">new_schema</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">reorganize_order</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">column_order</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Reorganizes columns into a specified order.</span>

<span class="sd">        Args:</span>
<span class="sd">            column_order: A list of column names in the desired order.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new `FlowDataEngine` instance with the columns reordered.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">column_order</span><span class="p">)</span>
        <span class="n">schema</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">column_order</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">column_name</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span> <span class="n">number_of_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">apply_flowfile_formula</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">col_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                               <span class="n">output_data_type</span><span class="p">:</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataType</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Applies a formula to create a new column or transform an existing one.</span>

<span class="sd">        Args:</span>
<span class="sd">            func: A string containing a Polars expression formula.</span>
<span class="sd">            col_name: The name of the new or transformed column.</span>
<span class="sd">            output_data_type: The desired Polars data type for the output column.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new `FlowDataEngine` instance with the applied formula.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">parsed_func</span> <span class="o">=</span> <span class="n">to_expr</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">output_data_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">df2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span><span class="n">parsed_func</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">output_data_type</span><span class="p">)</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="n">col_name</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">df2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span><span class="n">parsed_func</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="n">col_name</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">df2</span><span class="p">,</span> <span class="n">number_of_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">apply_sql_formula</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">col_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                          <span class="n">output_data_type</span><span class="p">:</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataType</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Applies an SQL-style formula using `pl.sql_expr`.</span>

<span class="sd">        Args:</span>
<span class="sd">            func: A string containing an SQL expression.</span>
<span class="sd">            col_name: The name of the new or transformed column.</span>
<span class="sd">            output_data_type: The desired Polars data type for the output column.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new `FlowDataEngine` instance with the applied formula.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">expr</span> <span class="o">=</span> <span class="n">to_expr</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">output_data_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Auto&quot;</span><span class="p">):</span>
            <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">output_data_type</span><span class="p">)</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="n">col_name</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="n">col_name</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">number_of_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">output</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output_fs</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">OutputSettings</span><span class="p">,</span> <span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
               <span class="n">execute_remote</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Writes the DataFrame to an output file.</span>

<span class="sd">        Can execute the write operation locally or in a remote worker process.</span>

<span class="sd">        Args:</span>
<span class="sd">            output_fs: An `OutputSettings` object with details about the output file.</span>
<span class="sd">            flow_id: The flow ID for tracking.</span>
<span class="sd">            node_id: The node ID for tracking.</span>
<span class="sd">            execute_remote: If True, executes the write in a worker process.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The same `FlowDataEngine` instance for chaining.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Starting to write output&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">execute_remote</span><span class="p">:</span>
            <span class="n">status</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">write_output</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="p">,</span>
                <span class="n">data_type</span><span class="o">=</span><span class="n">output_fs</span><span class="o">.</span><span class="n">file_type</span><span class="p">,</span>
                <span class="n">path</span><span class="o">=</span><span class="n">output_fs</span><span class="o">.</span><span class="n">abs_file_path</span><span class="p">,</span>
                <span class="n">write_mode</span><span class="o">=</span><span class="n">output_fs</span><span class="o">.</span><span class="n">write_mode</span><span class="p">,</span>
                <span class="n">sheet_name</span><span class="o">=</span><span class="n">output_fs</span><span class="o">.</span><span class="n">output_excel_table</span><span class="o">.</span><span class="n">sheet_name</span><span class="p">,</span>
                <span class="n">delimiter</span><span class="o">=</span><span class="n">output_fs</span><span class="o">.</span><span class="n">output_csv_table</span><span class="o">.</span><span class="n">delimiter</span><span class="p">,</span>
                <span class="n">flow_id</span><span class="o">=</span><span class="n">flow_id</span><span class="p">,</span>
                <span class="n">node_id</span><span class="o">=</span><span class="n">node_id</span>
            <span class="p">)</span>
            <span class="n">tracker</span> <span class="o">=</span> <span class="n">ExternalExecutorTracker</span><span class="p">(</span><span class="n">status</span><span class="p">)</span>
            <span class="n">tracker</span><span class="o">.</span><span class="n">get_result</span><span class="p">()</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Finished writing output&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Starting to write results locally&quot;</span><span class="p">)</span>
            <span class="n">utils</span><span class="o">.</span><span class="n">local_write_output</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="p">,</span>
                <span class="n">data_type</span><span class="o">=</span><span class="n">output_fs</span><span class="o">.</span><span class="n">file_type</span><span class="p">,</span>
                <span class="n">path</span><span class="o">=</span><span class="n">output_fs</span><span class="o">.</span><span class="n">abs_file_path</span><span class="p">,</span>
                <span class="n">write_mode</span><span class="o">=</span><span class="n">output_fs</span><span class="o">.</span><span class="n">write_mode</span><span class="p">,</span>
                <span class="n">sheet_name</span><span class="o">=</span><span class="n">output_fs</span><span class="o">.</span><span class="n">output_excel_table</span><span class="o">.</span><span class="n">sheet_name</span><span class="p">,</span>
                <span class="n">delimiter</span><span class="o">=</span><span class="n">output_fs</span><span class="o">.</span><span class="n">output_csv_table</span><span class="o">.</span><span class="n">delimiter</span><span class="p">,</span>
                <span class="n">flow_id</span><span class="o">=</span><span class="n">flow_id</span><span class="p">,</span>
                <span class="n">node_id</span><span class="o">=</span><span class="n">node_id</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finished writing output&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">make_unique</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">unique_input</span><span class="p">:</span> <span class="n">transform_schemas</span><span class="o">.</span><span class="n">UniqueInput</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the unique rows from the DataFrame.</span>

<span class="sd">        Args:</span>
<span class="sd">            unique_input: A `UniqueInput` object specifying a subset of columns</span>
<span class="sd">                to consider for uniqueness and a strategy for keeping rows.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new `FlowDataEngine` instance with unique rows.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">unique_input</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">unique_input</span><span class="o">.</span><span class="n">columns</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">unique_input</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">keep</span><span class="o">=</span><span class="n">unique_input</span><span class="o">.</span><span class="n">strategy</span><span class="p">))</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">concat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Concatenates this DataFrame with one or more other DataFrames.</span>

<span class="sd">        Args:</span>
<span class="sd">            other: A single `FlowDataEngine` or an iterable of them.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new `FlowDataEngine` containing the concatenated data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">FlowDataEngine</span><span class="p">):</span>
            <span class="n">other</span> <span class="o">=</span> <span class="p">[</span><span class="n">other</span><span class="p">]</span>

        <span class="n">dfs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">pl</span><span class="o">.</span><span class="n">LazyFrame</span><span class="p">]</span> <span class="o">|</span> <span class="n">List</span><span class="p">[</span><span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">flt</span><span class="o">.</span><span class="n">data_frame</span> <span class="k">for</span> <span class="n">flt</span> <span class="ow">in</span> <span class="n">other</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">dfs</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;diagonal_relaxed&#39;</span><span class="p">))</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">do_select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_inputs</span><span class="p">:</span> <span class="n">transform_schemas</span><span class="o">.</span><span class="n">SelectInputs</span><span class="p">,</span>
                  <span class="n">keep_missing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Performs a complex column selection, renaming, and reordering operation.</span>

<span class="sd">        Args:</span>
<span class="sd">            select_inputs: A `SelectInputs` object defining the desired transformations.</span>
<span class="sd">            keep_missing: If True, columns not specified in `select_inputs` are kept.</span>
<span class="sd">                If False, they are dropped.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new `FlowDataEngine` with the transformed selection.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_schema</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">)</span>
        <span class="n">renames</span> <span class="o">=</span> <span class="p">[</span><span class="n">r</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">select_inputs</span><span class="o">.</span><span class="n">renames</span> <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">is_available</span><span class="p">]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">keep_missing</span><span class="p">:</span>
            <span class="n">drop_cols</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">collect_schema</span><span class="p">()</span><span class="o">.</span><span class="n">names</span><span class="p">())</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">old_name</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">renames</span><span class="p">)</span><span class="o">.</span><span class="n">union</span><span class="p">(</span>
                <span class="nb">set</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">old_name</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">renames</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">r</span><span class="o">.</span><span class="n">keep</span><span class="p">))</span>
            <span class="n">keep_cols</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">keep_cols</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">collect_schema</span><span class="p">()</span><span class="o">.</span><span class="n">names</span><span class="p">())</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">old_name</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">renames</span><span class="p">))</span>
            <span class="n">drop_cols</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">old_name</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">renames</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">r</span><span class="o">.</span><span class="n">keep</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">drop_cols</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">new_schema</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">new_schema</span> <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">drop_cols</span><span class="p">]</span>
        <span class="n">new_schema_mapping</span> <span class="o">=</span> <span class="p">{</span><span class="n">v</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">new_schema</span><span class="p">}</span>

        <span class="n">available_renames</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">rename</span> <span class="ow">in</span> <span class="n">renames</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">rename</span><span class="o">.</span><span class="n">new_name</span> <span class="o">!=</span> <span class="n">rename</span><span class="o">.</span><span class="n">old_name</span> <span class="ow">or</span> <span class="n">rename</span><span class="o">.</span><span class="n">new_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">new_schema_mapping</span><span class="p">)</span> <span class="ow">and</span> <span class="n">rename</span><span class="o">.</span><span class="n">keep</span><span class="p">:</span>
                <span class="n">schema_entry</span> <span class="o">=</span> <span class="n">new_schema_mapping</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">rename</span><span class="o">.</span><span class="n">old_name</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">schema_entry</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">available_renames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rename</span><span class="p">)</span>
                    <span class="n">schema_entry</span><span class="o">.</span><span class="n">column_name</span> <span class="o">=</span> <span class="n">rename</span><span class="o">.</span><span class="n">new_name</span>

        <span class="n">rename_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">r</span><span class="o">.</span><span class="n">old_name</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">new_name</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">available_renames</span><span class="p">}</span>
        <span class="n">fl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">select_columns</span><span class="p">(</span>
            <span class="n">list_select</span><span class="o">=</span><span class="p">[</span><span class="n">col_to_keep</span><span class="o">.</span><span class="n">old_name</span> <span class="k">for</span> <span class="n">col_to_keep</span> <span class="ow">in</span> <span class="n">renames</span> <span class="k">if</span> <span class="n">col_to_keep</span><span class="o">.</span><span class="n">keep</span><span class="p">]</span> <span class="o">+</span> <span class="n">keep_cols</span><span class="p">)</span>
        <span class="n">fl</span> <span class="o">=</span> <span class="n">fl</span><span class="o">.</span><span class="n">change_column_types</span><span class="p">(</span><span class="n">transforms</span><span class="o">=</span><span class="p">[</span><span class="n">r</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">renames</span> <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">keep</span><span class="p">])</span>
        <span class="n">ndf</span> <span class="o">=</span> <span class="n">fl</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">rename_dict</span><span class="p">)</span>
        <span class="n">renames</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">r</span><span class="p">:</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">position</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">r</span><span class="o">.</span><span class="n">position</span><span class="p">)</span>
        <span class="n">sorted_cols</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">match_order</span><span class="p">(</span><span class="n">ndf</span><span class="o">.</span><span class="n">collect_schema</span><span class="p">()</span><span class="o">.</span><span class="n">names</span><span class="p">(),</span>
                                        <span class="p">[</span><span class="n">r</span><span class="o">.</span><span class="n">new_name</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">renames</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">collect_schema</span><span class="p">()</span><span class="o">.</span><span class="n">names</span><span class="p">())</span>
        <span class="n">output_file</span> <span class="o">=</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">ndf</span><span class="p">,</span> <span class="n">number_of_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">output_file</span><span class="o">.</span><span class="n">reorganize_order</span><span class="p">(</span><span class="n">sorted_cols</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_streamable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">streamable</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets whether DataFrame operations should be streamable.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_streamable</span> <span class="o">=</span> <span class="n">streamable</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_calculate_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculates schema statistics.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">external_source</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">collect_external</span><span class="p">()</span>
        <span class="n">v</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">calculate_schema</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">v</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">calculate_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculates and returns the schema.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_schema_stats</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">count</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the total number of records.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_number_of_records</span><span class="p">()</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">create_from_path_worker</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">received_table</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">ReceivedTable</span><span class="p">,</span> <span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a FlowDataEngine from a path in a worker process.&quot;&quot;&quot;</span>
        <span class="n">received_table</span><span class="o">.</span><span class="n">set_absolute_filepath</span><span class="p">()</span>
        <span class="n">external_fetcher</span> <span class="o">=</span> <span class="n">ExternalCreateFetcher</span><span class="p">(</span><span class="n">received_table</span><span class="o">=</span><span class="n">received_table</span><span class="p">,</span>
                                                 <span class="n">file_type</span><span class="o">=</span><span class="n">received_table</span><span class="o">.</span><span class="n">file_type</span><span class="p">,</span> <span class="n">flow_id</span><span class="o">=</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">node_id</span><span class="o">=</span><span class="n">node_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">external_fetcher</span><span class="o">.</span><span class="n">get_result</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__name__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="vm">__name__</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>The name of the table.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.cols_idx" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">cols_idx</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>A dictionary mapping column names to their integer index.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.data_frame" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">data_frame</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>The underlying Polars DataFrame or LazyFrame.</p>
<p>This property provides access to the Polars object that backs the
FlowDataEngine. It handles lazy-loading from external sources if necessary.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="polars.LazyFrame">LazyFrame</span> | <span title="polars.DataFrame">DataFrame</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The active Polars <code>DataFrame</code> or <code>LazyFrame</code>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.external_source" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">external_source</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>The external data source, if any.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.has_errors" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">has_errors</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Checks if there are any errors.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.lazy" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">lazy</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Indicates if the DataFrame is in lazy mode.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.number_of_fields" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">number_of_fields</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>The number of columns (fields) in the DataFrame.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The integer count of columns.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.schema" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">schema</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>The schema of the DataFrame as a list of <code>FlowfileColumn</code> objects.</p>
<p>This property lazily calculates the schema if it hasn't been determined yet.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn">FlowfileColumn</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of <code>FlowfileColumn</code> objects describing the schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>




<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__call__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="fm">__call__</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Makes the class instance callable, returning itself.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Makes the class instance callable, returning itself.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__get_sample__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">__get_sample__</span><span class="p">(</span><span class="n">n_rows</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">streamable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Internal method to get a sample of the data.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1551</span>
<span class="normal">1552</span>
<span class="normal">1553</span>
<span class="normal">1554</span>
<span class="normal">1555</span>
<span class="normal">1556</span>
<span class="normal">1557</span>
<span class="normal">1558</span>
<span class="normal">1559</span>
<span class="normal">1560</span>
<span class="normal">1561</span>
<span class="normal">1562</span>
<span class="normal">1563</span>
<span class="normal">1564</span>
<span class="normal">1565</span>
<span class="normal">1566</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">__get_sample__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">streamable</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Internal method to get a sample of the data.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">lazy</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span>

    <span class="k">if</span> <span class="n">streamable</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">n_rows</span><span class="p">)</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Error in getting sample: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">n_rows</span><span class="p">)</span><span class="o">.</span><span class="n">collect</span><span class="p">(</span><span class="n">engine</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">number_of_records</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">),</span> <span class="n">schema</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__getitem__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="fm">__getitem__</span><span class="p">(</span><span class="n">item</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Accesses a specific column or item from the DataFrame.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Accesses a specific column or item from the DataFrame.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">select</span><span class="p">([</span><span class="n">item</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__init__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">raw_data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">path_ref</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">optimize_memory</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">number_of_records</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">calculate_schema_stats</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">streamable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">number_of_records_callback</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">data_callback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Initializes the FlowDataEngine from various data sources.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>raw_data</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="typing.List">List</span>[<span title="typing.Dict">Dict</span>], <span title="typing.List">List</span>[<span title="typing.Any">Any</span>], <span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>], <span title="pyarrow.parquet.ParquetFile">ParquetFile</span>, <span title="polars.DataFrame">DataFrame</span>, <span title="polars.LazyFrame">LazyFrame</span>, <a class="autorefs autorefs-internal" title="            RawData (flowfile_core.schemas.input_schema.RawData)" href="#flowfile_core.schemas.input_schema.RawData">RawData</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The input data. Can be a list of dicts, a Polars DataFrame/LazyFrame,
or a <code>RawData</code> schema object.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>path_ref</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string path to a Parquet file.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An optional name for the data engine instance.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>optimize_memory</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, prefers lazy operations to conserve memory.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn">FlowfileColumn</a>] | <span title="typing.List">List</span>[<span title="str">str</span>] | <span title="polars.Schema">Schema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An optional schema definition. Can be a list of <code>FlowfileColumn</code> objects,
a list of column names, or a Polars <code>Schema</code>.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>number_of_records</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of records, if known.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>calculate_schema_stats</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, computes detailed statistics for each column.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>streamable</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, allows for streaming operations when possible.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>number_of_records_callback</code>
            </td>
            <td>
                  <code><span title="typing.Callable">Callable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A callback function to retrieve the number of records.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>data_callback</code>
            </td>
            <td>
                  <code><span title="typing.Callable">Callable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A callback function to retrieve the data.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
             <span class="n">raw_data</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="s1">&#39;ParquetFile&#39;</span><span class="p">,</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">pl</span><span class="o">.</span><span class="n">LazyFrame</span><span class="p">,</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">RawData</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">path_ref</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">optimize_memory</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
             <span class="n">schema</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s1">&#39;FlowfileColumn&#39;</span><span class="p">]</span> <span class="o">|</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="n">pl</span><span class="o">.</span><span class="n">Schema</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">number_of_records</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">calculate_schema_stats</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
             <span class="n">streamable</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
             <span class="n">number_of_records_callback</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">data_callback</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initializes the FlowDataEngine from various data sources.</span>

<span class="sd">    Args:</span>
<span class="sd">        raw_data: The input data. Can be a list of dicts, a Polars DataFrame/LazyFrame,</span>
<span class="sd">            or a `RawData` schema object.</span>
<span class="sd">        path_ref: A string path to a Parquet file.</span>
<span class="sd">        name: An optional name for the data engine instance.</span>
<span class="sd">        optimize_memory: If True, prefers lazy operations to conserve memory.</span>
<span class="sd">        schema: An optional schema definition. Can be a list of `FlowfileColumn` objects,</span>
<span class="sd">            a list of column names, or a Polars `Schema`.</span>
<span class="sd">        number_of_records: The number of records, if known.</span>
<span class="sd">        calculate_schema_stats: If True, computes detailed statistics for each column.</span>
<span class="sd">        streamable: If True, allows for streaming operations when possible.</span>
<span class="sd">        number_of_records_callback: A callback function to retrieve the number of records.</span>
<span class="sd">        data_callback: A callback function to retrieve the data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_attributes</span><span class="p">(</span><span class="n">number_of_records_callback</span><span class="p">,</span> <span class="n">data_callback</span><span class="p">,</span> <span class="n">streamable</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">raw_data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_handle_raw_data</span><span class="p">(</span><span class="n">raw_data</span><span class="p">,</span> <span class="n">number_of_records</span><span class="p">,</span> <span class="n">optimize_memory</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">path_ref</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_handle_path_ref</span><span class="p">(</span><span class="n">path_ref</span><span class="p">,</span> <span class="n">optimize_memory</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">initialize_empty_fl</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_finalize_initialization</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">optimize_memory</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="n">calculate_schema_stats</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__len__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="fm">__len__</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Returns the number of records in the table.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the number of records in the table.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_number_of_records</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.__repr__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="fm">__repr__</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Returns a string representation of the FlowDataEngine.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a string representation of the FlowDataEngine.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;flow data engine</span><span class="se">\n</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.add_new_values" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_new_values</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">col_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a new column with the provided values.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>values</code>
            </td>
            <td>
                  <code><span title="typing.Iterable">Iterable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An iterable (e.g., list, tuple) of values to add as a new column.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>col_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name for the new column. Defaults to 'new_values'.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new <code>FlowDataEngine</code> instance with the added column.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1830</span>
<span class="normal">1831</span>
<span class="normal">1832</span>
<span class="normal">1833</span>
<span class="normal">1834</span>
<span class="normal">1835</span>
<span class="normal">1836</span>
<span class="normal">1837</span>
<span class="normal">1838</span>
<span class="normal">1839</span>
<span class="normal">1840</span>
<span class="normal">1841</span>
<span class="normal">1842</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_new_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">,</span> <span class="n">col_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a new column with the provided values.</span>

<span class="sd">    Args:</span>
<span class="sd">        values: An iterable (e.g., list, tuple) of values to add as a new column.</span>
<span class="sd">        col_name: The name for the new column. Defaults to &#39;new_values&#39;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new `FlowDataEngine` instance with the added column.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">col_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">col_name</span> <span class="o">=</span> <span class="s1">&#39;new_values&#39;</span>
    <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">values</span><span class="p">)</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="n">col_name</span><span class="p">)))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.add_record_id" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_record_id</span><span class="p">(</span><span class="n">record_id_settings</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a record ID (row number) column to the DataFrame.</p>
<p>Can generate a simple sequential ID or a grouped ID that resets for
each group.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>record_id_settings</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            RecordIdInput


  
      dataclass
   (flowfile_core.schemas.transform_schema.RecordIdInput)" href="#flowfile_core.schemas.transform_schema.RecordIdInput">RecordIdInput</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>RecordIdInput</code> object specifying the output
column name, offset, and optional grouping columns.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new <code>FlowDataEngine</code> instance with the added record ID column.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_record_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record_id_settings</span><span class="p">:</span> <span class="n">transform_schemas</span><span class="o">.</span><span class="n">RecordIdInput</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a record ID (row number) column to the DataFrame.</span>

<span class="sd">    Can generate a simple sequential ID or a grouped ID that resets for</span>
<span class="sd">    each group.</span>

<span class="sd">    Args:</span>
<span class="sd">        record_id_settings: A `RecordIdInput` object specifying the output</span>
<span class="sd">            column name, offset, and optional grouping columns.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new `FlowDataEngine` instance with the added record ID column.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">record_id_settings</span><span class="o">.</span><span class="n">group_by</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">record_id_settings</span><span class="o">.</span><span class="n">group_by_columns</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_add_grouped_record_id</span><span class="p">(</span><span class="n">record_id_settings</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_add_simple_record_id</span><span class="p">(</span><span class="n">record_id_settings</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.apply_flowfile_formula" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">apply_flowfile_formula</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">col_name</span><span class="p">,</span> <span class="n">output_data_type</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Applies a formula to create a new column or transform an existing one.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>func</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string containing a Polars expression formula.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>col_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the new or transformed column.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>output_data_type</code>
            </td>
            <td>
                  <code><span title="polars.DataType">DataType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The desired Polars data type for the output column.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new <code>FlowDataEngine</code> instance with the applied formula.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2075</span>
<span class="normal">2076</span>
<span class="normal">2077</span>
<span class="normal">2078</span>
<span class="normal">2079</span>
<span class="normal">2080</span>
<span class="normal">2081</span>
<span class="normal">2082</span>
<span class="normal">2083</span>
<span class="normal">2084</span>
<span class="normal">2085</span>
<span class="normal">2086</span>
<span class="normal">2087</span>
<span class="normal">2088</span>
<span class="normal">2089</span>
<span class="normal">2090</span>
<span class="normal">2091</span>
<span class="normal">2092</span>
<span class="normal">2093</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">apply_flowfile_formula</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">col_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                           <span class="n">output_data_type</span><span class="p">:</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataType</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Applies a formula to create a new column or transform an existing one.</span>

<span class="sd">    Args:</span>
<span class="sd">        func: A string containing a Polars expression formula.</span>
<span class="sd">        col_name: The name of the new or transformed column.</span>
<span class="sd">        output_data_type: The desired Polars data type for the output column.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new `FlowDataEngine` instance with the applied formula.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">parsed_func</span> <span class="o">=</span> <span class="n">to_expr</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">output_data_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">df2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span><span class="n">parsed_func</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">output_data_type</span><span class="p">)</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="n">col_name</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">df2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span><span class="n">parsed_func</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="n">col_name</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">df2</span><span class="p">,</span> <span class="n">number_of_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.apply_sql_formula" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">apply_sql_formula</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">col_name</span><span class="p">,</span> <span class="n">output_data_type</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Applies an SQL-style formula using <code>pl.sql_expr</code>.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>func</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string containing an SQL expression.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>col_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the new or transformed column.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>output_data_type</code>
            </td>
            <td>
                  <code><span title="polars.DataType">DataType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The desired Polars data type for the output column.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new <code>FlowDataEngine</code> instance with the applied formula.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2095</span>
<span class="normal">2096</span>
<span class="normal">2097</span>
<span class="normal">2098</span>
<span class="normal">2099</span>
<span class="normal">2100</span>
<span class="normal">2101</span>
<span class="normal">2102</span>
<span class="normal">2103</span>
<span class="normal">2104</span>
<span class="normal">2105</span>
<span class="normal">2106</span>
<span class="normal">2107</span>
<span class="normal">2108</span>
<span class="normal">2109</span>
<span class="normal">2110</span>
<span class="normal">2111</span>
<span class="normal">2112</span>
<span class="normal">2113</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">apply_sql_formula</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">col_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                      <span class="n">output_data_type</span><span class="p">:</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataType</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Applies an SQL-style formula using `pl.sql_expr`.</span>

<span class="sd">    Args:</span>
<span class="sd">        func: A string containing an SQL expression.</span>
<span class="sd">        col_name: The name of the new or transformed column.</span>
<span class="sd">        output_data_type: The desired Polars data type for the output column.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new `FlowDataEngine` instance with the applied formula.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">expr</span> <span class="o">=</span> <span class="n">to_expr</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">output_data_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Auto&quot;</span><span class="p">):</span>
        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">output_data_type</span><span class="p">)</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="n">col_name</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="n">col_name</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">number_of_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.assert_equal" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">assert_equal</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">ordered</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">strict_schema</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Asserts that this DataFrame is equal to another.</p>
<p>Useful for testing.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>other</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other <code>FlowDataEngine</code> to compare with.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ordered</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, the row order must be identical.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>strict_schema</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, the data types of the schemas must be identical.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="Exception">Exception</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the DataFrames are not equal based on the specified criteria.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1853</span>
<span class="normal">1854</span>
<span class="normal">1855</span>
<span class="normal">1856</span>
<span class="normal">1857</span>
<span class="normal">1858</span>
<span class="normal">1859</span>
<span class="normal">1860</span>
<span class="normal">1861</span>
<span class="normal">1862</span>
<span class="normal">1863</span>
<span class="normal">1864</span>
<span class="normal">1865</span>
<span class="normal">1866</span>
<span class="normal">1867</span>
<span class="normal">1868</span>
<span class="normal">1869</span>
<span class="normal">1870</span>
<span class="normal">1871</span>
<span class="normal">1872</span>
<span class="normal">1873</span>
<span class="normal">1874</span>
<span class="normal">1875</span>
<span class="normal">1876</span>
<span class="normal">1877</span>
<span class="normal">1878</span>
<span class="normal">1879</span>
<span class="normal">1880</span>
<span class="normal">1881</span>
<span class="normal">1882</span>
<span class="normal">1883</span>
<span class="normal">1884</span>
<span class="normal">1885</span>
<span class="normal">1886</span>
<span class="normal">1887</span>
<span class="normal">1888</span>
<span class="normal">1889</span>
<span class="normal">1890</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">assert_equal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">,</span> <span class="n">ordered</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">strict_schema</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Asserts that this DataFrame is equal to another.</span>

<span class="sd">    Useful for testing.</span>

<span class="sd">    Args:</span>
<span class="sd">        other: The other `FlowDataEngine` to compare with.</span>
<span class="sd">        ordered: If True, the row order must be identical.</span>
<span class="sd">        strict_schema: If True, the data types of the schemas must be identical.</span>

<span class="sd">    Raises:</span>
<span class="sd">        Exception: If the DataFrames are not equal based on the specified criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">org_laziness</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">lazy</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">other</span><span class="o">.</span><span class="n">lazy</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="n">other</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="n">other</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">select_columns</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_number_of_records_in_process</span><span class="p">()</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">get_number_of_records_in_process</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Number of records is not equal&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Schema is not equal&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">strict_schema</span><span class="p">:</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">schema</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">schema</span><span class="p">,</span> <span class="s1">&#39;Data types do not match&#39;</span>

    <span class="k">if</span> <span class="n">ordered</span><span class="p">:</span>
        <span class="n">self_lf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
        <span class="n">other_lf</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="n">other</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">self_lf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span>
        <span class="n">other_lf</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">data_frame</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">lazy</span> <span class="o">=</span> <span class="n">org_laziness</span>
    <span class="k">assert</span> <span class="n">self_lf</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">other_lf</span><span class="p">),</span> <span class="s1">&#39;Data is not equal&#39;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.cache" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">cache</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Caches the current DataFrame to disk and updates the internal reference.</p>
<p>This triggers a background process to write the current LazyFrame's result
to a temporary file. Subsequent operations on this <code>FlowDataEngine</code> instance
will read from the cached file, which can speed up downstream computations.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The same <code>FlowDataEngine</code> instance, now backed by the cached data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1496</span>
<span class="normal">1497</span>
<span class="normal">1498</span>
<span class="normal">1499</span>
<span class="normal">1500</span>
<span class="normal">1501</span>
<span class="normal">1502</span>
<span class="normal">1503</span>
<span class="normal">1504</span>
<span class="normal">1505</span>
<span class="normal">1506</span>
<span class="normal">1507</span>
<span class="normal">1508</span>
<span class="normal">1509</span>
<span class="normal">1510</span>
<span class="normal">1511</span>
<span class="normal">1512</span>
<span class="normal">1513</span>
<span class="normal">1514</span>
<span class="normal">1515</span>
<span class="normal">1516</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">cache</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Caches the current DataFrame to disk and updates the internal reference.</span>

<span class="sd">    This triggers a background process to write the current LazyFrame&#39;s result</span>
<span class="sd">    to a temporary file. Subsequent operations on this `FlowDataEngine` instance</span>
<span class="sd">    will read from the cached file, which can speed up downstream computations.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The same `FlowDataEngine` instance, now backed by the cached data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">edf</span> <span class="o">=</span> <span class="n">ExternalDfFetcher</span><span class="p">(</span><span class="n">lf</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="p">,</span> <span class="n">file_ref</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)),</span> <span class="n">wait_on_completion</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                            <span class="n">flow_id</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
                            <span class="n">node_id</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Caching data in background&#39;</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">edf</span><span class="o">.</span><span class="n">get_result</span><span class="p">()</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">pl</span><span class="o">.</span><span class="n">LazyFrame</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Data cached&#39;</span><span class="p">)</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_frame</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span> <span class="o">=</span> <span class="n">result</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Data loaded from cache&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.calculate_schema" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">calculate_schema</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Calculates and returns the schema.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2246</span>
<span class="normal">2247</span>
<span class="normal">2248</span>
<span class="normal">2249</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">calculate_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculates and returns the schema.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_schema_stats</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.change_column_types" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">change_column_types</span><span class="p">(</span><span class="n">transforms</span><span class="p">,</span> <span class="n">calculate_schema</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Changes the data type of one or more columns.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>transforms</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="            SelectInput


  
      dataclass
   (flowfile_core.schemas.transform_schema.SelectInput)" href="#flowfile_core.schemas.transform_schema.SelectInput">SelectInput</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of <code>SelectInput</code> objects, where each object specifies
the column and its new <code>polars_type</code>.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>calculate_schema</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, recalculates the schema after the type change.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new <code>FlowDataEngine</code> instance with the updated column types.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">change_column_types</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">transforms</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">transform_schemas</span><span class="o">.</span><span class="n">SelectInput</span><span class="p">],</span>
                        <span class="n">calculate_schema</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Changes the data type of one or more columns.</span>

<span class="sd">    Args:</span>
<span class="sd">        transforms: A list of `SelectInput` objects, where each object specifies</span>
<span class="sd">            the column and its new `polars_type`.</span>
<span class="sd">        calculate_schema: If True, recalculates the schema after the type change.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new `FlowDataEngine` instance with the updated column types.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">dtypes</span> <span class="o">=</span> <span class="p">[</span><span class="n">dtype</span><span class="o">.</span><span class="n">base_type</span><span class="p">()</span> <span class="k">for</span> <span class="n">dtype</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">collect_schema</span><span class="p">()</span><span class="o">.</span><span class="n">dtypes</span><span class="p">()]</span>
    <span class="n">idx_mapping</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span>
        <span class="p">(</span><span class="n">transform</span><span class="o">.</span><span class="n">old_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cols_idx</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">transform</span><span class="o">.</span><span class="n">old_name</span><span class="p">),</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">pl</span><span class="p">,</span> <span class="n">transform</span><span class="o">.</span><span class="n">polars_type</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">transform</span> <span class="ow">in</span> <span class="n">transforms</span> <span class="k">if</span> <span class="n">transform</span><span class="o">.</span><span class="n">data_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="p">)</span>

    <span class="n">actual_transforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">idx_mapping</span> <span class="k">if</span> <span class="n">c</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">!=</span> <span class="n">dtypes</span><span class="p">[</span><span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">]]]</span>
    <span class="n">transformations</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">utils</span><span class="o">.</span><span class="n">define_pl_col_transformation</span><span class="p">(</span><span class="n">col_name</span><span class="o">=</span><span class="n">transform</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">col_type</span><span class="o">=</span><span class="n">transform</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">transform</span> <span class="ow">in</span> <span class="n">actual_transforms</span>
    <span class="p">]</span>

    <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span><span class="n">transformations</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span>
        <span class="n">df</span><span class="p">,</span>
        <span class="n">number_of_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span><span class="p">,</span>
        <span class="n">calculate_schema_stats</span><span class="o">=</span><span class="n">calculate_schema</span><span class="p">,</span>
        <span class="n">streamable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_streamable</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.collect" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">collect</span><span class="p">(</span><span class="n">n_records</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Collects the data and returns it as a Polars DataFrame.</p>
<p>This method triggers the execution of the lazy query plan (if applicable)
and returns the result. It supports streaming to optimize memory usage
for large datasets.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>n_records</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The maximum number of records to collect. If None, all
records are collected.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="polars.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A Polars <code>DataFrame</code> containing the collected data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">collect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_records</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Collects the data and returns it as a Polars DataFrame.</span>

<span class="sd">    This method triggers the execution of the lazy query plan (if applicable)</span>
<span class="sd">    and returns the result. It supports streaming to optimize memory usage</span>
<span class="sd">    for large datasets.</span>

<span class="sd">    Args:</span>
<span class="sd">        n_records: The maximum number of records to collect. If None, all</span>
<span class="sd">            records are collected.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A Polars `DataFrame` containing the collected data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">n_records</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Fetching all data for Table object &quot;</span><span class="si">{</span><span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">}</span><span class="s1">&quot;. Settings: streaming=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_streamable</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Fetching </span><span class="si">{</span><span class="n">n_records</span><span class="si">}</span><span class="s1"> record(s) for Table object &quot;</span><span class="si">{</span><span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">}</span><span class="s1">&quot;. &#39;</span>
                    <span class="sa">f</span><span class="s1">&#39;Settings: streaming=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_streamable</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_collect_data</span><span class="p">(</span><span class="n">n_records</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_collection_error</span><span class="p">(</span><span class="n">n_records</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.collect_external" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">collect_external</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Materializes data from a tracked external source.</p>
<p>If the <code>FlowDataEngine</code> was created from an <code>ExternalDataSource</code>, this
method will trigger the data retrieval, update the internal <code>_data_frame</code>
to a <code>LazyFrame</code> of the collected data, and reset the schema to be
re-evaluated.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1518</span>
<span class="normal">1519</span>
<span class="normal">1520</span>
<span class="normal">1521</span>
<span class="normal">1522</span>
<span class="normal">1523</span>
<span class="normal">1524</span>
<span class="normal">1525</span>
<span class="normal">1526</span>
<span class="normal">1527</span>
<span class="normal">1528</span>
<span class="normal">1529</span>
<span class="normal">1530</span>
<span class="normal">1531</span>
<span class="normal">1532</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">collect_external</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Materializes data from a tracked external source.</span>

<span class="sd">    If the `FlowDataEngine` was created from an `ExternalDataSource`, this</span>
<span class="sd">    method will trigger the data retrieval, update the internal `_data_frame`</span>
<span class="sd">    to a `LazyFrame` of the collected data, and reset the schema to be</span>
<span class="sd">    re-evaluated.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_external_source</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Collecting external source&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">external_source</span><span class="o">.</span><span class="n">get_pl_df</span><span class="p">()</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">external_source</span><span class="o">.</span><span class="n">get_pl_df</span><span class="p">()</span><span class="o">.</span><span class="n">lazy</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">LazyFrame</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">external_source</span><span class="o">.</span><span class="n">get_iter</span><span class="p">()))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># enforce reset schema</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.concat" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">concat</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Concatenates this DataFrame with one or more other DataFrames.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>other</code>
            </td>
            <td>
                  <code><span title="typing.Iterable">Iterable</span>[<a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a>] | <a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A single <code>FlowDataEngine</code> or an iterable of them.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new <code>FlowDataEngine</code> containing the concatenated data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2174</span>
<span class="normal">2175</span>
<span class="normal">2176</span>
<span class="normal">2177</span>
<span class="normal">2178</span>
<span class="normal">2179</span>
<span class="normal">2180</span>
<span class="normal">2181</span>
<span class="normal">2182</span>
<span class="normal">2183</span>
<span class="normal">2184</span>
<span class="normal">2185</span>
<span class="normal">2186</span>
<span class="normal">2187</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">concat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Concatenates this DataFrame with one or more other DataFrames.</span>

<span class="sd">    Args:</span>
<span class="sd">        other: A single `FlowDataEngine` or an iterable of them.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new `FlowDataEngine` containing the concatenated data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">FlowDataEngine</span><span class="p">):</span>
        <span class="n">other</span> <span class="o">=</span> <span class="p">[</span><span class="n">other</span><span class="p">]</span>

    <span class="n">dfs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">pl</span><span class="o">.</span><span class="n">LazyFrame</span><span class="p">]</span> <span class="o">|</span> <span class="n">List</span><span class="p">[</span><span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">flt</span><span class="o">.</span><span class="n">data_frame</span> <span class="k">for</span> <span class="n">flt</span> <span class="ow">in</span> <span class="n">other</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">dfs</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;diagonal_relaxed&#39;</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.count" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">count</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Gets the total number of records.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2251</span>
<span class="normal">2252</span>
<span class="normal">2253</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">count</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets the total number of records.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_number_of_records</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.create_from_external_source" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">create_from_external_source</span><span class="p">(</span><span class="n">external_source</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Creates a FlowDataEngine from an external data source.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>external_source</code>
            </td>
            <td>
                  <code><span title="flowfile_core.flowfile.sources.external_sources.base_class.ExternalDataSource">ExternalDataSource</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An object that conforms to the <code>ExternalDataSource</code>
interface.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new <code>FlowDataEngine</code> instance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create_from_external_source</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">external_source</span><span class="p">:</span> <span class="n">ExternalDataSource</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a FlowDataEngine from an external data source.</span>

<span class="sd">    Args:</span>
<span class="sd">        external_source: An object that conforms to the `ExternalDataSource`</span>
<span class="sd">            interface.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new `FlowDataEngine` instance.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">external_source</span><span class="o">.</span><span class="n">schema</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">ff</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">create_from_schema</span><span class="p">(</span><span class="n">external_source</span><span class="o">.</span><span class="n">schema</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">external_source</span><span class="o">.</span><span class="n">initial_data_getter</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">ff</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">raw_data</span><span class="o">=</span><span class="n">external_source</span><span class="o">.</span><span class="n">initial_data_getter</span><span class="p">())</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">ff</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span>
    <span class="n">ff</span><span class="o">.</span><span class="n">_external_source</span> <span class="o">=</span> <span class="n">external_source</span>
    <span class="k">return</span> <span class="n">ff</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.create_from_path" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">create_from_path</span><span class="p">(</span><span class="n">received_table</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Creates a FlowDataEngine from a local file path.</p>
<p>Supports various file types like CSV, Parquet, and Excel.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>received_table</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            ReceivedTableBase (flowfile_core.schemas.input_schema.ReceivedTableBase)" href="#flowfile_core.schemas.input_schema.ReceivedTableBase">ReceivedTableBase</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>ReceivedTableBase</code> object containing the file path
and format details.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new <code>FlowDataEngine</code> instance with data from the file.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create_from_path</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">received_table</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">ReceivedTableBase</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a FlowDataEngine from a local file path.</span>

<span class="sd">    Supports various file types like CSV, Parquet, and Excel.</span>

<span class="sd">    Args:</span>
<span class="sd">        received_table: A `ReceivedTableBase` object containing the file path</span>
<span class="sd">            and format details.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new `FlowDataEngine` instance with data from the file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">received_table</span><span class="o">.</span><span class="n">set_absolute_filepath</span><span class="p">()</span>
    <span class="n">file_type_handlers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;csv&#39;</span><span class="p">:</span> <span class="n">create_funcs</span><span class="o">.</span><span class="n">create_from_path_csv</span><span class="p">,</span>
        <span class="s1">&#39;parquet&#39;</span><span class="p">:</span> <span class="n">create_funcs</span><span class="o">.</span><span class="n">create_from_path_parquet</span><span class="p">,</span>
        <span class="s1">&#39;excel&#39;</span><span class="p">:</span> <span class="n">create_funcs</span><span class="o">.</span><span class="n">create_from_path_excel</span>
    <span class="p">}</span>

    <span class="n">handler</span> <span class="o">=</span> <span class="n">file_type_handlers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">received_table</span><span class="o">.</span><span class="n">file_type</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">handler</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Cannot create from </span><span class="si">{</span><span class="n">received_table</span><span class="o">.</span><span class="n">file_type</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="n">flow_file</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">handler</span><span class="p">(</span><span class="n">received_table</span><span class="p">))</span>
    <span class="n">flow_file</span><span class="o">.</span><span class="n">_org_path</span> <span class="o">=</span> <span class="n">received_table</span><span class="o">.</span><span class="n">abs_file_path</span>
    <span class="k">return</span> <span class="n">flow_file</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.create_from_path_worker" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">create_from_path_worker</span><span class="p">(</span><span class="n">received_table</span><span class="p">,</span> <span class="n">flow_id</span><span class="p">,</span> <span class="n">node_id</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Creates a FlowDataEngine from a path in a worker process.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2255</span>
<span class="normal">2256</span>
<span class="normal">2257</span>
<span class="normal">2258</span>
<span class="normal">2259</span>
<span class="normal">2260</span>
<span class="normal">2261</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create_from_path_worker</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">received_table</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">ReceivedTable</span><span class="p">,</span> <span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a FlowDataEngine from a path in a worker process.&quot;&quot;&quot;</span>
    <span class="n">received_table</span><span class="o">.</span><span class="n">set_absolute_filepath</span><span class="p">()</span>
    <span class="n">external_fetcher</span> <span class="o">=</span> <span class="n">ExternalCreateFetcher</span><span class="p">(</span><span class="n">received_table</span><span class="o">=</span><span class="n">received_table</span><span class="p">,</span>
                                             <span class="n">file_type</span><span class="o">=</span><span class="n">received_table</span><span class="o">.</span><span class="n">file_type</span><span class="p">,</span> <span class="n">flow_id</span><span class="o">=</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">node_id</span><span class="o">=</span><span class="n">node_id</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">external_fetcher</span><span class="o">.</span><span class="n">get_result</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.create_from_schema" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">create_from_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Creates an empty FlowDataEngine from a schema definition.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn">FlowfileColumn</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of <code>FlowfileColumn</code> objects defining the schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new, empty <code>FlowDataEngine</code> instance with the specified schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create_from_schema</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">FlowfileColumn</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates an empty FlowDataEngine from a schema definition.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: A list of `FlowfileColumn` objects defining the schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new, empty `FlowDataEngine` instance with the specified schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pl_schema</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">flow_file_column</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">schema</span><span class="p">):</span>
        <span class="n">pl_schema</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">flow_file_column</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">cast_str_to_polars_type</span><span class="p">(</span><span class="n">flow_file_column</span><span class="o">.</span><span class="n">data_type</span><span class="p">)))</span>
        <span class="n">schema</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">col_index</span> <span class="o">=</span> <span class="n">i</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">LazyFrame</span><span class="p">(</span><span class="n">schema</span><span class="o">=</span><span class="n">pl_schema</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span> <span class="n">calculate_schema_stats</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">number_of_records</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.create_from_sql" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">create_from_sql</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span> <span class="n">conn</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Creates a FlowDataEngine by executing a SQL query.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>sql</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The SQL query string to execute.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>conn</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A database connection object or connection URI string.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new <code>FlowDataEngine</code> instance with the query result.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create_from_sql</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">sql</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">conn</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a FlowDataEngine by executing a SQL query.</span>

<span class="sd">    Args:</span>
<span class="sd">        sql: The SQL query string to execute.</span>
<span class="sd">        conn: A database connection object or connection URI string.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new `FlowDataEngine` instance with the query result.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span> <span class="n">conn</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.create_random" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">create_random</span><span class="p">(</span><span class="n">number_of_records</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Creates a FlowDataEngine with randomly generated data.</p>
<p>Useful for testing and examples.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>number_of_records</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of random records to generate.</p>
              </div>
            </td>
            <td>
                  <code>1000</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new <code>FlowDataEngine</code> instance with fake data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create_random</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">number_of_records</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a FlowDataEngine with randomly generated data.</span>

<span class="sd">    Useful for testing and examples.</span>

<span class="sd">    Args:</span>
<span class="sd">        number_of_records: The number of random records to generate.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new `FlowDataEngine` instance with fake data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">create_fake_data</span><span class="p">(</span><span class="n">number_of_records</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.do_cross_join" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">do_cross_join</span><span class="p">(</span><span class="n">cross_join_input</span><span class="p">,</span> <span class="n">auto_generate_selection</span><span class="p">,</span> <span class="n">verify_integrity</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Performs a cross join with another DataFrame.</p>
<p>A cross join produces the Cartesian product of the two DataFrames.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>cross_join_input</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            CrossJoinInput


  
      dataclass
   (flowfile_core.schemas.transform_schema.CrossJoinInput)" href="#flowfile_core.schemas.transform_schema.CrossJoinInput">CrossJoinInput</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>CrossJoinInput</code> object specifying column selections.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>auto_generate_selection</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, automatically renames columns to avoid conflicts.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>verify_integrity</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, checks if the resulting join would be too large.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>other</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The right <code>FlowDataEngine</code> to join with.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new <code>FlowDataEngine</code> with the result of the cross join.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="Exception">Exception</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>verify_integrity</code> is True and the join would result in
an excessively large number of records.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1696</span>
<span class="normal">1697</span>
<span class="normal">1698</span>
<span class="normal">1699</span>
<span class="normal">1700</span>
<span class="normal">1701</span>
<span class="normal">1702</span>
<span class="normal">1703</span>
<span class="normal">1704</span>
<span class="normal">1705</span>
<span class="normal">1706</span>
<span class="normal">1707</span>
<span class="normal">1708</span>
<span class="normal">1709</span>
<span class="normal">1710</span>
<span class="normal">1711</span>
<span class="normal">1712</span>
<span class="normal">1713</span>
<span class="normal">1714</span>
<span class="normal">1715</span>
<span class="normal">1716</span>
<span class="normal">1717</span>
<span class="normal">1718</span>
<span class="normal">1719</span>
<span class="normal">1720</span>
<span class="normal">1721</span>
<span class="normal">1722</span>
<span class="normal">1723</span>
<span class="normal">1724</span>
<span class="normal">1725</span>
<span class="normal">1726</span>
<span class="normal">1727</span>
<span class="normal">1728</span>
<span class="normal">1729</span>
<span class="normal">1730</span>
<span class="normal">1731</span>
<span class="normal">1732</span>
<span class="normal">1733</span>
<span class="normal">1734</span>
<span class="normal">1735</span>
<span class="normal">1736</span>
<span class="normal">1737</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">do_cross_join</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cross_join_input</span><span class="p">:</span> <span class="n">transform_schemas</span><span class="o">.</span><span class="n">CrossJoinInput</span><span class="p">,</span>
                  <span class="n">auto_generate_selection</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">verify_integrity</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
                  <span class="n">other</span><span class="p">:</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Performs a cross join with another DataFrame.</span>

<span class="sd">    A cross join produces the Cartesian product of the two DataFrames.</span>

<span class="sd">    Args:</span>
<span class="sd">        cross_join_input: A `CrossJoinInput` object specifying column selections.</span>
<span class="sd">        auto_generate_selection: If True, automatically renames columns to avoid conflicts.</span>
<span class="sd">        verify_integrity: If True, checks if the resulting join would be too large.</span>
<span class="sd">        other: The right `FlowDataEngine` to join with.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new `FlowDataEngine` with the result of the cross join.</span>

<span class="sd">    Raises:</span>
<span class="sd">        Exception: If `verify_integrity` is True and the join would result in</span>
<span class="sd">            an excessively large number of records.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="n">other</span><span class="o">.</span><span class="n">lazy</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="n">verify_join_select_integrity</span><span class="p">(</span><span class="n">cross_join_input</span><span class="p">,</span> <span class="n">left_columns</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">right_columns</span><span class="o">=</span><span class="n">other</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
    <span class="n">right_select</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">old_name</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">cross_join_input</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">renames</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">keep</span> <span class="ow">or</span> <span class="n">v</span><span class="o">.</span><span class="n">join_key</span><span class="p">)</span> <span class="ow">and</span> <span class="n">v</span><span class="o">.</span><span class="n">is_available</span><span class="p">]</span>
    <span class="n">left_select</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">old_name</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">cross_join_input</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">renames</span>
                   <span class="k">if</span> <span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">keep</span> <span class="ow">or</span> <span class="n">v</span><span class="o">.</span><span class="n">join_key</span><span class="p">)</span> <span class="ow">and</span> <span class="n">v</span><span class="o">.</span><span class="n">is_available</span><span class="p">]</span>

    <span class="n">left</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">left_select</span><span class="p">)</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">cross_join_input</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">rename_table</span><span class="p">)</span>
    <span class="n">right</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">right_select</span><span class="p">)</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">cross_join_input</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">rename_table</span><span class="p">)</span>

    <span class="n">joined_df</span> <span class="o">=</span> <span class="n">left</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">right</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;cross&#39;</span><span class="p">)</span>

    <span class="n">cols_to_delete_after</span> <span class="o">=</span> <span class="p">[</span><span class="n">col</span><span class="o">.</span><span class="n">new_name</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span>
                            <span class="n">cross_join_input</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">renames</span> <span class="o">+</span> <span class="n">cross_join_input</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">renames</span>
                            <span class="k">if</span> <span class="n">col</span><span class="o">.</span><span class="n">join_key</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">col</span><span class="o">.</span><span class="n">keep</span> <span class="ow">and</span> <span class="n">col</span><span class="o">.</span><span class="n">is_available</span><span class="p">]</span>

    <span class="n">fl</span> <span class="o">=</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">joined_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">cols_to_delete_after</span><span class="p">),</span> <span class="n">calculate_schema_stats</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">streamable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">fl</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.do_filter" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">do_filter</span><span class="p">(</span><span class="n">predicate</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Filters rows based on a predicate expression.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>predicate</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string containing a Polars expression that evaluates to
a boolean value.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new <code>FlowDataEngine</code> instance containing only the rows that match</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the predicate.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">do_filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">predicate</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Filters rows based on a predicate expression.</span>

<span class="sd">    Args:</span>
<span class="sd">        predicate: A string containing a Polars expression that evaluates to</span>
<span class="sd">            a boolean value.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new `FlowDataEngine` instance containing only the rows that match</span>
<span class="sd">        the predicate.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">f</span> <span class="o">=</span> <span class="n">to_expr</span><span class="p">(</span><span class="n">predicate</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Error in filter expression: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">f</span> <span class="o">=</span> <span class="n">to_expr</span><span class="p">(</span><span class="s2">&quot;False&quot;</span><span class="p">)</span>
    <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">,</span> <span class="n">streamable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_streamable</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.do_group_by" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">do_group_by</span><span class="p">(</span><span class="n">group_by_input</span><span class="p">,</span> <span class="n">calculate_schema_stats</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Performs a group-by operation on the DataFrame.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>group_by_input</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            GroupByInput


  
      dataclass
   (flowfile_core.schemas.transform_schema.GroupByInput)" href="#flowfile_core.schemas.transform_schema.GroupByInput">GroupByInput</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>GroupByInput</code> object defining the grouping columns
and aggregations.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>calculate_schema_stats</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, calculates schema statistics for the
resulting DataFrame.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new <code>FlowDataEngine</code> instance with the grouped and aggregated data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span>
<span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span>
<span class="normal">961</span>
<span class="normal">962</span>
<span class="normal">963</span>
<span class="normal">964</span>
<span class="normal">965</span>
<span class="normal">966</span>
<span class="normal">967</span>
<span class="normal">968</span>
<span class="normal">969</span>
<span class="normal">970</span>
<span class="normal">971</span>
<span class="normal">972</span>
<span class="normal">973</span>
<span class="normal">974</span>
<span class="normal">975</span>
<span class="normal">976</span>
<span class="normal">977</span>
<span class="normal">978</span>
<span class="normal">979</span>
<span class="normal">980</span>
<span class="normal">981</span>
<span class="normal">982</span>
<span class="normal">983</span>
<span class="normal">984</span>
<span class="normal">985</span>
<span class="normal">986</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">do_group_by</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">group_by_input</span><span class="p">:</span> <span class="n">transform_schemas</span><span class="o">.</span><span class="n">GroupByInput</span><span class="p">,</span>
                <span class="n">calculate_schema_stats</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Performs a group-by operation on the DataFrame.</span>

<span class="sd">    Args:</span>
<span class="sd">        group_by_input: A `GroupByInput` object defining the grouping columns</span>
<span class="sd">            and aggregations.</span>
<span class="sd">        calculate_schema_stats: If True, calculates schema statistics for the</span>
<span class="sd">            resulting DataFrame.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new `FlowDataEngine` instance with the grouped and aggregated data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">aggregations</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">group_by_input</span><span class="o">.</span><span class="n">agg_cols</span> <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">agg</span> <span class="o">!=</span> <span class="s1">&#39;groupby&#39;</span><span class="p">]</span>
    <span class="n">group_columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">group_by_input</span><span class="o">.</span><span class="n">agg_cols</span> <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">agg</span> <span class="o">==</span> <span class="s1">&#39;groupby&#39;</span><span class="p">]</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">group_columns</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">select</span><span class="p">(</span>
                <span class="n">ac</span><span class="o">.</span><span class="n">agg_func</span><span class="p">(</span><span class="n">ac</span><span class="o">.</span><span class="n">old_name</span><span class="p">)</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="n">ac</span><span class="o">.</span><span class="n">new_name</span><span class="p">)</span> <span class="k">for</span> <span class="n">ac</span> <span class="ow">in</span> <span class="n">aggregations</span>
            <span class="p">),</span>
            <span class="n">calculate_schema_stats</span><span class="o">=</span><span class="n">calculate_schema_stats</span>
        <span class="p">)</span>

    <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">rename</span><span class="p">({</span><span class="n">c</span><span class="o">.</span><span class="n">old_name</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">new_name</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">group_columns</span><span class="p">})</span>
    <span class="n">group_by_columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">n_c</span><span class="o">.</span><span class="n">new_name</span> <span class="k">for</span> <span class="n">n_c</span> <span class="ow">in</span> <span class="n">group_columns</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span>
        <span class="n">df</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="o">*</span><span class="n">group_by_columns</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span>
            <span class="n">ac</span><span class="o">.</span><span class="n">agg_func</span><span class="p">(</span><span class="n">ac</span><span class="o">.</span><span class="n">old_name</span><span class="p">)</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="n">ac</span><span class="o">.</span><span class="n">new_name</span><span class="p">)</span> <span class="k">for</span> <span class="n">ac</span> <span class="ow">in</span> <span class="n">aggregations</span>
        <span class="p">),</span>
        <span class="n">calculate_schema_stats</span><span class="o">=</span><span class="n">calculate_schema_stats</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.do_pivot" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">do_pivot</span><span class="p">(</span><span class="n">pivot_input</span><span class="p">,</span> <span class="n">node_logger</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Converts the DataFrame from a long to a wide format, aggregating values.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>pivot_input</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            PivotInput


  
      dataclass
   (flowfile_core.schemas.transform_schema.PivotInput)" href="#flowfile_core.schemas.transform_schema.PivotInput">PivotInput</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>PivotInput</code> object defining the index, pivot, and value
columns, along with the aggregation logic.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>node_logger</code>
            </td>
            <td>
                  <code><span title="flowfile_core.configs.flow_logger.NodeLogger">NodeLogger</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An optional logger for reporting warnings, e.g., if the
pivot column has too many unique values.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new, pivoted <code>FlowDataEngine</code> instance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span>
<span class="normal">1389</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">do_pivot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pivot_input</span><span class="p">:</span> <span class="n">transform_schemas</span><span class="o">.</span><span class="n">PivotInput</span><span class="p">,</span> <span class="n">node_logger</span><span class="p">:</span> <span class="n">NodeLogger</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Converts the DataFrame from a long to a wide format, aggregating values.</span>

<span class="sd">    Args:</span>
<span class="sd">        pivot_input: A `PivotInput` object defining the index, pivot, and value</span>
<span class="sd">            columns, along with the aggregation logic.</span>
<span class="sd">        node_logger: An optional logger for reporting warnings, e.g., if the</span>
<span class="sd">            pivot column has too many unique values.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new, pivoted `FlowDataEngine` instance.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Get unique values for pivot columns</span>
    <span class="n">max_unique_vals</span> <span class="o">=</span> <span class="mi">200</span>
    <span class="n">new_cols_unique</span> <span class="o">=</span> <span class="n">fetch_unique_values</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">pivot_input</span><span class="o">.</span><span class="n">pivot_column</span><span class="p">)</span>
                                          <span class="o">.</span><span class="n">unique</span><span class="p">()</span>
                                          <span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">pivot_input</span><span class="o">.</span><span class="n">pivot_column</span><span class="p">)</span>
                                          <span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="n">max_unique_vals</span><span class="p">)</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">String</span><span class="p">))</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">new_cols_unique</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">max_unique_vals</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">node_logger</span><span class="p">:</span>
            <span class="n">node_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;Pivot column has too many unique values. Please consider using a different column.&#39;</span>
                                <span class="sa">f</span><span class="s1">&#39; Max unique values: </span><span class="si">{</span><span class="n">max_unique_vals</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">pivot_input</span><span class="o">.</span><span class="n">index_columns</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">no_index_cols</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">pivot_input</span><span class="o">.</span><span class="n">index_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;__temp__&#39;</span><span class="p">]</span>
        <span class="n">ff</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">apply_flowfile_formula</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="n">col_name</span><span class="o">=</span><span class="s1">&#39;__temp__&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">no_index_cols</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">ff</span> <span class="o">=</span> <span class="bp">self</span>

    <span class="c1"># Perform pivot operations</span>
    <span class="n">index_columns</span> <span class="o">=</span> <span class="n">pivot_input</span><span class="o">.</span><span class="n">get_index_columns</span><span class="p">()</span>
    <span class="n">grouped_ff</span> <span class="o">=</span> <span class="n">ff</span><span class="o">.</span><span class="n">do_group_by</span><span class="p">(</span><span class="n">pivot_input</span><span class="o">.</span><span class="n">get_group_by_input</span><span class="p">(),</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">pivot_column</span> <span class="o">=</span> <span class="n">pivot_input</span><span class="o">.</span><span class="n">get_pivot_column</span><span class="p">()</span>

    <span class="n">input_df</span> <span class="o">=</span> <span class="n">grouped_ff</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span>
        <span class="n">pivot_column</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">String</span><span class="p">)</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="n">pivot_input</span><span class="o">.</span><span class="n">pivot_column</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">number_of_aggregations</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">pivot_input</span><span class="o">.</span><span class="n">aggregations</span><span class="p">)</span>
    <span class="n">df</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">input_df</span><span class="o">.</span><span class="n">select</span><span class="p">(</span>
            <span class="o">*</span><span class="n">index_columns</span><span class="p">,</span>
            <span class="n">pivot_column</span><span class="p">,</span>
            <span class="n">pivot_input</span><span class="o">.</span><span class="n">get_values_expr</span><span class="p">()</span>
        <span class="p">)</span>
        <span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="o">*</span><span class="n">index_columns</span><span class="p">)</span>
        <span class="o">.</span><span class="n">agg</span><span class="p">([</span>
            <span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="s1">&#39;vals&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">pivot_column</span> <span class="o">==</span> <span class="n">new_col_value</span><span class="p">))</span>
            <span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="n">new_col_value</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">new_col_value</span> <span class="ow">in</span> <span class="n">new_cols_unique</span>
        <span class="p">])</span>
        <span class="o">.</span><span class="n">select</span><span class="p">(</span>
            <span class="o">*</span><span class="n">index_columns</span><span class="p">,</span>
            <span class="o">*</span><span class="p">[</span>
                <span class="n">pl</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="n">new_col</span><span class="p">)</span><span class="o">.</span><span class="n">struct</span><span class="o">.</span><span class="n">field</span><span class="p">(</span><span class="n">agg</span><span class="p">)</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">new_col</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;_&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">agg</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">number_of_aggregations</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">new_col</span><span class="w"> </span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">new_col</span> <span class="ow">in</span> <span class="n">new_cols_unique</span>
                <span class="k">for</span> <span class="n">agg</span> <span class="ow">in</span> <span class="n">pivot_input</span><span class="o">.</span><span class="n">aggregations</span>
            <span class="p">]</span>
        <span class="p">)</span>
    <span class="p">)</span>

    <span class="c1"># Clean up temporary columns if needed</span>
    <span class="k">if</span> <span class="n">no_index_cols</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;__temp__&#39;</span><span class="p">)</span>
        <span class="n">pivot_input</span><span class="o">.</span><span class="n">index_columns</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">calculate_schema_stats</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.do_select" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">do_select</span><span class="p">(</span><span class="n">select_inputs</span><span class="p">,</span> <span class="n">keep_missing</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Performs a complex column selection, renaming, and reordering operation.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>select_inputs</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            SelectInputs


  
      dataclass
   (flowfile_core.schemas.transform_schema.SelectInputs)" href="#flowfile_core.schemas.transform_schema.SelectInputs">SelectInputs</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>SelectInputs</code> object defining the desired transformations.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>keep_missing</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, columns not specified in <code>select_inputs</code> are kept.
If False, they are dropped.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new <code>FlowDataEngine</code> with the transformed selection.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2189</span>
<span class="normal">2190</span>
<span class="normal">2191</span>
<span class="normal">2192</span>
<span class="normal">2193</span>
<span class="normal">2194</span>
<span class="normal">2195</span>
<span class="normal">2196</span>
<span class="normal">2197</span>
<span class="normal">2198</span>
<span class="normal">2199</span>
<span class="normal">2200</span>
<span class="normal">2201</span>
<span class="normal">2202</span>
<span class="normal">2203</span>
<span class="normal">2204</span>
<span class="normal">2205</span>
<span class="normal">2206</span>
<span class="normal">2207</span>
<span class="normal">2208</span>
<span class="normal">2209</span>
<span class="normal">2210</span>
<span class="normal">2211</span>
<span class="normal">2212</span>
<span class="normal">2213</span>
<span class="normal">2214</span>
<span class="normal">2215</span>
<span class="normal">2216</span>
<span class="normal">2217</span>
<span class="normal">2218</span>
<span class="normal">2219</span>
<span class="normal">2220</span>
<span class="normal">2221</span>
<span class="normal">2222</span>
<span class="normal">2223</span>
<span class="normal">2224</span>
<span class="normal">2225</span>
<span class="normal">2226</span>
<span class="normal">2227</span>
<span class="normal">2228</span>
<span class="normal">2229</span>
<span class="normal">2230</span>
<span class="normal">2231</span>
<span class="normal">2232</span>
<span class="normal">2233</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">do_select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_inputs</span><span class="p">:</span> <span class="n">transform_schemas</span><span class="o">.</span><span class="n">SelectInputs</span><span class="p">,</span>
              <span class="n">keep_missing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Performs a complex column selection, renaming, and reordering operation.</span>

<span class="sd">    Args:</span>
<span class="sd">        select_inputs: A `SelectInputs` object defining the desired transformations.</span>
<span class="sd">        keep_missing: If True, columns not specified in `select_inputs` are kept.</span>
<span class="sd">            If False, they are dropped.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new `FlowDataEngine` with the transformed selection.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">new_schema</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">)</span>
    <span class="n">renames</span> <span class="o">=</span> <span class="p">[</span><span class="n">r</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">select_inputs</span><span class="o">.</span><span class="n">renames</span> <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">is_available</span><span class="p">]</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">keep_missing</span><span class="p">:</span>
        <span class="n">drop_cols</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">collect_schema</span><span class="p">()</span><span class="o">.</span><span class="n">names</span><span class="p">())</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">old_name</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">renames</span><span class="p">)</span><span class="o">.</span><span class="n">union</span><span class="p">(</span>
            <span class="nb">set</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">old_name</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">renames</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">r</span><span class="o">.</span><span class="n">keep</span><span class="p">))</span>
        <span class="n">keep_cols</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">keep_cols</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">collect_schema</span><span class="p">()</span><span class="o">.</span><span class="n">names</span><span class="p">())</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">old_name</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">renames</span><span class="p">))</span>
        <span class="n">drop_cols</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">old_name</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">renames</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">r</span><span class="o">.</span><span class="n">keep</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">drop_cols</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">new_schema</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">new_schema</span> <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">drop_cols</span><span class="p">]</span>
    <span class="n">new_schema_mapping</span> <span class="o">=</span> <span class="p">{</span><span class="n">v</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">new_schema</span><span class="p">}</span>

    <span class="n">available_renames</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">rename</span> <span class="ow">in</span> <span class="n">renames</span><span class="p">:</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">rename</span><span class="o">.</span><span class="n">new_name</span> <span class="o">!=</span> <span class="n">rename</span><span class="o">.</span><span class="n">old_name</span> <span class="ow">or</span> <span class="n">rename</span><span class="o">.</span><span class="n">new_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">new_schema_mapping</span><span class="p">)</span> <span class="ow">and</span> <span class="n">rename</span><span class="o">.</span><span class="n">keep</span><span class="p">:</span>
            <span class="n">schema_entry</span> <span class="o">=</span> <span class="n">new_schema_mapping</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">rename</span><span class="o">.</span><span class="n">old_name</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">schema_entry</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">available_renames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rename</span><span class="p">)</span>
                <span class="n">schema_entry</span><span class="o">.</span><span class="n">column_name</span> <span class="o">=</span> <span class="n">rename</span><span class="o">.</span><span class="n">new_name</span>

    <span class="n">rename_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">r</span><span class="o">.</span><span class="n">old_name</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">new_name</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">available_renames</span><span class="p">}</span>
    <span class="n">fl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">select_columns</span><span class="p">(</span>
        <span class="n">list_select</span><span class="o">=</span><span class="p">[</span><span class="n">col_to_keep</span><span class="o">.</span><span class="n">old_name</span> <span class="k">for</span> <span class="n">col_to_keep</span> <span class="ow">in</span> <span class="n">renames</span> <span class="k">if</span> <span class="n">col_to_keep</span><span class="o">.</span><span class="n">keep</span><span class="p">]</span> <span class="o">+</span> <span class="n">keep_cols</span><span class="p">)</span>
    <span class="n">fl</span> <span class="o">=</span> <span class="n">fl</span><span class="o">.</span><span class="n">change_column_types</span><span class="p">(</span><span class="n">transforms</span><span class="o">=</span><span class="p">[</span><span class="n">r</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">renames</span> <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">keep</span><span class="p">])</span>
    <span class="n">ndf</span> <span class="o">=</span> <span class="n">fl</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">rename_dict</span><span class="p">)</span>
    <span class="n">renames</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">r</span><span class="p">:</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">position</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">r</span><span class="o">.</span><span class="n">position</span><span class="p">)</span>
    <span class="n">sorted_cols</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">match_order</span><span class="p">(</span><span class="n">ndf</span><span class="o">.</span><span class="n">collect_schema</span><span class="p">()</span><span class="o">.</span><span class="n">names</span><span class="p">(),</span>
                                    <span class="p">[</span><span class="n">r</span><span class="o">.</span><span class="n">new_name</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">renames</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">collect_schema</span><span class="p">()</span><span class="o">.</span><span class="n">names</span><span class="p">())</span>
    <span class="n">output_file</span> <span class="o">=</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">ndf</span><span class="p">,</span> <span class="n">number_of_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">output_file</span><span class="o">.</span><span class="n">reorganize_order</span><span class="p">(</span><span class="n">sorted_cols</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.do_sort" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">do_sort</span><span class="p">(</span><span class="n">sorts</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Sorts the DataFrame by one or more columns.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>sorts</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="            SortByInput


  
      dataclass
   (flowfile_core.schemas.transform_schema.SortByInput)" href="#flowfile_core.schemas.transform_schema.SortByInput">SortByInput</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of <code>SortByInput</code> objects, each specifying a column
and sort direction ('asc' or 'desc').</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new <code>FlowDataEngine</code> instance with the sorted data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">do_sort</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sorts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">transform_schemas</span><span class="o">.</span><span class="n">SortByInput</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sorts the DataFrame by one or more columns.</span>

<span class="sd">    Args:</span>
<span class="sd">        sorts: A list of `SortByInput` objects, each specifying a column</span>
<span class="sd">            and sort direction (&#39;asc&#39; or &#39;desc&#39;).</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new `FlowDataEngine` instance with the sorted data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">sorts</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="n">descending</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">how</span> <span class="o">==</span> <span class="s1">&#39;desc&#39;</span> <span class="ow">or</span> <span class="n">s</span><span class="o">.</span><span class="n">how</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;descending&#39;</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">sorts</span><span class="p">]</span>
    <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">sort</span><span class="p">([</span><span class="n">sort_by</span><span class="o">.</span><span class="n">column</span> <span class="k">for</span> <span class="n">sort_by</span> <span class="ow">in</span> <span class="n">sorts</span><span class="p">],</span> <span class="n">descending</span><span class="o">=</span><span class="n">descending</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">number_of_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.drop_columns" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">drop_columns</span><span class="p">(</span><span class="n">columns</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Drops specified columns from the DataFrame.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>columns</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of column names to drop.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new <code>FlowDataEngine</code> instance without the dropped columns.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2043</span>
<span class="normal">2044</span>
<span class="normal">2045</span>
<span class="normal">2046</span>
<span class="normal">2047</span>
<span class="normal">2048</span>
<span class="normal">2049</span>
<span class="normal">2050</span>
<span class="normal">2051</span>
<span class="normal">2052</span>
<span class="normal">2053</span>
<span class="normal">2054</span>
<span class="normal">2055</span>
<span class="normal">2056</span>
<span class="normal">2057</span>
<span class="normal">2058</span>
<span class="normal">2059</span>
<span class="normal">2060</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">drop_columns</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Drops specified columns from the DataFrame.</span>

<span class="sd">    Args:</span>
<span class="sd">        columns: A list of column names to drop.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new `FlowDataEngine` instance without the dropped columns.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cols_for_select</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">columns</span><span class="p">))</span>
    <span class="n">idx_to_keep</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">cols_idx</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">cols_for_select</span><span class="p">]</span>
    <span class="n">new_schema</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">idx_to_keep</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">cols_for_select</span><span class="p">),</span>
        <span class="n">number_of_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span><span class="p">,</span>
        <span class="n">schema</span><span class="o">=</span><span class="n">new_schema</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.from_cloud_storage_obj" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">from_cloud_storage_obj</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Creates a FlowDataEngine from an object in cloud storage.</p>
<p>This method supports reading from various cloud storage providers like AWS S3,
Azure Data Lake Storage, and Google Cloud Storage, with support for
various authentication methods.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>settings</code>
            </td>
            <td>
                  <code><span title="flowfile_core.schemas.cloud_storage_schemas.CloudStorageReadSettingsInternal">CloudStorageReadSettingsInternal</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>CloudStorageReadSettingsInternal</code> object containing connection
details, file format, and read options.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new <code>FlowDataEngine</code> instance containing the data from cloud storage.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the storage type or file format is not supported.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="NotImplementedError">NotImplementedError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If a requested file format like "delta" or "iceberg"
is not yet implemented.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="Exception">Exception</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If reading from cloud storage fails.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">from_cloud_storage_obj</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">settings</span><span class="p">:</span> <span class="n">cloud_storage_schemas</span><span class="o">.</span><span class="n">CloudStorageReadSettingsInternal</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a FlowDataEngine from an object in cloud storage.</span>

<span class="sd">    This method supports reading from various cloud storage providers like AWS S3,</span>
<span class="sd">    Azure Data Lake Storage, and Google Cloud Storage, with support for</span>
<span class="sd">    various authentication methods.</span>

<span class="sd">    Args:</span>
<span class="sd">        settings: A `CloudStorageReadSettingsInternal` object containing connection</span>
<span class="sd">            details, file format, and read options.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new `FlowDataEngine` instance containing the data from cloud storage.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the storage type or file format is not supported.</span>
<span class="sd">        NotImplementedError: If a requested file format like &quot;delta&quot; or &quot;iceberg&quot;</span>
<span class="sd">            is not yet implemented.</span>
<span class="sd">        Exception: If reading from cloud storage fails.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">connection</span>
    <span class="n">read_settings</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">read_settings</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Reading from </span><span class="si">{</span><span class="n">connection</span><span class="o">.</span><span class="n">storage_type</span><span class="si">}</span><span class="s2"> storage: </span><span class="si">{</span><span class="n">read_settings</span><span class="o">.</span><span class="n">resource_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="c1"># Get storage options based on connection type</span>
    <span class="n">storage_options</span> <span class="o">=</span> <span class="n">CloudStorageReader</span><span class="o">.</span><span class="n">get_storage_options</span><span class="p">(</span><span class="n">connection</span><span class="p">)</span>
    <span class="c1"># Get credential provider if needed</span>
    <span class="n">credential_provider</span> <span class="o">=</span> <span class="n">CloudStorageReader</span><span class="o">.</span><span class="n">get_credential_provider</span><span class="p">(</span><span class="n">connection</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">read_settings</span><span class="o">.</span><span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;parquet&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_read_parquet_from_cloud</span><span class="p">(</span>
            <span class="n">read_settings</span><span class="o">.</span><span class="n">resource_path</span><span class="p">,</span>
            <span class="n">storage_options</span><span class="p">,</span>
            <span class="n">credential_provider</span><span class="p">,</span>
            <span class="n">read_settings</span><span class="o">.</span><span class="n">scan_mode</span> <span class="o">==</span> <span class="s2">&quot;directory&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="n">read_settings</span><span class="o">.</span><span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;delta&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_read_delta_from_cloud</span><span class="p">(</span>
            <span class="n">read_settings</span><span class="o">.</span><span class="n">resource_path</span><span class="p">,</span>
            <span class="n">storage_options</span><span class="p">,</span>
            <span class="n">credential_provider</span><span class="p">,</span>
            <span class="n">read_settings</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="n">read_settings</span><span class="o">.</span><span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;csv&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_read_csv_from_cloud</span><span class="p">(</span>
            <span class="n">read_settings</span><span class="o">.</span><span class="n">resource_path</span><span class="p">,</span>
            <span class="n">storage_options</span><span class="p">,</span>
            <span class="n">credential_provider</span><span class="p">,</span>
            <span class="n">read_settings</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="n">read_settings</span><span class="o">.</span><span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;json&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_read_json_from_cloud</span><span class="p">(</span>
            <span class="n">read_settings</span><span class="o">.</span><span class="n">resource_path</span><span class="p">,</span>
            <span class="n">storage_options</span><span class="p">,</span>
            <span class="n">credential_provider</span><span class="p">,</span>
            <span class="n">read_settings</span><span class="o">.</span><span class="n">scan_mode</span> <span class="o">==</span> <span class="s2">&quot;directory&quot;</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="n">read_settings</span><span class="o">.</span><span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;iceberg&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_read_iceberg_from_cloud</span><span class="p">(</span>
            <span class="n">read_settings</span><span class="o">.</span><span class="n">resource_path</span><span class="p">,</span>
            <span class="n">storage_options</span><span class="p">,</span>
            <span class="n">credential_provider</span><span class="p">,</span>
            <span class="n">read_settings</span>
        <span class="p">)</span>

    <span class="k">elif</span> <span class="n">read_settings</span><span class="o">.</span><span class="n">file_format</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;delta&quot;</span><span class="p">,</span> <span class="s2">&quot;iceberg&quot;</span><span class="p">]:</span>
        <span class="c1"># These would require additional libraries</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;File format </span><span class="si">{</span><span class="n">read_settings</span><span class="o">.</span><span class="n">file_format</span><span class="si">}</span><span class="s2"> not yet implemented&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unsupported file format: </span><span class="si">{</span><span class="n">read_settings</span><span class="o">.</span><span class="n">file_format</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.generate_enumerator" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">generate_enumerator</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">output_name</span><span class="o">=</span><span class="s1">&#39;output_column&#39;</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Generates a FlowDataEngine with a single column containing a sequence of integers.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>length</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of integers to generate in the sequence.</p>
              </div>
            </td>
            <td>
                  <code>1000</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>output_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the output column.</p>
              </div>
            </td>
            <td>
                  <code>&#39;output_column&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new <code>FlowDataEngine</code> instance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">generate_enumerator</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">length</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">,</span> <span class="n">output_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;output_column&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a FlowDataEngine with a single column containing a sequence of integers.</span>

<span class="sd">    Args:</span>
<span class="sd">        length: The number of integers to generate in the sequence.</span>
<span class="sd">        output_name: The name of the output column.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new `FlowDataEngine` instance.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">length</span> <span class="o">&gt;</span> <span class="mi">10_000_000</span><span class="p">:</span>
        <span class="n">length</span> <span class="o">=</span> <span class="mi">10_000_000</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">LazyFrame</span><span class="p">()</span><span class="o">.</span><span class="n">select</span><span class="p">((</span><span class="n">pl</span><span class="o">.</span><span class="n">int_range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">length</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">pl</span><span class="o">.</span><span class="n">UInt32</span><span class="p">))</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="n">output_name</span><span class="p">)))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_estimated_file_size" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_estimated_file_size</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Estimates the file size in bytes if the data originated from a local file.</p>
<p>This relies on the original path being tracked during file ingestion.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The file size in bytes, or 0 if the original path is unknown.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span>
<span class="normal">1476</span>
<span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_estimated_file_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Estimates the file size in bytes if the data originated from a local file.</span>

<span class="sd">    This relies on the original path being tracked during file ingestion.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The file size in bytes, or 0 if the original path is unknown.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_org_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">getsize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_org_path</span><span class="p">)</span>
    <span class="k">return</span> <span class="mi">0</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_number_of_records" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_number_of_records</span><span class="p">(</span><span class="n">warn</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">force_calculate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">calculate_in_worker_process</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Gets the total number of records in the DataFrame.</p>
<p>For lazy frames, this may trigger a full data scan, which can be expensive.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>warn</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, logs a warning if a potentially expensive calculation is triggered.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>force_calculate</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, forces recalculation even if a value is cached.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>calculate_in_worker_process</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, offloads the calculation to a worker process.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The total number of records.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the number of records could not be determined.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1921</span>
<span class="normal">1922</span>
<span class="normal">1923</span>
<span class="normal">1924</span>
<span class="normal">1925</span>
<span class="normal">1926</span>
<span class="normal">1927</span>
<span class="normal">1928</span>
<span class="normal">1929</span>
<span class="normal">1930</span>
<span class="normal">1931</span>
<span class="normal">1932</span>
<span class="normal">1933</span>
<span class="normal">1934</span>
<span class="normal">1935</span>
<span class="normal">1936</span>
<span class="normal">1937</span>
<span class="normal">1938</span>
<span class="normal">1939</span>
<span class="normal">1940</span>
<span class="normal">1941</span>
<span class="normal">1942</span>
<span class="normal">1943</span>
<span class="normal">1944</span>
<span class="normal">1945</span>
<span class="normal">1946</span>
<span class="normal">1947</span>
<span class="normal">1948</span>
<span class="normal">1949</span>
<span class="normal">1950</span>
<span class="normal">1951</span>
<span class="normal">1952</span>
<span class="normal">1953</span>
<span class="normal">1954</span>
<span class="normal">1955</span>
<span class="normal">1956</span>
<span class="normal">1957</span>
<span class="normal">1958</span>
<span class="normal">1959</span>
<span class="normal">1960</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_number_of_records</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">warn</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">force_calculate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                          <span class="n">calculate_in_worker_process</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets the total number of records in the DataFrame.</span>

<span class="sd">    For lazy frames, this may trigger a full data scan, which can be expensive.</span>

<span class="sd">    Args:</span>
<span class="sd">        warn: If True, logs a warning if a potentially expensive calculation is triggered.</span>
<span class="sd">        force_calculate: If True, forces recalculation even if a value is cached.</span>
<span class="sd">        calculate_in_worker_process: If True, offloads the calculation to a worker process.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The total number of records.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the number of records could not be determined.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_future</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_collected</span><span class="p">:</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">force_calculate</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_number_of_records_callback</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_number_of_records_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">calculate_in_worker_process</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_number_of_records_in_worker</span><span class="p">()</span>
                    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">warn</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;Calculating the number of records this can be expensive on a lazy frame&#39;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">len</span><span class="p">())</span><span class="o">.</span><span class="n">collect</span><span class="p">(</span>
                    <span class="n">engine</span><span class="o">=</span><span class="s2">&quot;streaming&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_streamable</span> <span class="k">else</span> <span class="s2">&quot;auto&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Could not get number of records&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="fm">__len__</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_number_of_records_in_process" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_number_of_records_in_process</span><span class="p">(</span><span class="n">force_calculate</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Get the number of records in the DataFrame in the local process.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>force_calculate</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, forces recalculation even if a value is cached.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The total number of records.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1909</span>
<span class="normal">1910</span>
<span class="normal">1911</span>
<span class="normal">1912</span>
<span class="normal">1913</span>
<span class="normal">1914</span>
<span class="normal">1915</span>
<span class="normal">1916</span>
<span class="normal">1917</span>
<span class="normal">1918</span>
<span class="normal">1919</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_number_of_records_in_process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force_calculate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the number of records in the DataFrame in the local process.</span>

<span class="sd">    args:</span>
<span class="sd">        force_calculate: If True, forces recalculation even if a value is cached.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The total number of records.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_number_of_records</span><span class="p">(</span><span class="n">force_calculate</span><span class="o">=</span><span class="n">force_calculate</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_output_sample" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_output_sample</span><span class="p">(</span><span class="n">n_rows</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Gets a sample of the data as a list of dictionaries.</p>
<p>This is typically used to display a preview of the data in a UI.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>n_rows</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of rows to sample.</p>
              </div>
            </td>
            <td>
                  <code>10</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="typing.Dict">Dict</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of dictionaries, where each dictionary represents a row.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1534</span>
<span class="normal">1535</span>
<span class="normal">1536</span>
<span class="normal">1537</span>
<span class="normal">1538</span>
<span class="normal">1539</span>
<span class="normal">1540</span>
<span class="normal">1541</span>
<span class="normal">1542</span>
<span class="normal">1543</span>
<span class="normal">1544</span>
<span class="normal">1545</span>
<span class="normal">1546</span>
<span class="normal">1547</span>
<span class="normal">1548</span>
<span class="normal">1549</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_output_sample</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a sample of the data as a list of dictionaries.</span>

<span class="sd">    This is typically used to display a preview of the data in a UI.</span>

<span class="sd">    Args:</span>
<span class="sd">        n_rows: The number of rows to sample.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of dictionaries, where each dictionary represents a row.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">&gt;</span> <span class="n">n_rows</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">collect</span><span class="p">(</span><span class="n">n_rows</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">to_dicts</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_record_count" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_record_count</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Returns a new FlowDataEngine with a single column 'number_of_records'
containing the total number of records.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new <code>FlowDataEngine</code> instance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1844</span>
<span class="normal">1845</span>
<span class="normal">1846</span>
<span class="normal">1847</span>
<span class="normal">1848</span>
<span class="normal">1849</span>
<span class="normal">1850</span>
<span class="normal">1851</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_record_count</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a new FlowDataEngine with a single column &#39;number_of_records&#39;</span>
<span class="sd">    containing the total number of records.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new `FlowDataEngine` instance.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">len</span><span class="p">()</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="s1">&#39;number_of_records&#39;</span><span class="p">)))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_sample" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_sample</span><span class="p">(</span><span class="n">n_rows</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">random</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">execution_location</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Gets a sample of rows from the DataFrame.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>n_rows</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of rows to sample.</p>
              </div>
            </td>
            <td>
                  <code>100</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>random</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, performs random sampling. If False, takes the first n_rows.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>shuffle</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True (and <code>random</code> is True), shuffles the data before sampling.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>seed</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A random seed for reproducibility.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>execution_location</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="flowfile_core.schemas.schemas.ExecutionLocationsLiteral">ExecutionLocationsLiteral</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Location which is used to calculate the size of the dataframe</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:
    A new <code>FlowDataEngine</code> instance containing the sampled data.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1568</span>
<span class="normal">1569</span>
<span class="normal">1570</span>
<span class="normal">1571</span>
<span class="normal">1572</span>
<span class="normal">1573</span>
<span class="normal">1574</span>
<span class="normal">1575</span>
<span class="normal">1576</span>
<span class="normal">1577</span>
<span class="normal">1578</span>
<span class="normal">1579</span>
<span class="normal">1580</span>
<span class="normal">1581</span>
<span class="normal">1582</span>
<span class="normal">1583</span>
<span class="normal">1584</span>
<span class="normal">1585</span>
<span class="normal">1586</span>
<span class="normal">1587</span>
<span class="normal">1588</span>
<span class="normal">1589</span>
<span class="normal">1590</span>
<span class="normal">1591</span>
<span class="normal">1592</span>
<span class="normal">1593</span>
<span class="normal">1594</span>
<span class="normal">1595</span>
<span class="normal">1596</span>
<span class="normal">1597</span>
<span class="normal">1598</span>
<span class="normal">1599</span>
<span class="normal">1600</span>
<span class="normal">1601</span>
<span class="normal">1602</span>
<span class="normal">1603</span>
<span class="normal">1604</span>
<span class="normal">1605</span>
<span class="normal">1606</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_sample</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">random</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">shuffle</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
               <span class="n">seed</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">execution_location</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ExecutionLocationsLiteral</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a sample of rows from the DataFrame.</span>

<span class="sd">    Args:</span>
<span class="sd">        n_rows: The number of rows to sample.</span>
<span class="sd">        random: If True, performs random sampling. If False, takes the first n_rows.</span>
<span class="sd">        shuffle: If True (and `random` is True), shuffles the data before sampling.</span>
<span class="sd">        seed: A random seed for reproducibility.</span>
<span class="sd">        execution_location: Location which is used to calculate the size of the dataframe</span>
<span class="sd">    Returns:</span>
<span class="sd">        A new `FlowDataEngine` instance containing the sampled data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Getting sample of </span><span class="si">{</span><span class="n">n_rows</span><span class="si">}</span><span class="s1"> rows&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">random</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">external_source</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">collect_external</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span> <span class="ow">and</span> <span class="n">shuffle</span><span class="p">:</span>
            <span class="n">sample_df</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">collect</span><span class="p">(</span><span class="n">engine</span><span class="o">=</span><span class="s2">&quot;streaming&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_streamable</span> <span class="k">else</span> <span class="s2">&quot;auto&quot;</span><span class="p">)</span>
                         <span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n_rows</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="n">seed</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="n">shuffle</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">shuffle</span><span class="p">:</span>
            <span class="n">sample_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n_rows</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="n">seed</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="n">shuffle</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">execution_location</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">execution_location</span> <span class="o">=</span> <span class="n">get_global_execution_location</span><span class="p">()</span>
            <span class="n">n_rows</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">n_rows</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_number_of_records</span><span class="p">(</span>
                <span class="n">calculate_in_worker_process</span><span class="o">=</span><span class="n">execution_location</span> <span class="o">==</span> <span class="s2">&quot;remote&quot;</span><span class="p">)</span>
                         <span class="p">)</span>

            <span class="n">every_n_records</span> <span class="o">=</span> <span class="n">ceil</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">/</span> <span class="n">n_rows</span><span class="p">)</span>
            <span class="n">sample_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">gather_every</span><span class="p">(</span><span class="n">every_n_records</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">external_source</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">collect</span><span class="p">(</span><span class="n">n_rows</span><span class="p">)</span>
        <span class="n">sample_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">n_rows</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">sample_df</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_schema_column" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_schema_column</span><span class="p">(</span><span class="n">col_name</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Retrieves the schema information for a single column by its name.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>col_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column to retrieve.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn">FlowfileColumn</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>FlowfileColumn</code> object for the specified column, or <code>None</code> if not found.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_schema_column</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlowfileColumn</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieves the schema information for a single column by its name.</span>

<span class="sd">    Args:</span>
<span class="sd">        col_name: The name of the column to retrieve.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A `FlowfileColumn` object for the specified column, or `None` if not found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">col_name</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">s</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_select_inputs" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_select_inputs</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Gets <code>SelectInput</code> specifications for all columns in the current schema.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            SelectInputs


  
      dataclass
   (flowfile_core.schemas.transform_schema.SelectInputs)" href="#flowfile_core.schemas.transform_schema.SelectInputs">SelectInputs</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>SelectInputs</code> object that can be used to configure selection or</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            SelectInputs


  
      dataclass
   (flowfile_core.schemas.transform_schema.SelectInputs)" href="#flowfile_core.schemas.transform_schema.SelectInputs">SelectInputs</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>transformation operations.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2009</span>
<span class="normal">2010</span>
<span class="normal">2011</span>
<span class="normal">2012</span>
<span class="normal">2013</span>
<span class="normal">2014</span>
<span class="normal">2015</span>
<span class="normal">2016</span>
<span class="normal">2017</span>
<span class="normal">2018</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_select_inputs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">transform_schemas</span><span class="o">.</span><span class="n">SelectInputs</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets `SelectInput` specifications for all columns in the current schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A `SelectInputs` object that can be used to configure selection or</span>
<span class="sd">        transformation operations.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">transform_schemas</span><span class="o">.</span><span class="n">SelectInputs</span><span class="p">(</span>
        <span class="p">[</span><span class="n">transform_schemas</span><span class="o">.</span><span class="n">SelectInput</span><span class="p">(</span><span class="n">old_name</span><span class="o">=</span><span class="n">c</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">data_type</span><span class="o">=</span><span class="n">c</span><span class="o">.</span><span class="n">data_type</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">]</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.get_subset" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_subset</span><span class="p">(</span><span class="n">n_rows</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Gets the first <code>n_rows</code> from the DataFrame.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>n_rows</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of rows to include in the subset.</p>
              </div>
            </td>
            <td>
                  <code>100</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new <code>FlowDataEngine</code> instance containing the subset of data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1608</span>
<span class="normal">1609</span>
<span class="normal">1610</span>
<span class="normal">1611</span>
<span class="normal">1612</span>
<span class="normal">1613</span>
<span class="normal">1614</span>
<span class="normal">1615</span>
<span class="normal">1616</span>
<span class="normal">1617</span>
<span class="normal">1618</span>
<span class="normal">1619</span>
<span class="normal">1620</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets the first `n_rows` from the DataFrame.</span>

<span class="sd">    Args:</span>
<span class="sd">        n_rows: The number of rows to include in the subset.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new `FlowDataEngine` instance containing the subset of data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">n_rows</span><span class="p">),</span> <span class="n">calculate_schema_stats</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">n_rows</span><span class="p">),</span> <span class="n">calculate_schema_stats</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.initialize_empty_fl" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">initialize_empty_fl</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Initializes an empty LazyFrame.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1892</span>
<span class="normal">1893</span>
<span class="normal">1894</span>
<span class="normal">1895</span>
<span class="normal">1896</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">initialize_empty_fl</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initializes an empty LazyFrame.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">LazyFrame</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_lazy</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.iter_batches" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">iter_batches</span><span class="p">(</span><span class="n">batch_size</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Iterates over the DataFrame in batches.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>batch_size</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The size of each batch.</p>
              </div>
            </td>
            <td>
                  <code>1000</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>columns</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="typing.List">List</span>, <span title="typing.Tuple">Tuple</span>, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of column names to include in the batches. If None,
all columns are included.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Yields:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>FlowDataEngine</code> instance for each batch.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1622</span>
<span class="normal">1623</span>
<span class="normal">1624</span>
<span class="normal">1625</span>
<span class="normal">1626</span>
<span class="normal">1627</span>
<span class="normal">1628</span>
<span class="normal">1629</span>
<span class="normal">1630</span>
<span class="normal">1631</span>
<span class="normal">1632</span>
<span class="normal">1633</span>
<span class="normal">1634</span>
<span class="normal">1635</span>
<span class="normal">1636</span>
<span class="normal">1637</span>
<span class="normal">1638</span>
<span class="normal">1639</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">iter_batches</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">batch_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">,</span>
                 <span class="n">columns</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Iterates over the DataFrame in batches.</span>

<span class="sd">    Args:</span>
<span class="sd">        batch_size: The size of each batch.</span>
<span class="sd">        columns: A list of column names to include in the batches. If None,</span>
<span class="sd">            all columns are included.</span>

<span class="sd">    Yields:</span>
<span class="sd">        A `FlowDataEngine` instance for each batch.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">columns</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">columns</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">batches</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">iter_slices</span><span class="p">(</span><span class="n">batch_size</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">batch</span> <span class="ow">in</span> <span class="n">batches</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">batch</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.join" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">join</span><span class="p">(</span><span class="n">join_input</span><span class="p">,</span> <span class="n">auto_generate_selection</span><span class="p">,</span> <span class="n">verify_integrity</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Performs a standard SQL-style join with another DataFrame.</p>
<p>Supports various join types like 'inner', 'left', 'right', 'outer', 'semi', and 'anti'.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>join_input</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            JoinInput


  
      dataclass
   (flowfile_core.schemas.transform_schema.JoinInput)" href="#flowfile_core.schemas.transform_schema.JoinInput">JoinInput</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>JoinInput</code> object defining the join keys, join type,
and column selections.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>auto_generate_selection</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, automatically handles column renaming.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>verify_integrity</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, performs checks to prevent excessively large joins.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>other</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The right <code>FlowDataEngine</code> to join with.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new <code>FlowDataEngine</code> with the joined data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="Exception">Exception</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the join configuration is invalid or if <code>verify_integrity</code>
is True and the join is predicted to be too large.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1739</span>
<span class="normal">1740</span>
<span class="normal">1741</span>
<span class="normal">1742</span>
<span class="normal">1743</span>
<span class="normal">1744</span>
<span class="normal">1745</span>
<span class="normal">1746</span>
<span class="normal">1747</span>
<span class="normal">1748</span>
<span class="normal">1749</span>
<span class="normal">1750</span>
<span class="normal">1751</span>
<span class="normal">1752</span>
<span class="normal">1753</span>
<span class="normal">1754</span>
<span class="normal">1755</span>
<span class="normal">1756</span>
<span class="normal">1757</span>
<span class="normal">1758</span>
<span class="normal">1759</span>
<span class="normal">1760</span>
<span class="normal">1761</span>
<span class="normal">1762</span>
<span class="normal">1763</span>
<span class="normal">1764</span>
<span class="normal">1765</span>
<span class="normal">1766</span>
<span class="normal">1767</span>
<span class="normal">1768</span>
<span class="normal">1769</span>
<span class="normal">1770</span>
<span class="normal">1771</span>
<span class="normal">1772</span>
<span class="normal">1773</span>
<span class="normal">1774</span>
<span class="normal">1775</span>
<span class="normal">1776</span>
<span class="normal">1777</span>
<span class="normal">1778</span>
<span class="normal">1779</span>
<span class="normal">1780</span>
<span class="normal">1781</span>
<span class="normal">1782</span>
<span class="normal">1783</span>
<span class="normal">1784</span>
<span class="normal">1785</span>
<span class="normal">1786</span>
<span class="normal">1787</span>
<span class="normal">1788</span>
<span class="normal">1789</span>
<span class="normal">1790</span>
<span class="normal">1791</span>
<span class="normal">1792</span>
<span class="normal">1793</span>
<span class="normal">1794</span>
<span class="normal">1795</span>
<span class="normal">1796</span>
<span class="normal">1797</span>
<span class="normal">1798</span>
<span class="normal">1799</span>
<span class="normal">1800</span>
<span class="normal">1801</span>
<span class="normal">1802</span>
<span class="normal">1803</span>
<span class="normal">1804</span>
<span class="normal">1805</span>
<span class="normal">1806</span>
<span class="normal">1807</span>
<span class="normal">1808</span>
<span class="normal">1809</span>
<span class="normal">1810</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">join</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">join_input</span><span class="p">:</span> <span class="n">transform_schemas</span><span class="o">.</span><span class="n">JoinInput</span><span class="p">,</span> <span class="n">auto_generate_selection</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
         <span class="n">verify_integrity</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Performs a standard SQL-style join with another DataFrame.</span>

<span class="sd">    Supports various join types like &#39;inner&#39;, &#39;left&#39;, &#39;right&#39;, &#39;outer&#39;, &#39;semi&#39;, and &#39;anti&#39;.</span>

<span class="sd">    Args:</span>
<span class="sd">        join_input: A `JoinInput` object defining the join keys, join type,</span>
<span class="sd">            and column selections.</span>
<span class="sd">        auto_generate_selection: If True, automatically handles column renaming.</span>
<span class="sd">        verify_integrity: If True, performs checks to prevent excessively large joins.</span>
<span class="sd">        other: The right `FlowDataEngine` to join with.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new `FlowDataEngine` with the joined data.</span>

<span class="sd">    Raises:</span>
<span class="sd">        Exception: If the join configuration is invalid or if `verify_integrity`</span>
<span class="sd">            is True and the join is predicted to be too large.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ensure_right_unselect_for_semi_and_anti_joins</span><span class="p">(</span><span class="n">join_input</span><span class="p">)</span>
    <span class="n">verify_join_select_integrity</span><span class="p">(</span><span class="n">join_input</span><span class="p">,</span> <span class="n">left_columns</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">right_columns</span><span class="o">=</span><span class="n">other</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_join_map_integrity</span><span class="p">(</span><span class="n">join_input</span><span class="p">,</span> <span class="n">left_columns</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">,</span> <span class="n">right_columns</span><span class="o">=</span><span class="n">other</span><span class="o">.</span><span class="n">schema</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Join is not valid by the data fields&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">auto_generate_selection</span><span class="p">:</span>
        <span class="n">join_input</span><span class="o">.</span><span class="n">auto_rename</span><span class="p">()</span>
    <span class="n">left</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">get_select_columns</span><span class="p">(</span><span class="n">join_input</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">renames</span><span class="p">))</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">join_input</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">rename_table</span><span class="p">)</span>
    <span class="n">right</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">get_select_columns</span><span class="p">(</span><span class="n">join_input</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">renames</span><span class="p">))</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">join_input</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">rename_table</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">verify_integrity</span> <span class="ow">and</span> <span class="n">join_input</span><span class="o">.</span><span class="n">how</span> <span class="o">!=</span> <span class="s1">&#39;right&#39;</span><span class="p">:</span>
        <span class="n">n_records</span> <span class="o">=</span> <span class="n">get_join_count</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">left_on_keys</span><span class="o">=</span><span class="n">join_input</span><span class="o">.</span><span class="n">left_join_keys</span><span class="p">,</span>
                                   <span class="n">right_on_keys</span><span class="o">=</span><span class="n">join_input</span><span class="o">.</span><span class="n">right_join_keys</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="n">join_input</span><span class="o">.</span><span class="n">how</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">n_records</span> <span class="o">&gt;</span> <span class="mi">1_000_000_000</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Join will result in too many records, ending process&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">n_records</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">reverse_join_key_mapping</span> <span class="o">=</span> <span class="n">_handle_duplication_join_keys</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">join_input</span><span class="p">)</span>
    <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">rename_df_table_for_join</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">join_input</span><span class="o">.</span><span class="n">get_join_key_renames</span><span class="p">())</span>
    <span class="k">if</span> <span class="n">join_input</span><span class="o">.</span><span class="n">how</span> <span class="o">==</span> <span class="s1">&#39;right&#39;</span><span class="p">:</span>
        <span class="n">joined_df</span> <span class="o">=</span> <span class="n">right</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">other</span><span class="o">=</span><span class="n">left</span><span class="p">,</span>
            <span class="n">left_on</span><span class="o">=</span><span class="n">join_input</span><span class="o">.</span><span class="n">right_join_keys</span><span class="p">,</span>
            <span class="n">right_on</span><span class="o">=</span><span class="n">join_input</span><span class="o">.</span><span class="n">left_join_keys</span><span class="p">,</span>
            <span class="n">how</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span>
            <span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">reverse_join_key_mapping</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">joined_df</span> <span class="o">=</span> <span class="n">left</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">other</span><span class="o">=</span><span class="n">right</span><span class="p">,</span>
            <span class="n">left_on</span><span class="o">=</span><span class="n">join_input</span><span class="o">.</span><span class="n">left_join_keys</span><span class="p">,</span>
            <span class="n">right_on</span><span class="o">=</span><span class="n">join_input</span><span class="o">.</span><span class="n">right_join_keys</span><span class="p">,</span>
            <span class="n">how</span><span class="o">=</span><span class="n">join_input</span><span class="o">.</span><span class="n">how</span><span class="p">,</span>
            <span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">reverse_join_key_mapping</span><span class="p">)</span>
    <span class="n">left_cols_to_delete_after</span> <span class="o">=</span> <span class="p">[</span><span class="n">get_col_name_to_delete</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="s1">&#39;left&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">join_input</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">renames</span>
                                 <span class="k">if</span> <span class="ow">not</span> <span class="n">col</span><span class="o">.</span><span class="n">keep</span>
                                 <span class="ow">and</span> <span class="n">col</span><span class="o">.</span><span class="n">is_available</span> <span class="ow">and</span> <span class="n">col</span><span class="o">.</span><span class="n">join_key</span>
                                 <span class="p">]</span>
    <span class="n">right_cols_to_delete_after</span> <span class="o">=</span> <span class="p">[</span><span class="n">get_col_name_to_delete</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">join_input</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">renames</span>
                                  <span class="k">if</span> <span class="ow">not</span> <span class="n">col</span><span class="o">.</span><span class="n">keep</span>
                                  <span class="ow">and</span> <span class="n">col</span><span class="o">.</span><span class="n">is_available</span> <span class="ow">and</span> <span class="n">col</span><span class="o">.</span><span class="n">join_key</span>
                                  <span class="ow">and</span> <span class="n">join_input</span><span class="o">.</span><span class="n">how</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="s2">&quot;inner&quot;</span><span class="p">,</span> <span class="s2">&quot;cross&quot;</span><span class="p">,</span> <span class="s2">&quot;outer&quot;</span><span class="p">)</span>
                                  <span class="p">]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">right_cols_to_delete_after</span> <span class="o">+</span> <span class="n">left_cols_to_delete_after</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">joined_df</span> <span class="o">=</span> <span class="n">joined_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">left_cols_to_delete_after</span> <span class="o">+</span> <span class="n">right_cols_to_delete_after</span><span class="p">)</span>
    <span class="n">undo_join_key_remapping</span> <span class="o">=</span> <span class="n">get_undo_rename_mapping_join</span><span class="p">(</span><span class="n">join_input</span><span class="p">)</span>
    <span class="n">joined_df</span> <span class="o">=</span> <span class="n">joined_df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">undo_join_key_remapping</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">verify_integrity</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">joined_df</span><span class="p">,</span> <span class="n">calculate_schema_stats</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                              <span class="n">number_of_records</span><span class="o">=</span><span class="n">n_records</span><span class="p">,</span> <span class="n">streamable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">fl</span> <span class="o">=</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">joined_df</span><span class="p">,</span> <span class="n">calculate_schema_stats</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                            <span class="n">number_of_records</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">streamable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">fl</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.make_unique" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">make_unique</span><span class="p">(</span><span class="n">unique_input</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Gets the unique rows from the DataFrame.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>unique_input</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            UniqueInput


  
      dataclass
   (flowfile_core.schemas.transform_schema.UniqueInput)" href="#flowfile_core.schemas.transform_schema.UniqueInput">UniqueInput</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>UniqueInput</code> object specifying a subset of columns
to consider for uniqueness and a strategy for keeping rows.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new <code>FlowDataEngine</code> instance with unique rows.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2160</span>
<span class="normal">2161</span>
<span class="normal">2162</span>
<span class="normal">2163</span>
<span class="normal">2164</span>
<span class="normal">2165</span>
<span class="normal">2166</span>
<span class="normal">2167</span>
<span class="normal">2168</span>
<span class="normal">2169</span>
<span class="normal">2170</span>
<span class="normal">2171</span>
<span class="normal">2172</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">make_unique</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">unique_input</span><span class="p">:</span> <span class="n">transform_schemas</span><span class="o">.</span><span class="n">UniqueInput</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets the unique rows from the DataFrame.</span>

<span class="sd">    Args:</span>
<span class="sd">        unique_input: A `UniqueInput` object specifying a subset of columns</span>
<span class="sd">            to consider for uniqueness and a strategy for keeping rows.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new `FlowDataEngine` instance with unique rows.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">unique_input</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">unique_input</span><span class="o">.</span><span class="n">columns</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">unique_input</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">keep</span><span class="o">=</span><span class="n">unique_input</span><span class="o">.</span><span class="n">strategy</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.output" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">output</span><span class="p">(</span><span class="n">output_fs</span><span class="p">,</span> <span class="n">flow_id</span><span class="p">,</span> <span class="n">node_id</span><span class="p">,</span> <span class="n">execute_remote</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Writes the DataFrame to an output file.</p>
<p>Can execute the write operation locally or in a remote worker process.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>output_fs</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            OutputSettings (flowfile_core.schemas.input_schema.OutputSettings)" href="#flowfile_core.schemas.input_schema.OutputSettings">OutputSettings</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An <code>OutputSettings</code> object with details about the output file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>flow_id</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The flow ID for tracking.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>node_id</code>
            </td>
            <td>
                  <code><span title="int">int</span> | <span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The node ID for tracking.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>execute_remote</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, executes the write in a worker process.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The same <code>FlowDataEngine</code> instance for chaining.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2115</span>
<span class="normal">2116</span>
<span class="normal">2117</span>
<span class="normal">2118</span>
<span class="normal">2119</span>
<span class="normal">2120</span>
<span class="normal">2121</span>
<span class="normal">2122</span>
<span class="normal">2123</span>
<span class="normal">2124</span>
<span class="normal">2125</span>
<span class="normal">2126</span>
<span class="normal">2127</span>
<span class="normal">2128</span>
<span class="normal">2129</span>
<span class="normal">2130</span>
<span class="normal">2131</span>
<span class="normal">2132</span>
<span class="normal">2133</span>
<span class="normal">2134</span>
<span class="normal">2135</span>
<span class="normal">2136</span>
<span class="normal">2137</span>
<span class="normal">2138</span>
<span class="normal">2139</span>
<span class="normal">2140</span>
<span class="normal">2141</span>
<span class="normal">2142</span>
<span class="normal">2143</span>
<span class="normal">2144</span>
<span class="normal">2145</span>
<span class="normal">2146</span>
<span class="normal">2147</span>
<span class="normal">2148</span>
<span class="normal">2149</span>
<span class="normal">2150</span>
<span class="normal">2151</span>
<span class="normal">2152</span>
<span class="normal">2153</span>
<span class="normal">2154</span>
<span class="normal">2155</span>
<span class="normal">2156</span>
<span class="normal">2157</span>
<span class="normal">2158</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">output</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output_fs</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">OutputSettings</span><span class="p">,</span> <span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
           <span class="n">execute_remote</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Writes the DataFrame to an output file.</span>

<span class="sd">    Can execute the write operation locally or in a remote worker process.</span>

<span class="sd">    Args:</span>
<span class="sd">        output_fs: An `OutputSettings` object with details about the output file.</span>
<span class="sd">        flow_id: The flow ID for tracking.</span>
<span class="sd">        node_id: The node ID for tracking.</span>
<span class="sd">        execute_remote: If True, executes the write in a worker process.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The same `FlowDataEngine` instance for chaining.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Starting to write output&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">execute_remote</span><span class="p">:</span>
        <span class="n">status</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">write_output</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="p">,</span>
            <span class="n">data_type</span><span class="o">=</span><span class="n">output_fs</span><span class="o">.</span><span class="n">file_type</span><span class="p">,</span>
            <span class="n">path</span><span class="o">=</span><span class="n">output_fs</span><span class="o">.</span><span class="n">abs_file_path</span><span class="p">,</span>
            <span class="n">write_mode</span><span class="o">=</span><span class="n">output_fs</span><span class="o">.</span><span class="n">write_mode</span><span class="p">,</span>
            <span class="n">sheet_name</span><span class="o">=</span><span class="n">output_fs</span><span class="o">.</span><span class="n">output_excel_table</span><span class="o">.</span><span class="n">sheet_name</span><span class="p">,</span>
            <span class="n">delimiter</span><span class="o">=</span><span class="n">output_fs</span><span class="o">.</span><span class="n">output_csv_table</span><span class="o">.</span><span class="n">delimiter</span><span class="p">,</span>
            <span class="n">flow_id</span><span class="o">=</span><span class="n">flow_id</span><span class="p">,</span>
            <span class="n">node_id</span><span class="o">=</span><span class="n">node_id</span>
        <span class="p">)</span>
        <span class="n">tracker</span> <span class="o">=</span> <span class="n">ExternalExecutorTracker</span><span class="p">(</span><span class="n">status</span><span class="p">)</span>
        <span class="n">tracker</span><span class="o">.</span><span class="n">get_result</span><span class="p">()</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Finished writing output&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Starting to write results locally&quot;</span><span class="p">)</span>
        <span class="n">utils</span><span class="o">.</span><span class="n">local_write_output</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="p">,</span>
            <span class="n">data_type</span><span class="o">=</span><span class="n">output_fs</span><span class="o">.</span><span class="n">file_type</span><span class="p">,</span>
            <span class="n">path</span><span class="o">=</span><span class="n">output_fs</span><span class="o">.</span><span class="n">abs_file_path</span><span class="p">,</span>
            <span class="n">write_mode</span><span class="o">=</span><span class="n">output_fs</span><span class="o">.</span><span class="n">write_mode</span><span class="p">,</span>
            <span class="n">sheet_name</span><span class="o">=</span><span class="n">output_fs</span><span class="o">.</span><span class="n">output_excel_table</span><span class="o">.</span><span class="n">sheet_name</span><span class="p">,</span>
            <span class="n">delimiter</span><span class="o">=</span><span class="n">output_fs</span><span class="o">.</span><span class="n">output_csv_table</span><span class="o">.</span><span class="n">delimiter</span><span class="p">,</span>
            <span class="n">flow_id</span><span class="o">=</span><span class="n">flow_id</span><span class="p">,</span>
            <span class="n">node_id</span><span class="o">=</span><span class="n">node_id</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finished writing output&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.reorganize_order" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">reorganize_order</span><span class="p">(</span><span class="n">column_order</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Reorganizes columns into a specified order.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>column_order</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of column names in the desired order.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new <code>FlowDataEngine</code> instance with the columns reordered.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2062</span>
<span class="normal">2063</span>
<span class="normal">2064</span>
<span class="normal">2065</span>
<span class="normal">2066</span>
<span class="normal">2067</span>
<span class="normal">2068</span>
<span class="normal">2069</span>
<span class="normal">2070</span>
<span class="normal">2071</span>
<span class="normal">2072</span>
<span class="normal">2073</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">reorganize_order</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">column_order</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Reorganizes columns into a specified order.</span>

<span class="sd">    Args:</span>
<span class="sd">        column_order: A list of column names in the desired order.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new `FlowDataEngine` instance with the columns reordered.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">column_order</span><span class="p">)</span>
    <span class="n">schema</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">column_order</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">column_name</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span> <span class="n">number_of_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.save" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">save</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">data_type</span><span class="o">=</span><span class="s1">&#39;parquet&#39;</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Saves the DataFrame to a file in a separate thread.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The file path to save to.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>data_type</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The format to save in (e.g., 'parquet', 'csv').</p>
              </div>
            </td>
            <td>
                  <code>&#39;parquet&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="loky.Future">Future</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>loky.Future</code> object representing the asynchronous save operation.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;parquet&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Future</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Saves the DataFrame to a file in a separate thread.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The file path to save to.</span>
<span class="sd">        data_type: The format to save in (e.g., &#39;parquet&#39;, &#39;csv&#39;).</span>

<span class="sd">    Returns:</span>
<span class="sd">        A `loky.Future` object representing the asynchronous save operation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">estimated_size</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_estimated_file_size</span><span class="p">()</span> <span class="o">*</span> <span class="mi">4</span><span class="p">)</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">write_threaded</span><span class="p">(</span><span class="n">_df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">data_type</span><span class="o">=</span><span class="n">data_type</span><span class="p">,</span> <span class="n">estimated_size</span><span class="o">=</span><span class="n">estimated_size</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.select_columns" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">select_columns</span><span class="p">(</span><span class="n">list_select</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Selects a subset of columns from the DataFrame.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>list_select</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="typing.List">List</span>[<span title="str">str</span>], <span title="typing.Tuple">Tuple</span>[<span title="str">str</span>], <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list, tuple, or single string of column names to select.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new <code>FlowDataEngine</code> instance containing only the selected columns.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2020</span>
<span class="normal">2021</span>
<span class="normal">2022</span>
<span class="normal">2023</span>
<span class="normal">2024</span>
<span class="normal">2025</span>
<span class="normal">2026</span>
<span class="normal">2027</span>
<span class="normal">2028</span>
<span class="normal">2029</span>
<span class="normal">2030</span>
<span class="normal">2031</span>
<span class="normal">2032</span>
<span class="normal">2033</span>
<span class="normal">2034</span>
<span class="normal">2035</span>
<span class="normal">2036</span>
<span class="normal">2037</span>
<span class="normal">2038</span>
<span class="normal">2039</span>
<span class="normal">2040</span>
<span class="normal">2041</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">select_columns</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">list_select</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Selects a subset of columns from the DataFrame.</span>

<span class="sd">    Args:</span>
<span class="sd">        list_select: A list, tuple, or single string of column names to select.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new `FlowDataEngine` instance containing only the selected columns.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">list_select</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">list_select</span> <span class="o">=</span> <span class="p">[</span><span class="n">list_select</span><span class="p">]</span>

    <span class="n">idx_to_keep</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">cols_idx</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">list_select</span><span class="p">]</span>
    <span class="n">selects</span> <span class="o">=</span> <span class="p">[</span><span class="n">ls</span> <span class="k">for</span> <span class="n">ls</span><span class="p">,</span> <span class="n">id_to_keep</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">list_select</span><span class="p">,</span> <span class="n">idx_to_keep</span><span class="p">)</span> <span class="k">if</span> <span class="n">id_to_keep</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">]</span>
    <span class="n">new_schema</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">idx_to_keep</span> <span class="k">if</span> <span class="n">i</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">selects</span><span class="p">),</span>
        <span class="n">number_of_records</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_records</span><span class="p">,</span>
        <span class="n">schema</span><span class="o">=</span><span class="n">new_schema</span><span class="p">,</span>
        <span class="n">streamable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_streamable</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.set_streamable" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">set_streamable</span><span class="p">(</span><span class="n">streamable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Sets whether DataFrame operations should be streamable.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2235</span>
<span class="normal">2236</span>
<span class="normal">2237</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_streamable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">streamable</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets whether DataFrame operations should be streamable.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_streamable</span> <span class="o">=</span> <span class="n">streamable</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.solve_graph" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">solve_graph</span><span class="p">(</span><span class="n">graph_solver_input</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Solves a graph problem represented by 'from' and 'to' columns.</p>
<p>This is used for operations like finding connected components in a graph.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>graph_solver_input</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            GraphSolverInput


  
      dataclass
   (flowfile_core.schemas.transform_schema.GraphSolverInput)" href="#flowfile_core.schemas.transform_schema.GraphSolverInput">GraphSolverInput</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>GraphSolverInput</code> object defining the source,
destination, and output column names.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new <code>FlowDataEngine</code> instance with the solved graph data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1812</span>
<span class="normal">1813</span>
<span class="normal">1814</span>
<span class="normal">1815</span>
<span class="normal">1816</span>
<span class="normal">1817</span>
<span class="normal">1818</span>
<span class="normal">1819</span>
<span class="normal">1820</span>
<span class="normal">1821</span>
<span class="normal">1822</span>
<span class="normal">1823</span>
<span class="normal">1824</span>
<span class="normal">1825</span>
<span class="normal">1826</span>
<span class="normal">1827</span>
<span class="normal">1828</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">solve_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">graph_solver_input</span><span class="p">:</span> <span class="n">transform_schemas</span><span class="o">.</span><span class="n">GraphSolverInput</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Solves a graph problem represented by &#39;from&#39; and &#39;to&#39; columns.</span>

<span class="sd">    This is used for operations like finding connected components in a graph.</span>

<span class="sd">    Args:</span>
<span class="sd">        graph_solver_input: A `GraphSolverInput` object defining the source,</span>
<span class="sd">            destination, and output column names.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new `FlowDataEngine` instance with the solved graph data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span>
        <span class="n">graph_solver</span><span class="p">(</span><span class="n">graph_solver_input</span><span class="o">.</span><span class="n">col_from</span><span class="p">,</span> <span class="n">graph_solver_input</span><span class="o">.</span><span class="n">col_to</span><span class="p">)</span>
        <span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="n">graph_solver_input</span><span class="o">.</span><span class="n">output_column_name</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">lf</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.split" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">split</span><span class="p">(</span><span class="n">split_input</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Splits a column's text values into multiple rows based on a delimiter.</p>
<p>This operation is often referred to as "exploding" the DataFrame, as it
increases the number of rows.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>split_input</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            TextToRowsInput


  
      dataclass
   (flowfile_core.schemas.transform_schema.TextToRowsInput)" href="#flowfile_core.schemas.transform_schema.TextToRowsInput">TextToRowsInput</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>TextToRowsInput</code> object specifying the column to split,
the delimiter, and the output column name.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new <code>FlowDataEngine</code> instance with the exploded rows.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">split</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">split_input</span><span class="p">:</span> <span class="n">transform_schemas</span><span class="o">.</span><span class="n">TextToRowsInput</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Splits a column&#39;s text values into multiple rows based on a delimiter.</span>

<span class="sd">    This operation is often referred to as &quot;exploding&quot; the DataFrame, as it</span>
<span class="sd">    increases the number of rows.</span>

<span class="sd">    Args:</span>
<span class="sd">        split_input: A `TextToRowsInput` object specifying the column to split,</span>
<span class="sd">            the delimiter, and the output column name.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new `FlowDataEngine` instance with the exploded rows.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">output_column_name</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">split_input</span><span class="o">.</span><span class="n">output_column_name</span>
        <span class="k">if</span> <span class="n">split_input</span><span class="o">.</span><span class="n">output_column_name</span>
        <span class="k">else</span> <span class="n">split_input</span><span class="o">.</span><span class="n">column_to_split</span>
    <span class="p">)</span>

    <span class="n">split_value</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">split_input</span><span class="o">.</span><span class="n">split_fixed_value</span>
        <span class="k">if</span> <span class="n">split_input</span><span class="o">.</span><span class="n">split_by_fixed_value</span>
        <span class="k">else</span> <span class="n">pl</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="n">split_input</span><span class="o">.</span><span class="n">split_by_column</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="n">df</span> <span class="o">=</span> <span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span>
            <span class="n">pl</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="n">split_input</span><span class="o">.</span><span class="n">column_to_split</span><span class="p">)</span>
            <span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="n">split_value</span><span class="p">)</span>
            <span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="n">output_column_name</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="o">.</span><span class="n">explode</span><span class="p">(</span><span class="n">output_column_name</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.start_fuzzy_join" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">start_fuzzy_join</span><span class="p">(</span><span class="n">fuzzy_match_input</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">file_ref</span><span class="p">,</span> <span class="n">flow_id</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">node_id</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Starts a fuzzy join operation in a background process.</p>
<p>This method prepares the data and initiates the fuzzy matching in a
separate process, returning a tracker object immediately.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>fuzzy_match_input</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            FuzzyMatchInput


  
      dataclass
   (flowfile_core.schemas.transform_schema.FuzzyMatchInput)" href="#flowfile_core.schemas.transform_schema.FuzzyMatchInput">FuzzyMatchInput</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>FuzzyMatchInput</code> object with the matching parameters.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>other</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The right <code>FlowDataEngine</code> to join with.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>file_ref</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A reference string for temporary files.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>flow_id</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The flow ID for tracking.</p>
              </div>
            </td>
            <td>
                  <code>-1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>node_id</code>
            </td>
            <td>
                  <code><span title="int">int</span> | <span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The node ID for tracking.</p>
              </div>
            </td>
            <td>
                  <code>-1</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="flowfile_core.flowfile.flow_data_engine.subprocess_operations.subprocess_operations.ExternalFuzzyMatchFetcher">ExternalFuzzyMatchFetcher</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An <code>ExternalFuzzyMatchFetcher</code> object that can be used to track the</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="flowfile_core.flowfile.flow_data_engine.subprocess_operations.subprocess_operations.ExternalFuzzyMatchFetcher">ExternalFuzzyMatchFetcher</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>progress and retrieve the result of the fuzzy join.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1641</span>
<span class="normal">1642</span>
<span class="normal">1643</span>
<span class="normal">1644</span>
<span class="normal">1645</span>
<span class="normal">1646</span>
<span class="normal">1647</span>
<span class="normal">1648</span>
<span class="normal">1649</span>
<span class="normal">1650</span>
<span class="normal">1651</span>
<span class="normal">1652</span>
<span class="normal">1653</span>
<span class="normal">1654</span>
<span class="normal">1655</span>
<span class="normal">1656</span>
<span class="normal">1657</span>
<span class="normal">1658</span>
<span class="normal">1659</span>
<span class="normal">1660</span>
<span class="normal">1661</span>
<span class="normal">1662</span>
<span class="normal">1663</span>
<span class="normal">1664</span>
<span class="normal">1665</span>
<span class="normal">1666</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">start_fuzzy_join</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fuzzy_match_input</span><span class="p">:</span> <span class="n">transform_schemas</span><span class="o">.</span><span class="n">FuzzyMatchInput</span><span class="p">,</span>
                     <span class="n">other</span><span class="p">:</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">,</span> <span class="n">file_ref</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
                     <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ExternalFuzzyMatchFetcher</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Starts a fuzzy join operation in a background process.</span>

<span class="sd">    This method prepares the data and initiates the fuzzy matching in a</span>
<span class="sd">    separate process, returning a tracker object immediately.</span>

<span class="sd">    Args:</span>
<span class="sd">        fuzzy_match_input: A `FuzzyMatchInput` object with the matching parameters.</span>
<span class="sd">        other: The right `FlowDataEngine` to join with.</span>
<span class="sd">        file_ref: A reference string for temporary files.</span>
<span class="sd">        flow_id: The flow ID for tracking.</span>
<span class="sd">        node_id: The node ID for tracking.</span>

<span class="sd">    Returns:</span>
<span class="sd">        An `ExternalFuzzyMatchFetcher` object that can be used to track the</span>
<span class="sd">        progress and retrieve the result of the fuzzy join.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">left_df</span><span class="p">,</span> <span class="n">right_df</span> <span class="o">=</span> <span class="n">prepare_for_fuzzy_match</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="n">other</span><span class="p">,</span> <span class="n">fuzzy_match_input</span><span class="o">=</span><span class="n">fuzzy_match_input</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ExternalFuzzyMatchFetcher</span><span class="p">(</span><span class="n">left_df</span><span class="p">,</span> <span class="n">right_df</span><span class="p">,</span>
                                     <span class="n">fuzzy_maps</span><span class="o">=</span><span class="n">fuzzy_match_input</span><span class="o">.</span><span class="n">fuzzy_maps</span><span class="p">,</span>
                                     <span class="n">file_ref</span><span class="o">=</span><span class="n">file_ref</span> <span class="o">+</span> <span class="s1">&#39;_fm&#39;</span><span class="p">,</span>
                                     <span class="n">wait_on_completion</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                     <span class="n">flow_id</span><span class="o">=</span><span class="n">flow_id</span><span class="p">,</span>
                                     <span class="n">node_id</span><span class="o">=</span><span class="n">node_id</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.to_arrow" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">to_arrow</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Converts the DataFrame to a PyArrow Table.</p>
<p>This method triggers a <code>.collect()</code> call if the data is lazy,
then converts the resulting eager DataFrame into a <code>pyarrow.Table</code>.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pyarrow.Table">Table</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>pyarrow.Table</code> instance representing the data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">to_arrow</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PaTable</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Converts the DataFrame to a PyArrow Table.</span>

<span class="sd">    This method triggers a `.collect()` call if the data is lazy,</span>
<span class="sd">    then converts the resulting eager DataFrame into a `pyarrow.Table`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A `pyarrow.Table` instance representing the data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">collect</span><span class="p">(</span><span class="n">engine</span><span class="o">=</span><span class="s2">&quot;streaming&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_streamable</span> <span class="k">else</span> <span class="s2">&quot;auto&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to_arrow</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">to_arrow</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.to_cloud_storage_obj" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">to_cloud_storage_obj</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Writes the DataFrame to an object in cloud storage.</p>
<p>This method supports writing to various cloud storage providers like AWS S3,
Azure Data Lake Storage, and Google Cloud Storage.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>settings</code>
            </td>
            <td>
                  <code><span title="flowfile_core.schemas.cloud_storage_schemas.CloudStorageWriteSettingsInternal">CloudStorageWriteSettingsInternal</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>CloudStorageWriteSettingsInternal</code> object containing connection
details, file format, and write options.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the specified file format is not supported for writing.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="NotImplementedError">NotImplementedError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the 'append' write mode is used with an unsupported format.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="Exception">Exception</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the write operation to cloud storage fails for any reason.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">to_cloud_storage_obj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">settings</span><span class="p">:</span> <span class="n">cloud_storage_schemas</span><span class="o">.</span><span class="n">CloudStorageWriteSettingsInternal</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Writes the DataFrame to an object in cloud storage.</span>

<span class="sd">    This method supports writing to various cloud storage providers like AWS S3,</span>
<span class="sd">    Azure Data Lake Storage, and Google Cloud Storage.</span>

<span class="sd">    Args:</span>
<span class="sd">        settings: A `CloudStorageWriteSettingsInternal` object containing connection</span>
<span class="sd">            details, file format, and write options.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the specified file format is not supported for writing.</span>
<span class="sd">        NotImplementedError: If the &#39;append&#39; write mode is used with an unsupported format.</span>
<span class="sd">        Exception: If the write operation to cloud storage fails for any reason.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">connection</span>
    <span class="n">write_settings</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">write_settings</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Writing to </span><span class="si">{</span><span class="n">connection</span><span class="o">.</span><span class="n">storage_type</span><span class="si">}</span><span class="s2"> storage: </span><span class="si">{</span><span class="n">write_settings</span><span class="o">.</span><span class="n">resource_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">write_settings</span><span class="o">.</span><span class="n">write_mode</span> <span class="o">==</span> <span class="s1">&#39;append&#39;</span> <span class="ow">and</span> <span class="n">write_settings</span><span class="o">.</span><span class="n">file_format</span> <span class="o">!=</span> <span class="s2">&quot;delta&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;The &#39;append&#39; write mode is not yet supported for this destination.&quot;</span><span class="p">)</span>
    <span class="n">storage_options</span> <span class="o">=</span> <span class="n">CloudStorageReader</span><span class="o">.</span><span class="n">get_storage_options</span><span class="p">(</span><span class="n">connection</span><span class="p">)</span>
    <span class="n">credential_provider</span> <span class="o">=</span> <span class="n">CloudStorageReader</span><span class="o">.</span><span class="n">get_credential_provider</span><span class="p">(</span><span class="n">connection</span><span class="p">)</span>
    <span class="c1"># Dispatch to the correct writer based on file format</span>
    <span class="k">if</span> <span class="n">write_settings</span><span class="o">.</span><span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;parquet&quot;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_write_parquet_to_cloud</span><span class="p">(</span>
            <span class="n">write_settings</span><span class="o">.</span><span class="n">resource_path</span><span class="p">,</span>
            <span class="n">storage_options</span><span class="p">,</span>
            <span class="n">credential_provider</span><span class="p">,</span>
            <span class="n">write_settings</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="n">write_settings</span><span class="o">.</span><span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;delta&quot;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_write_delta_to_cloud</span><span class="p">(</span>
            <span class="n">write_settings</span><span class="o">.</span><span class="n">resource_path</span><span class="p">,</span>
            <span class="n">storage_options</span><span class="p">,</span>
            <span class="n">credential_provider</span><span class="p">,</span>
            <span class="n">write_settings</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="n">write_settings</span><span class="o">.</span><span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;csv&quot;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_write_csv_to_cloud</span><span class="p">(</span>
            <span class="n">write_settings</span><span class="o">.</span><span class="n">resource_path</span><span class="p">,</span>
            <span class="n">storage_options</span><span class="p">,</span>
            <span class="n">credential_provider</span><span class="p">,</span>
            <span class="n">write_settings</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="n">write_settings</span><span class="o">.</span><span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;json&quot;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_write_json_to_cloud</span><span class="p">(</span>
            <span class="n">write_settings</span><span class="o">.</span><span class="n">resource_path</span><span class="p">,</span>
            <span class="n">storage_options</span><span class="p">,</span>
            <span class="n">credential_provider</span><span class="p">,</span>
            <span class="n">write_settings</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unsupported file format for writing: </span><span class="si">{</span><span class="n">write_settings</span><span class="o">.</span><span class="n">file_format</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Successfully wrote data to </span><span class="si">{</span><span class="n">write_settings</span><span class="o">.</span><span class="n">resource_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.to_dict" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">to_dict</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Converts the DataFrame to a Python dictionary of columns.</p>
<p>Each key in the dictionary is a column name, and the corresponding value
is a list of the data in that column.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.List">List</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary mapping column names to lists of their values.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Converts the DataFrame to a Python dictionary of columns.</span>

<span class="sd">     Each key in the dictionary is a column name, and the corresponding value</span>
<span class="sd">     is a list of the data in that column.</span>

<span class="sd">     Returns:</span>
<span class="sd">         A dictionary mapping column names to lists of their values.</span>
<span class="sd">     &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">collect</span><span class="p">(</span><span class="n">engine</span><span class="o">=</span><span class="s2">&quot;streaming&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_streamable</span> <span class="k">else</span> <span class="s2">&quot;auto&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="n">as_series</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="n">as_series</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.to_pylist" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">to_pylist</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Converts the DataFrame to a list of Python dictionaries.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="typing.Dict">Dict</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list where each item is a dictionary representing a row.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">to_pylist</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Converts the DataFrame to a list of Python dictionaries.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list where each item is a dictionary representing a row.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lazy</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">collect</span><span class="p">(</span><span class="n">engine</span><span class="o">=</span><span class="s2">&quot;streaming&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_streamable</span> <span class="k">else</span> <span class="s2">&quot;auto&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to_dicts</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span><span class="o">.</span><span class="n">to_dicts</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.to_raw_data" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">to_raw_data</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Converts the DataFrame to a <code>RawData</code> schema object.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            RawData (flowfile_core.schemas.input_schema.RawData)" href="#flowfile_core.schemas.input_schema.RawData">RawData</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An <code>input_schema.RawData</code> object containing the schema and data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">to_raw_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">RawData</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Converts the DataFrame to a `RawData` schema object.</span>

<span class="sd">    Returns:</span>
<span class="sd">        An `input_schema.RawData` object containing the schema and data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">get_minimal_field_info</span><span class="p">()</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">]</span>
    <span class="n">data</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">RawData</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine.unpivot" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">unpivot</span><span class="p">(</span><span class="n">unpivot_input</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Converts the DataFrame from a wide to a long format.</p>
<p>This is the inverse of a pivot operation, taking columns and transforming
them into <code>variable</code> and <code>value</code> rows.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>unpivot_input</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            UnpivotInput


  
      dataclass
   (flowfile_core.schemas.transform_schema.UnpivotInput)" href="#flowfile_core.schemas.transform_schema.UnpivotInput">UnpivotInput</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An <code>UnpivotInput</code> object specifying which columns to
unpivot and which to keep as index columns.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine


  
      dataclass
  " href="#flowfile_core.flowfile.flow_data_engine.flow_data_engine.FlowDataEngine">FlowDataEngine</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new, unpivoted <code>FlowDataEngine</code> instance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_data_engine.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">unpivot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">unpivot_input</span><span class="p">:</span> <span class="n">transform_schemas</span><span class="o">.</span><span class="n">UnpivotInput</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowDataEngine&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Converts the DataFrame from a wide to a long format.</span>

<span class="sd">    This is the inverse of a pivot operation, taking columns and transforming</span>
<span class="sd">    them into `variable` and `value` rows.</span>

<span class="sd">    Args:</span>
<span class="sd">        unpivot_input: An `UnpivotInput` object specifying which columns to</span>
<span class="sd">            unpivot and which to keep as index columns.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new, unpivoted `FlowDataEngine` instance.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_frame</span>

    <span class="k">if</span> <span class="n">unpivot_input</span><span class="o">.</span><span class="n">data_type_selector_expr</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">lf</span><span class="o">.</span><span class="n">unpivot</span><span class="p">(</span>
            <span class="n">on</span><span class="o">=</span><span class="n">unpivot_input</span><span class="o">.</span><span class="n">data_type_selector_expr</span><span class="p">(),</span>
            <span class="n">index</span><span class="o">=</span><span class="n">unpivot_input</span><span class="o">.</span><span class="n">index_columns</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="n">unpivot_input</span><span class="o">.</span><span class="n">value_columns</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">lf</span><span class="o">.</span><span class="n">unpivot</span><span class="p">(</span>
            <span class="n">on</span><span class="o">=</span><span class="n">unpivot_input</span><span class="o">.</span><span class="n">value_columns</span><span class="p">,</span>
            <span class="n">index</span><span class="o">=</span><span class="n">unpivot_input</span><span class="o">.</span><span class="n">index_columns</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">lf</span><span class="o">.</span><span class="n">unpivot</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">FlowDataEngine</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h4 id="flowfilecolumn">FlowfileColumn</h4>
<h3 id="flowfilecolumn_1"><code>FlowfileColumn</code></h3>
<p>The <code>FlowfileColumn</code> is a data class that holds the schema and rich metadata for a single column managed by the <code>FlowDataEngine</code>.</p>


<div class="doc doc-object doc-class">



<h5 id="flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h5>


    <div class="doc doc-contents first">













<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            __repr__() (flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn.__repr__)" href="#flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn.__repr__">__repr__</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Provides a concise, developer-friendly representation of the object.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            __str__() (flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn.__str__)" href="#flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn.__str__">__str__</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Provides a detailed, readable summary of the column's metadata.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>



              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_file_column/main.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">FlowfileColumn</span><span class="p">:</span>
    <span class="n">column_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">size</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">max_value</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">min_value</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">col_index</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">number_of_empty_values</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">number_of_unique_values</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">example_values</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">data_type_group</span><span class="p">:</span> <span class="n">ReadableDataTypeGroup</span>
    <span class="n">__sql_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span>
    <span class="n">__is_unique</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
    <span class="n">__nullable</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
    <span class="n">__has_values</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
    <span class="n">average_value</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">__perc_unique</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">polars_type</span><span class="p">:</span> <span class="n">PlType</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_type</span> <span class="o">=</span> <span class="n">convert_pl_type_to_string</span><span class="p">(</span><span class="n">polars_type</span><span class="o">.</span><span class="n">pl_datatype</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">polars_type</span><span class="o">.</span><span class="n">count</span> <span class="o">-</span> <span class="n">polars_type</span><span class="o">.</span><span class="n">null_count</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_value</span> <span class="o">=</span> <span class="n">polars_type</span><span class="o">.</span><span class="n">max</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_value</span> <span class="o">=</span> <span class="n">polars_type</span><span class="o">.</span><span class="n">min</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_unique_values</span> <span class="o">=</span> <span class="n">polars_type</span><span class="o">.</span><span class="n">n_unique</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_of_empty_values</span> <span class="o">=</span> <span class="n">polars_type</span><span class="o">.</span><span class="n">null_count</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">example_values</span> <span class="o">=</span> <span class="n">polars_type</span><span class="o">.</span><span class="n">examples</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">column_name</span> <span class="o">=</span> <span class="n">polars_type</span><span class="o">.</span><span class="n">column_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">average_value</span> <span class="o">=</span> <span class="n">polars_type</span><span class="o">.</span><span class="n">mean</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">col_index</span> <span class="o">=</span> <span class="n">polars_type</span><span class="o">.</span><span class="n">col_index</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__has_values</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__nullable</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__is_unique</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__sql_type</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__perc_unique</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_type_group</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_readable_datatype_group</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Provides a concise, developer-friendly representation of the object.</span>
<span class="sd">        Ideal for debugging and console inspection.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="sa">f</span><span class="s2">&quot;FlowfileColumn(name=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">column_name</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;type=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">data_type</span><span class="si">}</span><span class="s2">, &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;size=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="si">}</span><span class="s2">, &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;nulls=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_empty_values</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Provides a detailed, readable summary of the column&#39;s metadata.</span>
<span class="sd">        It conditionally omits any attribute that is None, ensuring a clean output.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># --- Header (Always Shown) ---</span>
        <span class="n">header</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&lt;FlowfileColumn: &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">column_name</span><span class="si">}</span><span class="s2">&#39;&gt;&quot;</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># --- Core Attributes (Conditionally Shown) ---</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Type: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">data_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Non-Nulls: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Calculate and display nulls if possible</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_empty_values</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">total_entries</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_empty_values</span>
            <span class="k">if</span> <span class="n">total_entries</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">null_perc</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_empty_values</span> <span class="o">/</span> <span class="n">total_entries</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
                <span class="n">null_info</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_empty_values</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">null_perc</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%)&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">null_info</span> <span class="o">=</span> <span class="s2">&quot;0 (0.0%)&quot;</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Nulls: </span><span class="si">{</span><span class="n">null_info</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_unique_values</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Unique: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_unique_values</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># --- Conditional Stats Section ---</span>
        <span class="n">stats</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">stats</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;    Min: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">stats</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;    Max: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">max_value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">average_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">stats</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;    Mean: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">average_value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">stats</span><span class="p">:</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;  Stats:&quot;</span><span class="p">)</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">stats</span><span class="p">)</span>

        <span class="c1"># --- Conditional Examples Section ---</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">example_values</span><span class="p">:</span>
            <span class="n">example_str</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">example_values</span><span class="p">)</span>
            <span class="c1"># Truncate long example strings for cleaner display</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">example_str</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">70</span><span class="p">:</span>
                <span class="n">example_str</span> <span class="o">=</span> <span class="n">example_str</span><span class="p">[:</span><span class="mi">67</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;...&#39;</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Examples: </span><span class="si">{</span><span class="n">example_str</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">header</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">create_from_polars_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">polars_type</span><span class="p">:</span> <span class="n">PlType</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowfileColumn&quot;</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">polars_type</span><span class="p">,</span> <span class="n">k</span><span class="p">):</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="n">polars_type</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">polars_type</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_input</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">column_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowfileColumn&quot;</span><span class="p">:</span>
        <span class="n">pl_type</span> <span class="o">=</span> <span class="n">cast_str_to_polars_type</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">pl_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data_type</span> <span class="o">=</span> <span class="n">pl_type</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">PlType</span><span class="p">(</span><span class="n">column_name</span><span class="o">=</span><span class="n">column_name</span><span class="p">,</span> <span class="n">pl_datatype</span><span class="o">=</span><span class="n">data_type</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">create_from_polars_dtype</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">column_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataType</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">PlType</span><span class="p">(</span><span class="n">column_name</span><span class="o">=</span><span class="n">column_name</span><span class="p">,</span> <span class="n">pl_datatype</span><span class="o">=</span><span class="n">data_type</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_minimal_field_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">MinimalFieldInfo</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">MinimalFieldInfo</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">column_name</span><span class="p">,</span> <span class="n">data_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data_type</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">create_from_minimal_field_info</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">minimal_field_info</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">MinimalFieldInfo</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlowfileColumn&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_input</span><span class="p">(</span><span class="n">column_name</span><span class="o">=</span><span class="n">minimal_field_info</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                              <span class="n">data_type</span><span class="o">=</span><span class="n">minimal_field_info</span><span class="o">.</span><span class="n">data_type</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">is_unique</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__is_unique</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_values</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__is_unique</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_unique_values</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_filled_values</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__is_unique</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__is_unique</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">perc_unique</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__perc_unique</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__perc_unique</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_unique_values</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_filled_values</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__perc_unique</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">has_values</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__has_values</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__has_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_unique_values</span> <span class="o">&gt;</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__has_values</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">number_of_filled_values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">nullable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nullable</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__nullable</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_empty_values</span> <span class="o">&gt;</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__nullable</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">column_name</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_column_repr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
                    <span class="n">data_type</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_type</span><span class="p">),</span>
                    <span class="n">has_values</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">has_values</span><span class="p">,</span>
                    <span class="n">is_unique</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">is_unique</span><span class="p">,</span>
                    <span class="n">max_value</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_value</span><span class="p">),</span>
                    <span class="n">min_value</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">min_value</span><span class="p">),</span>
                    <span class="n">number_of_unique_values</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_unique_values</span><span class="p">,</span>
                    <span class="n">number_of_filled_values</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_filled_values</span><span class="p">,</span>
                    <span class="n">number_of_empty_values</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_empty_values</span><span class="p">,</span>
                    <span class="n">average_size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">average_value</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">generic_datatype</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DataTypeGroup</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_type</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;Utf8&#39;</span><span class="p">,</span> <span class="s1">&#39;VARCHAR&#39;</span><span class="p">,</span> <span class="s1">&#39;CHAR&#39;</span><span class="p">,</span> <span class="s1">&#39;NVARCHAR&#39;</span><span class="p">,</span> <span class="s1">&#39;String&#39;</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;str&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_type</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;fixed_decimal&#39;</span><span class="p">,</span> <span class="s1">&#39;decimal&#39;</span><span class="p">,</span> <span class="s1">&#39;float&#39;</span><span class="p">,</span> <span class="s1">&#39;integer&#39;</span><span class="p">,</span> <span class="s1">&#39;boolean&#39;</span><span class="p">,</span> <span class="s1">&#39;double&#39;</span><span class="p">,</span> <span class="s1">&#39;Int16&#39;</span><span class="p">,</span> <span class="s1">&#39;Int32&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;Int64&#39;</span><span class="p">,</span> <span class="s1">&#39;Float32&#39;</span><span class="p">,</span> <span class="s1">&#39;Float64&#39;</span><span class="p">,</span> <span class="s1">&#39;Decimal&#39;</span><span class="p">,</span> <span class="s1">&#39;Binary&#39;</span><span class="p">,</span> <span class="s1">&#39;Boolean&#39;</span><span class="p">,</span> <span class="s1">&#39;Uint8&#39;</span><span class="p">,</span> <span class="s1">&#39;Uint16&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;Uint32&#39;</span><span class="p">,</span> <span class="s1">&#39;Uint64&#39;</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;numeric&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_type</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;datetime&#39;</span><span class="p">,</span> <span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="s1">&#39;Datetime&#39;</span><span class="p">,</span> <span class="s1">&#39;Time&#39;</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;date&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;str&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_readable_datatype_group</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ReadableDataTypeGroup</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_type</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;Utf8&#39;</span><span class="p">,</span> <span class="s1">&#39;VARCHAR&#39;</span><span class="p">,</span> <span class="s1">&#39;CHAR&#39;</span><span class="p">,</span> <span class="s1">&#39;NVARCHAR&#39;</span><span class="p">,</span> <span class="s1">&#39;String&#39;</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;String&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_type</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;fixed_decimal&#39;</span><span class="p">,</span> <span class="s1">&#39;decimal&#39;</span><span class="p">,</span> <span class="s1">&#39;float&#39;</span><span class="p">,</span> <span class="s1">&#39;integer&#39;</span><span class="p">,</span> <span class="s1">&#39;boolean&#39;</span><span class="p">,</span> <span class="s1">&#39;double&#39;</span><span class="p">,</span> <span class="s1">&#39;Int16&#39;</span><span class="p">,</span> <span class="s1">&#39;Int32&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;Int64&#39;</span><span class="p">,</span> <span class="s1">&#39;Float32&#39;</span><span class="p">,</span> <span class="s1">&#39;Float64&#39;</span><span class="p">,</span> <span class="s1">&#39;Decimal&#39;</span><span class="p">,</span> <span class="s1">&#39;Binary&#39;</span><span class="p">,</span> <span class="s1">&#39;Boolean&#39;</span><span class="p">,</span> <span class="s1">&#39;Uint8&#39;</span><span class="p">,</span> <span class="s1">&#39;Uint16&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;Uint32&#39;</span><span class="p">,</span> <span class="s1">&#39;Uint64&#39;</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;Numeric&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_type</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;datetime&#39;</span><span class="p">,</span> <span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="s1">&#39;Datetime&#39;</span><span class="p">,</span> <span class="s1">&#39;Time&#39;</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;Date&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;Other&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_polars_type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PlType</span><span class="p">:</span>
        <span class="n">pl_datatype</span> <span class="o">=</span> <span class="n">cast_str_to_polars_type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_type</span><span class="p">)</span>
        <span class="n">pl_type</span> <span class="o">=</span> <span class="n">PlType</span><span class="p">(</span><span class="n">pl_datatype</span><span class="o">=</span><span class="n">pl_datatype</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">pl_type</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">update_type_from_polars_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pl_type</span><span class="p">:</span> <span class="n">PlType</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_type</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">pl_type</span><span class="o">.</span><span class="n">pl_datatype</span><span class="o">.</span><span class="n">base_type</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h6 id="flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn.__repr__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="fm">__repr__</span><span class="p">()</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Provides a concise, developer-friendly representation of the object.
Ideal for debugging and console inspection.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_file_column/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Provides a concise, developer-friendly representation of the object.</span>
<span class="sd">    Ideal for debugging and console inspection.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">(</span><span class="sa">f</span><span class="s2">&quot;FlowfileColumn(name=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">column_name</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;type=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">data_type</span><span class="si">}</span><span class="s2">, &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;size=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="si">}</span><span class="s2">, &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;nulls=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_empty_values</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="flowfile_core.flowfile.flow_data_engine.flow_file_column.main.FlowfileColumn.__str__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="fm">__str__</span><span class="p">()</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Provides a detailed, readable summary of the column's metadata.
It conditionally omits any attribute that is None, ensuring a clean output.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/flowfile/flow_data_engine/flow_file_column/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Provides a detailed, readable summary of the column&#39;s metadata.</span>
<span class="sd">    It conditionally omits any attribute that is None, ensuring a clean output.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># --- Header (Always Shown) ---</span>
    <span class="n">header</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&lt;FlowfileColumn: &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">column_name</span><span class="si">}</span><span class="s2">&#39;&gt;&quot;</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># --- Core Attributes (Conditionally Shown) ---</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Type: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">data_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Non-Nulls: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Calculate and display nulls if possible</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_empty_values</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">total_entries</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_empty_values</span>
        <span class="k">if</span> <span class="n">total_entries</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">null_perc</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_empty_values</span> <span class="o">/</span> <span class="n">total_entries</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
            <span class="n">null_info</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_empty_values</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">null_perc</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%)&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">null_info</span> <span class="o">=</span> <span class="s2">&quot;0 (0.0%)&quot;</span>
        <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Nulls: </span><span class="si">{</span><span class="n">null_info</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_unique_values</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Unique: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">number_of_unique_values</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># --- Conditional Stats Section ---</span>
    <span class="n">stats</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">stats</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;    Min: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">stats</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;    Max: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">max_value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">average_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">stats</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;    Mean: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">average_value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">stats</span><span class="p">:</span>
        <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;  Stats:&quot;</span><span class="p">)</span>
        <span class="n">lines</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">stats</span><span class="p">)</span>

    <span class="c1"># --- Conditional Examples Section ---</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">example_values</span><span class="p">:</span>
        <span class="n">example_str</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">example_values</span><span class="p">)</span>
        <span class="c1"># Truncate long example strings for cleaner display</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">example_str</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">70</span><span class="p">:</span>
            <span class="n">example_str</span> <span class="o">=</span> <span class="n">example_str</span><span class="p">[:</span><span class="mi">67</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;...&#39;</span>
        <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Examples: </span><span class="si">{</span><span class="n">example_str</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">header</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><hr />
<h2 id="data-modeling-schemas">Data Modeling (Schemas)</h2>
<p>This section documents the Pydantic models that define the structure of settings and data.</p>
<h3 id="schemas"><code>schemas</code></h3>


<div class="doc doc-object doc-module">



<h4 id="flowfile_core.schemas.schemas" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <code>flowfile_core.schemas.schemas</code>


</h4>

    <div class="doc doc-contents first">










<p><span class="doc-section-title">Classes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            FlowGraphConfig (flowfile_core.schemas.schemas.FlowGraphConfig)" href="#flowfile_core.schemas.schemas.FlowGraphConfig">FlowGraphConfig</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Configuration model for a flow graph's basic properties.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            FlowInformation (flowfile_core.schemas.schemas.FlowInformation)" href="#flowfile_core.schemas.schemas.FlowInformation">FlowInformation</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Represents the complete state of a flow, including settings, nodes, and connections.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            FlowSettings (flowfile_core.schemas.schemas.FlowSettings)" href="#flowfile_core.schemas.schemas.FlowSettings">FlowSettings</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Extends FlowGraphConfig with additional operational settings for a flow.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeDefault (flowfile_core.schemas.schemas.NodeDefault)" href="#flowfile_core.schemas.schemas.NodeDefault">NodeDefault</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Defines default properties for a node type.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeEdge (flowfile_core.schemas.schemas.NodeEdge)" href="#flowfile_core.schemas.schemas.NodeEdge">NodeEdge</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Represents a connection (edge) between two nodes in the frontend.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeInformation (flowfile_core.schemas.schemas.NodeInformation)" href="#flowfile_core.schemas.schemas.NodeInformation">NodeInformation</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Stores the state and configuration of a specific node instance within a flow.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeInput (flowfile_core.schemas.schemas.NodeInput)" href="#flowfile_core.schemas.schemas.NodeInput">NodeInput</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Represents a node as it is received from the frontend, including position.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeTemplate (flowfile_core.schemas.schemas.NodeTemplate)" href="#flowfile_core.schemas.schemas.NodeTemplate">NodeTemplate</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Defines the template for a node type, specifying its UI and functional characteristics.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            RawLogInput (flowfile_core.schemas.schemas.RawLogInput)" href="#flowfile_core.schemas.schemas.RawLogInput">RawLogInput</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Schema for a raw log message.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            VueFlowInput (flowfile_core.schemas.schemas.VueFlowInput)" href="#flowfile_core.schemas.schemas.VueFlowInput">VueFlowInput</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Represents the complete graph structure from the Vue-based frontend.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>




<p><span class="doc-section-title">Functions:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_global_execution_location() (flowfile_core.schemas.schemas.get_global_execution_location)" href="#flowfile_core.schemas.schemas.get_global_execution_location">get_global_execution_location</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Calculates the default execution location based on the global settings</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>





  <div class="doc doc-children">









<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.schemas.FlowGraphConfig" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>FlowGraphConfig</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Configuration model for a flow graph's basic properties.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.FlowGraphConfig.flow_id">flow_id</span></code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Unique identifier for the flow.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.FlowGraphConfig.description">description</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A description of the flow.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.FlowGraphConfig.save_location">save_location</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The location where the flow is saved.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.FlowGraphConfig.name">name</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the flow.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.FlowGraphConfig.path">path</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The file path associated with the flow.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.FlowGraphConfig.execution_mode">execution_mode</span></code></td>
            <td>
                  <code><span title="flowfile_core.schemas.schemas.ExecutionModeLiteral">ExecutionModeLiteral</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The mode of execution ('Development' or 'Performance').</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.FlowGraphConfig.execution_location">execution_location</span></code></td>
            <td>
                  <code><span title="flowfile_core.schemas.schemas.ExecutionLocationsLiteral">ExecutionLocationsLiteral</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The location for execution ('local', 'remote').</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>












<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            validate_and_set_execution_location(v) (flowfile_core.schemas.schemas.FlowGraphConfig.validate_and_set_execution_location)" href="#flowfile_core.schemas.schemas.FlowGraphConfig.validate_and_set_execution_location">validate_and_set_execution_location</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Validates and sets the execution location.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>



              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/schemas.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">FlowGraphConfig</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Configuration model for a flow graph&#39;s basic properties.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        flow_id (int): Unique identifier for the flow.</span>
<span class="sd">        description (Optional[str]): A description of the flow.</span>
<span class="sd">        save_location (Optional[str]): The location where the flow is saved.</span>
<span class="sd">        name (str): The name of the flow.</span>
<span class="sd">        path (str): The file path associated with the flow.</span>
<span class="sd">        execution_mode (ExecutionModeLiteral): The mode of execution (&#39;Development&#39; or &#39;Performance&#39;).</span>
<span class="sd">        execution_location (ExecutionLocationsLiteral): The location for execution (&#39;local&#39;, &#39;remote&#39;).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="n">create_unique_id</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Unique identifier for the flow.&quot;</span><span class="p">)</span>
    <span class="n">description</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">save_location</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="n">path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="n">execution_mode</span><span class="p">:</span> <span class="n">ExecutionModeLiteral</span> <span class="o">=</span> <span class="s1">&#39;Performance&#39;</span>
    <span class="n">execution_location</span><span class="p">:</span> <span class="n">ExecutionLocationsLiteral</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="n">get_global_execution_location</span><span class="p">)</span>

    <span class="nd">@field_validator</span><span class="p">(</span><span class="s1">&#39;execution_location&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;before&#39;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">validate_and_set_execution_location</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ExecutionLocationsLiteral</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">ExecutionLocationsLiteral</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validates and sets the execution location.</span>
<span class="sd">        1.  **If `None` is provided**: It defaults to the location determined by global settings.</span>
<span class="sd">        2.  **If a value is provided**: It checks if the value is compatible with the global</span>
<span class="sd">            settings. If not (e.g., requesting &#39;remote&#39; when only &#39;local&#39; is possible),</span>
<span class="sd">            it corrects the value to a compatible one.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">get_global_execution_location</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">v</span> <span class="o">==</span> <span class="s2">&quot;auto&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">get_global_execution_location</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">get_prio_execution_location</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">get_global_execution_location</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.schemas.FlowGraphConfig.validate_and_set_execution_location" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">validate_and_set_execution_location</span><span class="p">(</span><span class="n">v</span><span class="p">)</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Validates and sets the execution location.
1.  <strong>If <code>None</code> is provided</strong>: It defaults to the location determined by global settings.
2.  <strong>If a value is provided</strong>: It checks if the value is compatible with the global
    settings. If not (e.g., requesting 'remote' when only 'local' is possible),
    it corrects the value to a compatible one.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/schemas.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@field_validator</span><span class="p">(</span><span class="s1">&#39;execution_location&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;before&#39;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">validate_and_set_execution_location</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ExecutionLocationsLiteral</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">ExecutionLocationsLiteral</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Validates and sets the execution location.</span>
<span class="sd">    1.  **If `None` is provided**: It defaults to the location determined by global settings.</span>
<span class="sd">    2.  **If a value is provided**: It checks if the value is compatible with the global</span>
<span class="sd">        settings. If not (e.g., requesting &#39;remote&#39; when only &#39;local&#39; is possible),</span>
<span class="sd">        it corrects the value to a compatible one.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">get_global_execution_location</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">v</span> <span class="o">==</span> <span class="s2">&quot;auto&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">get_global_execution_location</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">get_prio_execution_location</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">get_global_execution_location</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.schemas.FlowInformation" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>FlowInformation</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Represents the complete state of a flow, including settings, nodes, and connections.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.FlowInformation.flow_id">flow_id</span></code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The unique ID of the flow.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.FlowInformation.flow_name">flow_name</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the flow.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.FlowInformation.flow_settings">flow_settings</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            FlowSettings (flowfile_core.schemas.schemas.FlowSettings)" href="#flowfile_core.schemas.schemas.FlowSettings">FlowSettings</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings for the flow.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.FlowInformation.data">data</span></code></td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="int">int</span>, <a class="autorefs autorefs-internal" title="            NodeInformation (flowfile_core.schemas.schemas.NodeInformation)" href="#flowfile_core.schemas.schemas.NodeInformation">NodeInformation</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary mapping node IDs to their information.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.FlowInformation.node_starts">node_starts</span></code></td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of starting node IDs.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.FlowInformation.node_connections">node_connections</span></code></td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="typing.Tuple">Tuple</span>[<span title="int">int</span>, <span title="int">int</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of tuples representing connections between nodes.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>












<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            ensure_string(v) (flowfile_core.schemas.schemas.FlowInformation.ensure_string)" href="#flowfile_core.schemas.schemas.FlowInformation.ensure_string">ensure_string</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Validator to ensure the flow_name is always a string.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>



              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/schemas.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">FlowInformation</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents the complete state of a flow, including settings, nodes, and connections.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        flow_id (int): The unique ID of the flow.</span>
<span class="sd">        flow_name (Optional[str]): The name of the flow.</span>
<span class="sd">        flow_settings (FlowSettings): The settings for the flow.</span>
<span class="sd">        data (Dict[int, NodeInformation]): A dictionary mapping node IDs to their information.</span>
<span class="sd">        node_starts (List[int]): A list of starting node IDs.</span>
<span class="sd">        node_connections (List[Tuple[int, int]]): A list of tuples representing connections between nodes.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">flow_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="n">flow_settings</span><span class="p">:</span> <span class="n">FlowSettings</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">NodeInformation</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">node_starts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
    <span class="n">node_connections</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="nd">@field_validator</span><span class="p">(</span><span class="s1">&#39;flow_name&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">ensure_string</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validator to ensure the flow_name is always a string.</span>
<span class="sd">        :param v: The value to validate.</span>
<span class="sd">        :return: The value as a string, or an empty string if it&#39;s None.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.schemas.FlowInformation.ensure_string" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">ensure_string</span><span class="p">(</span><span class="n">v</span><span class="p">)</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Validator to ensure the flow_name is always a string.
:param v: The value to validate.
:return: The value as a string, or an empty string if it's None.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/schemas.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@field_validator</span><span class="p">(</span><span class="s1">&#39;flow_name&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">ensure_string</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Validator to ensure the flow_name is always a string.</span>
<span class="sd">    :param v: The value to validate.</span>
<span class="sd">    :return: The value as a string, or an empty string if it&#39;s None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.schemas.FlowSettings" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>FlowSettings</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            FlowGraphConfig (flowfile_core.schemas.schemas.FlowGraphConfig)" href="#flowfile_core.schemas.schemas.FlowGraphConfig">FlowGraphConfig</a></code></p>


        <p>Extends FlowGraphConfig with additional operational settings for a flow.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.FlowSettings.auto_save">auto_save</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Flag to enable or disable automatic saving.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.FlowSettings.modified_on">modified_on</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Timestamp of the last modification.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.FlowSettings.show_detailed_progress">show_detailed_progress</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Flag to show detailed progress during execution.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.FlowSettings.is_running">is_running</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Indicates if the flow is currently running.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.FlowSettings.is_canceled">is_canceled</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Indicates if the flow execution has been canceled.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>












<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            from_flow_settings_input(flow_graph_config)

  
      classmethod
   (flowfile_core.schemas.schemas.FlowSettings.from_flow_settings_input)" href="#flowfile_core.schemas.schemas.FlowSettings.from_flow_settings_input">from_flow_settings_input</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Creates a FlowSettings instance from a FlowGraphConfig instance.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>



              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/schemas.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">FlowSettings</span><span class="p">(</span><span class="n">FlowGraphConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Extends FlowGraphConfig with additional operational settings for a flow.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        auto_save (bool): Flag to enable or disable automatic saving.</span>
<span class="sd">        modified_on (Optional[float]): Timestamp of the last modification.</span>
<span class="sd">        show_detailed_progress (bool): Flag to show detailed progress during execution.</span>
<span class="sd">        is_running (bool): Indicates if the flow is currently running.</span>
<span class="sd">        is_canceled (bool): Indicates if the flow execution has been canceled.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auto_save</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">modified_on</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">show_detailed_progress</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">is_running</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">is_canceled</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_flow_settings_input</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">flow_graph_config</span><span class="p">:</span> <span class="n">FlowGraphConfig</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a FlowSettings instance from a FlowGraphConfig instance.</span>

<span class="sd">        :param flow_graph_config: The base flow graph configuration.</span>
<span class="sd">        :return: A new instance of FlowSettings with data from flow_graph_config.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">flow_graph_config</span><span class="o">.</span><span class="n">model_dump</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.schemas.FlowSettings.from_flow_settings_input" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">from_flow_settings_input</span><span class="p">(</span><span class="n">flow_graph_config</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Creates a FlowSettings instance from a FlowGraphConfig instance.</p>
<p>:param flow_graph_config: The base flow graph configuration.
:return: A new instance of FlowSettings with data from flow_graph_config.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/schemas.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">from_flow_settings_input</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">flow_graph_config</span><span class="p">:</span> <span class="n">FlowGraphConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a FlowSettings instance from a FlowGraphConfig instance.</span>

<span class="sd">    :param flow_graph_config: The base flow graph configuration.</span>
<span class="sd">    :return: A new instance of FlowSettings with data from flow_graph_config.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">flow_graph_config</span><span class="o">.</span><span class="n">model_dump</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.schemas.NodeDefault" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeDefault</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Defines default properties for a node type.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.NodeDefault.node_name">node_name</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the node.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.NodeDefault.node_type">node_type</span></code></td>
            <td>
                  <code><span title="flowfile_core.schemas.schemas.NodeTypeLiteral">NodeTypeLiteral</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The functional type of the node ('input', 'output', 'process').</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.NodeDefault.transform_type">transform_type</span></code></td>
            <td>
                  <code><span title="flowfile_core.schemas.schemas.TransformTypeLiteral">TransformTypeLiteral</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The data transformation behavior ('narrow', 'wide', 'other').</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.NodeDefault.has_default_settings">has_default_settings</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Indicates if the node has predefined default settings.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/schemas.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeDefault</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Defines default properties for a node type.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        node_name (str): The name of the node.</span>
<span class="sd">        node_type (NodeTypeLiteral): The functional type of the node (&#39;input&#39;, &#39;output&#39;, &#39;process&#39;).</span>
<span class="sd">        transform_type (TransformTypeLiteral): The data transformation behavior (&#39;narrow&#39;, &#39;wide&#39;, &#39;other&#39;).</span>
<span class="sd">        has_default_settings (Optional[Any]): Indicates if the node has predefined default settings.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">node_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">node_type</span><span class="p">:</span> <span class="n">NodeTypeLiteral</span>
    <span class="n">transform_type</span><span class="p">:</span> <span class="n">TransformTypeLiteral</span>
    <span class="n">has_default_settings</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.schemas.NodeEdge" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeEdge</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Represents a connection (edge) between two nodes in the frontend.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.NodeEdge.id">id</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A unique identifier for the edge.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.NodeEdge.source">source</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the source node.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.NodeEdge.target">target</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the target node.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.NodeEdge.targetHandle">targetHandle</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The specific input handle on the target node.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.NodeEdge.sourceHandle">sourceHandle</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The specific output handle on the source node.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/schemas.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeEdge</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents a connection (edge) between two nodes in the frontend.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        id (str): A unique identifier for the edge.</span>
<span class="sd">        source (str): The ID of the source node.</span>
<span class="sd">        target (str): The ID of the target node.</span>
<span class="sd">        targetHandle (str): The specific input handle on the target node.</span>
<span class="sd">        sourceHandle (str): The specific output handle on the source node.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">model_config</span> <span class="o">=</span> <span class="n">ConfigDict</span><span class="p">(</span><span class="n">coerce_numbers_to_str</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">source</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">target</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">targetHandle</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">sourceHandle</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.schemas.NodeInformation" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeInformation</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Stores the state and configuration of a specific node instance within a flow.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.NodeInformation.id">id</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The unique ID of the node instance.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.NodeInformation.type">type</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type of the node (e.g., 'join', 'filter').</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.NodeInformation.is_setup">is_setup</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="bool">bool</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether the node has been configured.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.NodeInformation.description">description</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A user-provided description.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.NodeInformation.x_position">x_position</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The x-coordinate on the canvas.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.NodeInformation.y_position">y_position</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The y-coordinate on the canvas.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.NodeInformation.left_input_id">left_input_id</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the node connected to the left input.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.NodeInformation.right_input_id">right_input_id</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the node connected to the right input.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.NodeInformation.input_ids">input_ids</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[<span title="int">int</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of IDs for main input nodes.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.NodeInformation.outputs">outputs</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[<span title="int">int</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of IDs for nodes this node outputs to.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.NodeInformation.setting_input">setting_input</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The specific settings for this node instance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/schemas.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeInformation</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Stores the state and configuration of a specific node instance within a flow.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        id (Optional[int]): The unique ID of the node instance.</span>
<span class="sd">        type (Optional[str]): The type of the node (e.g., &#39;join&#39;, &#39;filter&#39;).</span>
<span class="sd">        is_setup (Optional[bool]): Whether the node has been configured.</span>
<span class="sd">        description (Optional[str]): A user-provided description.</span>
<span class="sd">        x_position (Optional[int]): The x-coordinate on the canvas.</span>
<span class="sd">        y_position (Optional[int]): The y-coordinate on the canvas.</span>
<span class="sd">        left_input_id (Optional[int]): The ID of the node connected to the left input.</span>
<span class="sd">        right_input_id (Optional[int]): The ID of the node connected to the right input.</span>
<span class="sd">        input_ids (Optional[List[int]]): A list of IDs for main input nodes.</span>
<span class="sd">        outputs (Optional[List[int]]): A list of IDs for nodes this node outputs to.</span>
<span class="sd">        setting_input (Optional[Any]): The specific settings for this node instance.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">is_setup</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">description</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="n">x_position</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">y_position</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">left_input_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">right_input_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">input_ids</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">outputs</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">setting_input</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Property to access the node&#39;s specific settings.</span>
<span class="sd">        :return: The settings of the node.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">setting_input</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">main_input_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Property to access the main input node IDs.</span>
<span class="sd">        :return: A list of main input node IDs.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_ids</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h6 id="flowfile_core.schemas.schemas.NodeInformation.data" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">data</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Property to access the node's specific settings.
:return: The settings of the node.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="flowfile_core.schemas.schemas.NodeInformation.main_input_ids" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">main_input_ids</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Property to access the main input node IDs.
:return: A list of main input node IDs.</p>

    </div>

</div>






  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.schemas.NodeInput" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeInput</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeTemplate (flowfile_core.schemas.schemas.NodeTemplate)" href="#flowfile_core.schemas.schemas.NodeTemplate">NodeTemplate</a></code></p>


        <p>Represents a node as it is received from the frontend, including position.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.NodeInput.id">id</span></code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The unique ID of the node instance.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.NodeInput.pos_x">pos_x</span></code></td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The x-coordinate on the canvas.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.NodeInput.pos_y">pos_y</span></code></td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The y-coordinate on the canvas.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/schemas.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeInput</span><span class="p">(</span><span class="n">NodeTemplate</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents a node as it is received from the frontend, including position.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        id (int): The unique ID of the node instance.</span>
<span class="sd">        pos_x (float): The x-coordinate on the canvas.</span>
<span class="sd">        pos_y (float): The y-coordinate on the canvas.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">pos_x</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">pos_y</span><span class="p">:</span> <span class="nb">float</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.schemas.NodeTemplate" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeTemplate</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Defines the template for a node type, specifying its UI and functional characteristics.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.NodeTemplate.name">name</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The display name of the node.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.NodeTemplate.item">item</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The unique identifier for the node type.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.NodeTemplate.input">input</span></code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of required input connections.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.NodeTemplate.output">output</span></code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of output connections.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.NodeTemplate.image">image</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The filename of the icon for the node.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.NodeTemplate.multi">multi</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether the node accepts multiple main input connections.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.NodeTemplate.node_group">node_group</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The category group the node belongs to (e.g., 'input', 'transform').</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.NodeTemplate.prod_ready">prod_ready</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether the node is considered production-ready.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.NodeTemplate.can_be_start">can_be_start</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether the node can be a starting point in a flow.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/schemas.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeTemplate</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Defines the template for a node type, specifying its UI and functional characteristics.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        name (str): The display name of the node.</span>
<span class="sd">        item (str): The unique identifier for the node type.</span>
<span class="sd">        input (int): The number of required input connections.</span>
<span class="sd">        output (int): The number of output connections.</span>
<span class="sd">        image (str): The filename of the icon for the node.</span>
<span class="sd">        multi (bool): Whether the node accepts multiple main input connections.</span>
<span class="sd">        node_group (str): The category group the node belongs to (e.g., &#39;input&#39;, &#39;transform&#39;).</span>
<span class="sd">        prod_ready (bool): Whether the node is considered production-ready.</span>
<span class="sd">        can_be_start (bool): Whether the node can be a starting point in a flow.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">item</span><span class="p">:</span> <span class="nb">str</span>
    <span class="nb">input</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">output</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">image</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">multi</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">node_type</span><span class="p">:</span> <span class="n">NodeTypeLiteral</span>
    <span class="n">transform_type</span><span class="p">:</span> <span class="n">TransformTypeLiteral</span>
    <span class="n">node_group</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">prod_ready</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">can_be_start</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">drawer_title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Node title&quot;</span>
    <span class="n">drawer_intro</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Drawer into&quot;</span>
    <span class="n">custom_node</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.schemas.RawLogInput" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>RawLogInput</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Schema for a raw log message.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.RawLogInput.flowfile_flow_id">flowfile_flow_id</span></code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the flow that generated the log.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.RawLogInput.log_message">log_message</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The content of the log message.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.RawLogInput.log_type">log_type</span></code></td>
            <td>
                  <code><span title="typing.Literal">Literal</span>[&#39;INFO&#39;, &#39;ERROR&#39;]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type of log.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.RawLogInput.extra">extra</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="dict">dict</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Extra context data for the log.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/schemas.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">RawLogInput</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Schema for a raw log message.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        flowfile_flow_id (int): The ID of the flow that generated the log.</span>
<span class="sd">        log_message (str): The content of the log message.</span>
<span class="sd">        log_type (Literal[&quot;INFO&quot;, &quot;ERROR&quot;]): The type of log.</span>
<span class="sd">        extra (Optional[dict]): Extra context data for the log.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">flowfile_flow_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">log_message</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">log_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;INFO&quot;</span><span class="p">,</span> <span class="s2">&quot;ERROR&quot;</span><span class="p">]</span>
    <span class="n">extra</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.schemas.VueFlowInput" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>VueFlowInput</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Represents the complete graph structure from the Vue-based frontend.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.VueFlowInput.node_edges">node_edges</span></code></td>
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="            NodeEdge (flowfile_core.schemas.schemas.NodeEdge)" href="#flowfile_core.schemas.schemas.NodeEdge">NodeEdge</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of all edges in the graph.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="flowfile_core.schemas.schemas.VueFlowInput.node_inputs">node_inputs</span></code></td>
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="            NodeInput (flowfile_core.schemas.schemas.NodeInput)" href="#flowfile_core.schemas.schemas.NodeInput">NodeInput</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of all nodes in the graph.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/schemas.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">VueFlowInput</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    Represents the complete graph structure from the Vue-based frontend.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        node_edges (List[NodeEdge]): A list of all edges in the graph.</span>
<span class="sd">        node_inputs (List[NodeInput]): A list of all nodes in the graph.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">node_edges</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">NodeEdge</span><span class="p">]</span>
    <span class="n">node_inputs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">NodeInput</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h5 id="flowfile_core.schemas.schemas.get_global_execution_location" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_global_execution_location</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Calculates the default execution location based on the global settings
Returns</p>
<hr />
<p>ExecutionLocationsLiteral where the current</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/schemas.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_global_execution_location</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">ExecutionLocationsLiteral</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calculates the default execution location based on the global settings</span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    ExecutionLocationsLiteral where the current</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">OFFLOAD_TO_WORKER</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;remote&quot;</span>
    <span class="k">return</span> <span class="s2">&quot;local&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h3 id="input_schema"><code>input_schema</code></h3>


<div class="doc doc-object doc-module">



<h4 id="flowfile_core.schemas.input_schema" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <code>flowfile_core.schemas.input_schema</code>


</h4>

    <div class="doc doc-contents first">










<p><span class="doc-section-title">Classes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            DatabaseConnection (flowfile_core.schemas.input_schema.DatabaseConnection)" href="#flowfile_core.schemas.input_schema.DatabaseConnection">DatabaseConnection</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Defines the connection parameters for a database.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            DatabaseSettings (flowfile_core.schemas.input_schema.DatabaseSettings)" href="#flowfile_core.schemas.input_schema.DatabaseSettings">DatabaseSettings</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Defines settings for reading from a database, either via table or query.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            DatabaseWriteSettings (flowfile_core.schemas.input_schema.DatabaseWriteSettings)" href="#flowfile_core.schemas.input_schema.DatabaseWriteSettings">DatabaseWriteSettings</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Defines settings for writing data to a database table.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            ExternalSource (flowfile_core.schemas.input_schema.ExternalSource)" href="#flowfile_core.schemas.input_schema.ExternalSource">ExternalSource</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Base model for data coming from a predefined external source.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            FullDatabaseConnection (flowfile_core.schemas.input_schema.FullDatabaseConnection)" href="#flowfile_core.schemas.input_schema.FullDatabaseConnection">FullDatabaseConnection</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>A complete database connection model including the secret password.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            FullDatabaseConnectionInterface (flowfile_core.schemas.input_schema.FullDatabaseConnectionInterface)" href="#flowfile_core.schemas.input_schema.FullDatabaseConnectionInterface">FullDatabaseConnectionInterface</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>A database connection model intended for UI display, omitting the password.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            MinimalFieldInfo (flowfile_core.schemas.input_schema.MinimalFieldInfo)" href="#flowfile_core.schemas.input_schema.MinimalFieldInfo">MinimalFieldInfo</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Represents the most basic information about a data field (column).</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NewDirectory (flowfile_core.schemas.input_schema.NewDirectory)" href="#flowfile_core.schemas.input_schema.NewDirectory">NewDirectory</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Defines the information required to create a new directory.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeBase (flowfile_core.schemas.input_schema.NodeBase)" href="#flowfile_core.schemas.input_schema.NodeBase">NodeBase</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Base model for all nodes in a FlowGraph. Contains common metadata.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeCloudStorageReader (flowfile_core.schemas.input_schema.NodeCloudStorageReader)" href="#flowfile_core.schemas.input_schema.NodeCloudStorageReader">NodeCloudStorageReader</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for a node that reads from a cloud storage service (S3, GCS, etc.).</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeCloudStorageWriter (flowfile_core.schemas.input_schema.NodeCloudStorageWriter)" href="#flowfile_core.schemas.input_schema.NodeCloudStorageWriter">NodeCloudStorageWriter</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for a node that writes to a cloud storage service.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeConnection (flowfile_core.schemas.input_schema.NodeConnection)" href="#flowfile_core.schemas.input_schema.NodeConnection">NodeConnection</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Represents a connection (edge) between two nodes in the graph.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeCrossJoin (flowfile_core.schemas.input_schema.NodeCrossJoin)" href="#flowfile_core.schemas.input_schema.NodeCrossJoin">NodeCrossJoin</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for a node that performs a cross join.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeDatabaseReader (flowfile_core.schemas.input_schema.NodeDatabaseReader)" href="#flowfile_core.schemas.input_schema.NodeDatabaseReader">NodeDatabaseReader</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for a node that reads from a database.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeDatabaseWriter (flowfile_core.schemas.input_schema.NodeDatabaseWriter)" href="#flowfile_core.schemas.input_schema.NodeDatabaseWriter">NodeDatabaseWriter</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for a node that writes data to a database.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeDatasource (flowfile_core.schemas.input_schema.NodeDatasource)" href="#flowfile_core.schemas.input_schema.NodeDatasource">NodeDatasource</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Base settings for a node that acts as a data source.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeDescription (flowfile_core.schemas.input_schema.NodeDescription)" href="#flowfile_core.schemas.input_schema.NodeDescription">NodeDescription</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>A simple model for updating a node's description text.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeExploreData (flowfile_core.schemas.input_schema.NodeExploreData)" href="#flowfile_core.schemas.input_schema.NodeExploreData">NodeExploreData</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for a node that provides an interactive data exploration interface.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeExternalSource (flowfile_core.schemas.input_schema.NodeExternalSource)" href="#flowfile_core.schemas.input_schema.NodeExternalSource">NodeExternalSource</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for a node that connects to a registered external data source.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeFilter (flowfile_core.schemas.input_schema.NodeFilter)" href="#flowfile_core.schemas.input_schema.NodeFilter">NodeFilter</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for a node that filters rows based on a condition.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeFormula (flowfile_core.schemas.input_schema.NodeFormula)" href="#flowfile_core.schemas.input_schema.NodeFormula">NodeFormula</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for a node that applies a formula to create/modify a column.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeFuzzyMatch (flowfile_core.schemas.input_schema.NodeFuzzyMatch)" href="#flowfile_core.schemas.input_schema.NodeFuzzyMatch">NodeFuzzyMatch</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for a node that performs a fuzzy join based on string similarity.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeGraphSolver (flowfile_core.schemas.input_schema.NodeGraphSolver)" href="#flowfile_core.schemas.input_schema.NodeGraphSolver">NodeGraphSolver</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for a node that solves graph-based problems (e.g., connected components).</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeGroupBy (flowfile_core.schemas.input_schema.NodeGroupBy)" href="#flowfile_core.schemas.input_schema.NodeGroupBy">NodeGroupBy</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for a node that performs a group-by and aggregation operation.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeInputConnection (flowfile_core.schemas.input_schema.NodeInputConnection)" href="#flowfile_core.schemas.input_schema.NodeInputConnection">NodeInputConnection</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Represents the input side of a connection between two nodes.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeJoin (flowfile_core.schemas.input_schema.NodeJoin)" href="#flowfile_core.schemas.input_schema.NodeJoin">NodeJoin</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for a node that performs a standard SQL-style join.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeManualInput (flowfile_core.schemas.input_schema.NodeManualInput)" href="#flowfile_core.schemas.input_schema.NodeManualInput">NodeManualInput</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for a node that allows direct data entry in the UI.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeMultiInput (flowfile_core.schemas.input_schema.NodeMultiInput)" href="#flowfile_core.schemas.input_schema.NodeMultiInput">NodeMultiInput</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>A base model for any node that takes multiple data inputs.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeOutput (flowfile_core.schemas.input_schema.NodeOutput)" href="#flowfile_core.schemas.input_schema.NodeOutput">NodeOutput</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for a node that writes its input to a file.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeOutputConnection (flowfile_core.schemas.input_schema.NodeOutputConnection)" href="#flowfile_core.schemas.input_schema.NodeOutputConnection">NodeOutputConnection</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Represents the output side of a connection between two nodes.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodePivot (flowfile_core.schemas.input_schema.NodePivot)" href="#flowfile_core.schemas.input_schema.NodePivot">NodePivot</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for a node that pivots data from a long to a wide format.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodePolarsCode (flowfile_core.schemas.input_schema.NodePolarsCode)" href="#flowfile_core.schemas.input_schema.NodePolarsCode">NodePolarsCode</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for a node that executes arbitrary user-provided Polars code.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodePromise (flowfile_core.schemas.input_schema.NodePromise)" href="#flowfile_core.schemas.input_schema.NodePromise">NodePromise</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>A placeholder node for an operation that has not yet been configured.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeRead (flowfile_core.schemas.input_schema.NodeRead)" href="#flowfile_core.schemas.input_schema.NodeRead">NodeRead</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for a node that reads data from a file.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeRecordCount (flowfile_core.schemas.input_schema.NodeRecordCount)" href="#flowfile_core.schemas.input_schema.NodeRecordCount">NodeRecordCount</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for a node that counts the number of records.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeRecordId (flowfile_core.schemas.input_schema.NodeRecordId)" href="#flowfile_core.schemas.input_schema.NodeRecordId">NodeRecordId</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for a node that adds a unique record ID column.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeSample (flowfile_core.schemas.input_schema.NodeSample)" href="#flowfile_core.schemas.input_schema.NodeSample">NodeSample</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for a node that samples a subset of the data.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeSelect (flowfile_core.schemas.input_schema.NodeSelect)" href="#flowfile_core.schemas.input_schema.NodeSelect">NodeSelect</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for a node that selects, renames, and reorders columns.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeSingleInput (flowfile_core.schemas.input_schema.NodeSingleInput)" href="#flowfile_core.schemas.input_schema.NodeSingleInput">NodeSingleInput</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>A base model for any node that takes a single data input.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeSort (flowfile_core.schemas.input_schema.NodeSort)" href="#flowfile_core.schemas.input_schema.NodeSort">NodeSort</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for a node that sorts the data by one or more columns.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeTextToRows (flowfile_core.schemas.input_schema.NodeTextToRows)" href="#flowfile_core.schemas.input_schema.NodeTextToRows">NodeTextToRows</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for a node that splits a text column into multiple rows.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeUnion (flowfile_core.schemas.input_schema.NodeUnion)" href="#flowfile_core.schemas.input_schema.NodeUnion">NodeUnion</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for a node that concatenates multiple data inputs.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeUnique (flowfile_core.schemas.input_schema.NodeUnique)" href="#flowfile_core.schemas.input_schema.NodeUnique">NodeUnique</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for a node that returns the unique rows from the data.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeUnpivot (flowfile_core.schemas.input_schema.NodeUnpivot)" href="#flowfile_core.schemas.input_schema.NodeUnpivot">NodeUnpivot</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for a node that unpivots data from a wide to a long format.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            OutputCsvTable (flowfile_core.schemas.input_schema.OutputCsvTable)" href="#flowfile_core.schemas.input_schema.OutputCsvTable">OutputCsvTable</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Defines settings for writing a CSV file.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            OutputExcelTable (flowfile_core.schemas.input_schema.OutputExcelTable)" href="#flowfile_core.schemas.input_schema.OutputExcelTable">OutputExcelTable</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Defines settings for writing an Excel file.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            OutputParquetTable (flowfile_core.schemas.input_schema.OutputParquetTable)" href="#flowfile_core.schemas.input_schema.OutputParquetTable">OutputParquetTable</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Defines settings for writing a Parquet file.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            OutputSettings (flowfile_core.schemas.input_schema.OutputSettings)" href="#flowfile_core.schemas.input_schema.OutputSettings">OutputSettings</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Defines the complete settings for an output node.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            RawData (flowfile_core.schemas.input_schema.RawData)" href="#flowfile_core.schemas.input_schema.RawData">RawData</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Represents data in a raw, columnar format for manual input.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            ReceivedCsvTable (flowfile_core.schemas.input_schema.ReceivedCsvTable)" href="#flowfile_core.schemas.input_schema.ReceivedCsvTable">ReceivedCsvTable</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Defines settings for reading a CSV file.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            ReceivedExcelTable (flowfile_core.schemas.input_schema.ReceivedExcelTable)" href="#flowfile_core.schemas.input_schema.ReceivedExcelTable">ReceivedExcelTable</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Defines settings for reading an Excel file.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            ReceivedJsonTable (flowfile_core.schemas.input_schema.ReceivedJsonTable)" href="#flowfile_core.schemas.input_schema.ReceivedJsonTable">ReceivedJsonTable</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Defines settings for reading a JSON file (inherits from CSV settings).</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            ReceivedParquetTable (flowfile_core.schemas.input_schema.ReceivedParquetTable)" href="#flowfile_core.schemas.input_schema.ReceivedParquetTable">ReceivedParquetTable</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Defines settings for reading a Parquet file.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            ReceivedTable (flowfile_core.schemas.input_schema.ReceivedTable)" href="#flowfile_core.schemas.input_schema.ReceivedTable">ReceivedTable</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>A comprehensive model that can represent any type of received table.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            ReceivedTableBase (flowfile_core.schemas.input_schema.ReceivedTableBase)" href="#flowfile_core.schemas.input_schema.ReceivedTableBase">ReceivedTableBase</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Base model for defining a table received from an external source.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            RemoveItem (flowfile_core.schemas.input_schema.RemoveItem)" href="#flowfile_core.schemas.input_schema.RemoveItem">RemoveItem</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Represents a single item to be removed from a directory or list.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            RemoveItemsInput (flowfile_core.schemas.input_schema.RemoveItemsInput)" href="#flowfile_core.schemas.input_schema.RemoveItemsInput">RemoveItemsInput</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Defines a list of items to be removed.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            SampleUsers (flowfile_core.schemas.input_schema.SampleUsers)" href="#flowfile_core.schemas.input_schema.SampleUsers">SampleUsers</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for generating a sample dataset of users.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            UserDefinedNode (flowfile_core.schemas.input_schema.UserDefinedNode)" href="#flowfile_core.schemas.input_schema.UserDefinedNode">UserDefinedNode</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for a node that contains the user defined node information</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>







  <div class="doc doc-children">









<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.DatabaseConnection" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>DatabaseConnection</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Defines the connection parameters for a database.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">DatabaseConnection</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Defines the connection parameters for a database.&quot;&quot;&quot;</span>
    <span class="n">database_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;postgresql&quot;</span>
    <span class="n">username</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">password_ref</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretRef</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">host</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">port</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">database</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.DatabaseSettings" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>DatabaseSettings</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Defines settings for reading from a database, either via table or query.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">DatabaseSettings</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Defines settings for reading from a database, either via table or query.&quot;&quot;&quot;</span>
    <span class="n">connection_mode</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;inline&#39;</span><span class="p">,</span> <span class="s1">&#39;reference&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="s1">&#39;inline&#39;</span>
    <span class="n">database_connection</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">DatabaseConnection</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">database_connection_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">schema_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">table_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">query</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">query_mode</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;query&#39;</span><span class="p">,</span> <span class="s1">&#39;table&#39;</span><span class="p">,</span> <span class="s1">&#39;reference&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;table&#39;</span>

    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;after&#39;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">validate_table_or_query</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Validate that either table_name or query is provided</span>
        <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_name</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">query_mode</span> <span class="o">==</span> <span class="s1">&#39;inline&#39;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Either &#39;table_name&#39; or &#39;query&#39; must be provided&quot;</span><span class="p">)</span>

        <span class="c1"># Validate correct connection information based on connection_mode</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">connection_mode</span> <span class="o">==</span> <span class="s1">&#39;inline&#39;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">database_connection</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;When &#39;connection_mode&#39; is &#39;inline&#39;, &#39;database_connection&#39; must be provided&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">connection_mode</span> <span class="o">==</span> <span class="s1">&#39;reference&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">database_connection_name</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;When &#39;connection_mode&#39; is &#39;reference&#39;, &#39;database_connection_name&#39; must be provided&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.DatabaseWriteSettings" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>DatabaseWriteSettings</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Defines settings for writing data to a database table.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">DatabaseWriteSettings</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Defines settings for writing data to a database table.&quot;&quot;&quot;</span>
    <span class="n">connection_mode</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;inline&#39;</span><span class="p">,</span> <span class="s1">&#39;reference&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="s1">&#39;inline&#39;</span>
    <span class="n">database_connection</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">DatabaseConnection</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">database_connection_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">table_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">schema_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">if_exists</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;append&#39;</span><span class="p">,</span> <span class="s1">&#39;replace&#39;</span><span class="p">,</span> <span class="s1">&#39;fail&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="s1">&#39;append&#39;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.ExternalSource" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>ExternalSource</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Base model for data coming from a predefined external source.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ExternalSource</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base model for data coming from a predefined external source.&quot;&quot;&quot;</span>
    <span class="n">orientation</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;row&#39;</span>
    <span class="n">fields</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">MinimalFieldInfo</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.FullDatabaseConnection" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>FullDatabaseConnection</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>A complete database connection model including the secret password.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">FullDatabaseConnection</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A complete database connection model including the secret password.&quot;&quot;&quot;</span>
    <span class="n">connection_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">database_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;postgresql&quot;</span>
    <span class="n">username</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">password</span><span class="p">:</span> <span class="n">SecretStr</span>
    <span class="n">host</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">port</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">database</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">ssl_enabled</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.FullDatabaseConnectionInterface" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>FullDatabaseConnectionInterface</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>A database connection model intended for UI display, omitting the password.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">FullDatabaseConnectionInterface</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A database connection model intended for UI display, omitting the password.&quot;&quot;&quot;</span>
    <span class="n">connection_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">database_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;postgresql&quot;</span>
    <span class="n">username</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">host</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">port</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">database</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">ssl_enabled</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.MinimalFieldInfo" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>MinimalFieldInfo</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Represents the most basic information about a data field (column).</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">MinimalFieldInfo</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents the most basic information about a data field (column).&quot;&quot;&quot;</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;String&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NewDirectory" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NewDirectory</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Defines the information required to create a new directory.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NewDirectory</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Defines the information required to create a new directory.&quot;&quot;&quot;</span>
    <span class="n">source_path</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">dir_name</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeBase" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeBase</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Base model for all nodes in a FlowGraph. Contains common metadata.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeBase</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base model for all nodes in a FlowGraph. Contains common metadata.&quot;&quot;&quot;</span>
    <span class="n">model_config</span> <span class="o">=</span> <span class="n">ConfigDict</span><span class="p">(</span><span class="n">arbitrary_types_allowed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">cache_results</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">pos_x</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">pos_y</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">is_setup</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">description</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="n">user_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">is_flow_output</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">is_user_defined</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># Indicator if the node is a user defined node</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeCloudStorageReader" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeCloudStorageReader</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeBase (flowfile_core.schemas.input_schema.NodeBase)" href="#flowfile_core.schemas.input_schema.NodeBase">NodeBase</a></code></p>


        <p>Settings for a node that reads from a cloud storage service (S3, GCS, etc.).</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeCloudStorageReader</span><span class="p">(</span><span class="n">NodeBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for a node that reads from a cloud storage service (S3, GCS, etc.).&quot;&quot;&quot;</span>
    <span class="n">cloud_storage_settings</span><span class="p">:</span> <span class="n">CloudStorageReadSettings</span>
    <span class="n">fields</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">MinimalFieldInfo</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeCloudStorageWriter" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeCloudStorageWriter</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeSingleInput (flowfile_core.schemas.input_schema.NodeSingleInput)" href="#flowfile_core.schemas.input_schema.NodeSingleInput">NodeSingleInput</a></code></p>


        <p>Settings for a node that writes to a cloud storage service.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeCloudStorageWriter</span><span class="p">(</span><span class="n">NodeSingleInput</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for a node that writes to a cloud storage service.&quot;&quot;&quot;</span>
    <span class="n">cloud_storage_settings</span><span class="p">:</span> <span class="n">CloudStorageWriteSettings</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeConnection" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeConnection</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Represents a connection (edge) between two nodes in the graph.</p>












<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            create_from_simple_input(from_id, to_id, input_type='input-0')

  
      classmethod
   (flowfile_core.schemas.input_schema.NodeConnection.create_from_simple_input)" href="#flowfile_core.schemas.input_schema.NodeConnection.create_from_simple_input">create_from_simple_input</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Creates a standard connection between two nodes.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>



              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeConnection</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents a connection (edge) between two nodes in the graph.&quot;&quot;&quot;</span>
    <span class="n">input_connection</span><span class="p">:</span> <span class="n">NodeInputConnection</span>
    <span class="n">output_connection</span><span class="p">:</span> <span class="n">NodeOutputConnection</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">create_from_simple_input</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">from_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">to_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">input_type</span><span class="p">:</span> <span class="n">InputType</span> <span class="o">=</span> <span class="s2">&quot;input-0&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a standard connection between two nodes.&quot;&quot;&quot;</span>
        <span class="k">match</span> <span class="n">input_type</span><span class="p">:</span>
            <span class="k">case</span> <span class="s2">&quot;main&quot;</span><span class="p">:</span> <span class="n">connection_class</span><span class="p">:</span> <span class="n">InputConnectionClass</span> <span class="o">=</span> <span class="s2">&quot;input-0&quot;</span>
            <span class="k">case</span> <span class="s2">&quot;right&quot;</span><span class="p">:</span> <span class="n">connection_class</span><span class="p">:</span> <span class="n">InputConnectionClass</span> <span class="o">=</span> <span class="s2">&quot;input-1&quot;</span>
            <span class="k">case</span> <span class="s2">&quot;left&quot;</span><span class="p">:</span> <span class="n">connection_class</span><span class="p">:</span> <span class="n">InputConnectionClass</span> <span class="o">=</span> <span class="s2">&quot;input-2&quot;</span>
            <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span> <span class="n">connection_class</span><span class="p">:</span> <span class="n">InputConnectionClass</span> <span class="o">=</span> <span class="s2">&quot;input-0&quot;</span>
        <span class="n">node_input</span> <span class="o">=</span> <span class="n">NodeInputConnection</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">to_id</span><span class="p">,</span> <span class="n">connection_class</span><span class="o">=</span><span class="n">connection_class</span><span class="p">)</span>
        <span class="n">node_output</span> <span class="o">=</span> <span class="n">NodeOutputConnection</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">from_id</span><span class="p">,</span> <span class="n">connection_class</span><span class="o">=</span><span class="s1">&#39;output-0&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">input_connection</span><span class="o">=</span><span class="n">node_input</span><span class="p">,</span> <span class="n">output_connection</span><span class="o">=</span><span class="n">node_output</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.input_schema.NodeConnection.create_from_simple_input" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">create_from_simple_input</span><span class="p">(</span><span class="n">from_id</span><span class="p">,</span> <span class="n">to_id</span><span class="p">,</span> <span class="n">input_type</span><span class="o">=</span><span class="s1">&#39;input-0&#39;</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Creates a standard connection between two nodes.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create_from_simple_input</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">from_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">to_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">input_type</span><span class="p">:</span> <span class="n">InputType</span> <span class="o">=</span> <span class="s2">&quot;input-0&quot;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a standard connection between two nodes.&quot;&quot;&quot;</span>
    <span class="k">match</span> <span class="n">input_type</span><span class="p">:</span>
        <span class="k">case</span> <span class="s2">&quot;main&quot;</span><span class="p">:</span> <span class="n">connection_class</span><span class="p">:</span> <span class="n">InputConnectionClass</span> <span class="o">=</span> <span class="s2">&quot;input-0&quot;</span>
        <span class="k">case</span> <span class="s2">&quot;right&quot;</span><span class="p">:</span> <span class="n">connection_class</span><span class="p">:</span> <span class="n">InputConnectionClass</span> <span class="o">=</span> <span class="s2">&quot;input-1&quot;</span>
        <span class="k">case</span> <span class="s2">&quot;left&quot;</span><span class="p">:</span> <span class="n">connection_class</span><span class="p">:</span> <span class="n">InputConnectionClass</span> <span class="o">=</span> <span class="s2">&quot;input-2&quot;</span>
        <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span> <span class="n">connection_class</span><span class="p">:</span> <span class="n">InputConnectionClass</span> <span class="o">=</span> <span class="s2">&quot;input-0&quot;</span>
    <span class="n">node_input</span> <span class="o">=</span> <span class="n">NodeInputConnection</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">to_id</span><span class="p">,</span> <span class="n">connection_class</span><span class="o">=</span><span class="n">connection_class</span><span class="p">)</span>
    <span class="n">node_output</span> <span class="o">=</span> <span class="n">NodeOutputConnection</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">from_id</span><span class="p">,</span> <span class="n">connection_class</span><span class="o">=</span><span class="s1">&#39;output-0&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">input_connection</span><span class="o">=</span><span class="n">node_input</span><span class="p">,</span> <span class="n">output_connection</span><span class="o">=</span><span class="n">node_output</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeCrossJoin" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeCrossJoin</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeMultiInput (flowfile_core.schemas.input_schema.NodeMultiInput)" href="#flowfile_core.schemas.input_schema.NodeMultiInput">NodeMultiInput</a></code></p>


        <p>Settings for a node that performs a cross join.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeCrossJoin</span><span class="p">(</span><span class="n">NodeMultiInput</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for a node that performs a cross join.&quot;&quot;&quot;</span>
    <span class="n">auto_generate_selection</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">verify_integrity</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">cross_join_input</span><span class="p">:</span> <span class="n">transform_schema</span><span class="o">.</span><span class="n">CrossJoinInput</span>
    <span class="n">auto_keep_all</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">auto_keep_right</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">auto_keep_left</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeDatabaseReader" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeDatabaseReader</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeBase (flowfile_core.schemas.input_schema.NodeBase)" href="#flowfile_core.schemas.input_schema.NodeBase">NodeBase</a></code></p>


        <p>Settings for a node that reads from a database.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeDatabaseReader</span><span class="p">(</span><span class="n">NodeBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for a node that reads from a database.&quot;&quot;&quot;</span>
    <span class="n">database_settings</span><span class="p">:</span> <span class="n">DatabaseSettings</span>
    <span class="n">fields</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">MinimalFieldInfo</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeDatabaseWriter" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeDatabaseWriter</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeSingleInput (flowfile_core.schemas.input_schema.NodeSingleInput)" href="#flowfile_core.schemas.input_schema.NodeSingleInput">NodeSingleInput</a></code></p>


        <p>Settings for a node that writes data to a database.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeDatabaseWriter</span><span class="p">(</span><span class="n">NodeSingleInput</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for a node that writes data to a database.&quot;&quot;&quot;</span>
    <span class="n">database_write_settings</span><span class="p">:</span> <span class="n">DatabaseWriteSettings</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeDatasource" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeDatasource</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeBase (flowfile_core.schemas.input_schema.NodeBase)" href="#flowfile_core.schemas.input_schema.NodeBase">NodeBase</a></code></p>


        <p>Base settings for a node that acts as a data source.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeDatasource</span><span class="p">(</span><span class="n">NodeBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base settings for a node that acts as a data source.&quot;&quot;&quot;</span>
    <span class="n">file_ref</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeDescription" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeDescription</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>A simple model for updating a node's description text.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeDescription</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A simple model for updating a node&#39;s description text.&quot;&quot;&quot;</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeExploreData" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeExploreData</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeBase (flowfile_core.schemas.input_schema.NodeBase)" href="#flowfile_core.schemas.input_schema.NodeBase">NodeBase</a></code></p>


        <p>Settings for a node that provides an interactive data exploration interface.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeExploreData</span><span class="p">(</span><span class="n">NodeBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for a node that provides an interactive data exploration interface.&quot;&quot;&quot;</span>
    <span class="n">graphic_walker_input</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">gs_schemas</span><span class="o">.</span><span class="n">GraphicWalkerInput</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeExternalSource" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeExternalSource</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeBase (flowfile_core.schemas.input_schema.NodeBase)" href="#flowfile_core.schemas.input_schema.NodeBase">NodeBase</a></code></p>


        <p>Settings for a node that connects to a registered external data source.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeExternalSource</span><span class="p">(</span><span class="n">NodeBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for a node that connects to a registered external data source.&quot;&quot;&quot;</span>
    <span class="n">identifier</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">source_settings</span><span class="p">:</span> <span class="n">SampleUsers</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeFilter" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeFilter</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeSingleInput (flowfile_core.schemas.input_schema.NodeSingleInput)" href="#flowfile_core.schemas.input_schema.NodeSingleInput">NodeSingleInput</a></code></p>


        <p>Settings for a node that filters rows based on a condition.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeFilter</span><span class="p">(</span><span class="n">NodeSingleInput</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for a node that filters rows based on a condition.&quot;&quot;&quot;</span>
    <span class="n">filter_input</span><span class="p">:</span> <span class="n">transform_schema</span><span class="o">.</span><span class="n">FilterInput</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeFormula" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeFormula</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeSingleInput (flowfile_core.schemas.input_schema.NodeSingleInput)" href="#flowfile_core.schemas.input_schema.NodeSingleInput">NodeSingleInput</a></code></p>


        <p>Settings for a node that applies a formula to create/modify a column.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeFormula</span><span class="p">(</span><span class="n">NodeSingleInput</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for a node that applies a formula to create/modify a column.&quot;&quot;&quot;</span>
    <span class="n">function</span><span class="p">:</span> <span class="n">transform_schema</span><span class="o">.</span><span class="n">FunctionInput</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeFuzzyMatch" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeFuzzyMatch</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeJoin (flowfile_core.schemas.input_schema.NodeJoin)" href="#flowfile_core.schemas.input_schema.NodeJoin">NodeJoin</a></code></p>


        <p>Settings for a node that performs a fuzzy join based on string similarity.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeFuzzyMatch</span><span class="p">(</span><span class="n">NodeJoin</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for a node that performs a fuzzy join based on string similarity.&quot;&quot;&quot;</span>
    <span class="n">join_input</span><span class="p">:</span> <span class="n">transform_schema</span><span class="o">.</span><span class="n">FuzzyMatchInput</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeGraphSolver" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeGraphSolver</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeSingleInput (flowfile_core.schemas.input_schema.NodeSingleInput)" href="#flowfile_core.schemas.input_schema.NodeSingleInput">NodeSingleInput</a></code></p>


        <p>Settings for a node that solves graph-based problems (e.g., connected components).</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeGraphSolver</span><span class="p">(</span><span class="n">NodeSingleInput</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for a node that solves graph-based problems (e.g., connected components).&quot;&quot;&quot;</span>
    <span class="n">graph_solver_input</span><span class="p">:</span> <span class="n">transform_schema</span><span class="o">.</span><span class="n">GraphSolverInput</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeGroupBy" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeGroupBy</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeSingleInput (flowfile_core.schemas.input_schema.NodeSingleInput)" href="#flowfile_core.schemas.input_schema.NodeSingleInput">NodeSingleInput</a></code></p>


        <p>Settings for a node that performs a group-by and aggregation operation.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeGroupBy</span><span class="p">(</span><span class="n">NodeSingleInput</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for a node that performs a group-by and aggregation operation.&quot;&quot;&quot;</span>
    <span class="n">groupby_input</span><span class="p">:</span> <span class="n">transform_schema</span><span class="o">.</span><span class="n">GroupByInput</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeInputConnection" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeInputConnection</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Represents the input side of a connection between two nodes.</p>












<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_node_input_connection_type() (flowfile_core.schemas.input_schema.NodeInputConnection.get_node_input_connection_type)" href="#flowfile_core.schemas.input_schema.NodeInputConnection.get_node_input_connection_type">get_node_input_connection_type</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Determines the semantic type of the input (e.g., for a join).</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>



              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeInputConnection</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents the input side of a connection between two nodes.&quot;&quot;&quot;</span>
    <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">connection_class</span><span class="p">:</span> <span class="n">InputConnectionClass</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_node_input_connection_type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;main&#39;</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="s1">&#39;left&#39;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Determines the semantic type of the input (e.g., for a join).&quot;&quot;&quot;</span>
        <span class="k">match</span> <span class="bp">self</span><span class="o">.</span><span class="n">connection_class</span><span class="p">:</span>
            <span class="k">case</span> <span class="s1">&#39;input-0&#39;</span><span class="p">:</span> <span class="k">return</span> <span class="s1">&#39;main&#39;</span>
            <span class="k">case</span> <span class="s1">&#39;input-1&#39;</span><span class="p">:</span> <span class="k">return</span> <span class="s1">&#39;right&#39;</span>
            <span class="k">case</span> <span class="s1">&#39;input-2&#39;</span><span class="p">:</span> <span class="k">return</span> <span class="s1">&#39;left&#39;</span>
            <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unexpected connection_class: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">connection_class</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.input_schema.NodeInputConnection.get_node_input_connection_type" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_node_input_connection_type</span><span class="p">()</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Determines the semantic type of the input (e.g., for a join).</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_node_input_connection_type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;main&#39;</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="s1">&#39;left&#39;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Determines the semantic type of the input (e.g., for a join).&quot;&quot;&quot;</span>
    <span class="k">match</span> <span class="bp">self</span><span class="o">.</span><span class="n">connection_class</span><span class="p">:</span>
        <span class="k">case</span> <span class="s1">&#39;input-0&#39;</span><span class="p">:</span> <span class="k">return</span> <span class="s1">&#39;main&#39;</span>
        <span class="k">case</span> <span class="s1">&#39;input-1&#39;</span><span class="p">:</span> <span class="k">return</span> <span class="s1">&#39;right&#39;</span>
        <span class="k">case</span> <span class="s1">&#39;input-2&#39;</span><span class="p">:</span> <span class="k">return</span> <span class="s1">&#39;left&#39;</span>
        <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unexpected connection_class: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">connection_class</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeJoin" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeJoin</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeMultiInput (flowfile_core.schemas.input_schema.NodeMultiInput)" href="#flowfile_core.schemas.input_schema.NodeMultiInput">NodeMultiInput</a></code></p>


        <p>Settings for a node that performs a standard SQL-style join.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeJoin</span><span class="p">(</span><span class="n">NodeMultiInput</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for a node that performs a standard SQL-style join.&quot;&quot;&quot;</span>
    <span class="n">auto_generate_selection</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">verify_integrity</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">join_input</span><span class="p">:</span> <span class="n">transform_schema</span><span class="o">.</span><span class="n">JoinInput</span>
    <span class="n">auto_keep_all</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">auto_keep_right</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">auto_keep_left</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeManualInput" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeManualInput</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeBase (flowfile_core.schemas.input_schema.NodeBase)" href="#flowfile_core.schemas.input_schema.NodeBase">NodeBase</a></code></p>


        <p>Settings for a node that allows direct data entry in the UI.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeManualInput</span><span class="p">(</span><span class="n">NodeBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for a node that allows direct data entry in the UI.&quot;&quot;&quot;</span>
    <span class="n">raw_data_format</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">RawData</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeMultiInput" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeMultiInput</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeBase (flowfile_core.schemas.input_schema.NodeBase)" href="#flowfile_core.schemas.input_schema.NodeBase">NodeBase</a></code></p>


        <p>A base model for any node that takes multiple data inputs.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeMultiInput</span><span class="p">(</span><span class="n">NodeBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A base model for any node that takes multiple data inputs.&quot;&quot;&quot;</span>
    <span class="n">depending_on_ids</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeOutput" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeOutput</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeSingleInput (flowfile_core.schemas.input_schema.NodeSingleInput)" href="#flowfile_core.schemas.input_schema.NodeSingleInput">NodeSingleInput</a></code></p>


        <p>Settings for a node that writes its input to a file.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeOutput</span><span class="p">(</span><span class="n">NodeSingleInput</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for a node that writes its input to a file.&quot;&quot;&quot;</span>
    <span class="n">output_settings</span><span class="p">:</span> <span class="n">OutputSettings</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeOutputConnection" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeOutputConnection</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Represents the output side of a connection between two nodes.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeOutputConnection</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents the output side of a connection between two nodes.&quot;&quot;&quot;</span>
    <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">connection_class</span><span class="p">:</span> <span class="n">OutputConnectionClass</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodePivot" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodePivot</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeSingleInput (flowfile_core.schemas.input_schema.NodeSingleInput)" href="#flowfile_core.schemas.input_schema.NodeSingleInput">NodeSingleInput</a></code></p>


        <p>Settings for a node that pivots data from a long to a wide format.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodePivot</span><span class="p">(</span><span class="n">NodeSingleInput</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for a node that pivots data from a long to a wide format.&quot;&quot;&quot;</span>
    <span class="n">pivot_input</span><span class="p">:</span> <span class="n">transform_schema</span><span class="o">.</span><span class="n">PivotInput</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">output_fields</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">MinimalFieldInfo</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodePolarsCode" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodePolarsCode</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeMultiInput (flowfile_core.schemas.input_schema.NodeMultiInput)" href="#flowfile_core.schemas.input_schema.NodeMultiInput">NodeMultiInput</a></code></p>


        <p>Settings for a node that executes arbitrary user-provided Polars code.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodePolarsCode</span><span class="p">(</span><span class="n">NodeMultiInput</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for a node that executes arbitrary user-provided Polars code.&quot;&quot;&quot;</span>
    <span class="n">polars_code_input</span><span class="p">:</span> <span class="n">transform_schema</span><span class="o">.</span><span class="n">PolarsCodeInput</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodePromise" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodePromise</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeBase (flowfile_core.schemas.input_schema.NodeBase)" href="#flowfile_core.schemas.input_schema.NodeBase">NodeBase</a></code></p>


        <p>A placeholder node for an operation that has not yet been configured.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodePromise</span><span class="p">(</span><span class="n">NodeBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A placeholder node for an operation that has not yet been configured.&quot;&quot;&quot;</span>
    <span class="n">is_setup</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">node_type</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeRead" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeRead</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeBase (flowfile_core.schemas.input_schema.NodeBase)" href="#flowfile_core.schemas.input_schema.NodeBase">NodeBase</a></code></p>


        <p>Settings for a node that reads data from a file.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeRead</span><span class="p">(</span><span class="n">NodeBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for a node that reads data from a file.&quot;&quot;&quot;</span>
    <span class="n">received_file</span><span class="p">:</span> <span class="n">ReceivedTable</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeRecordCount" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeRecordCount</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeSingleInput (flowfile_core.schemas.input_schema.NodeSingleInput)" href="#flowfile_core.schemas.input_schema.NodeSingleInput">NodeSingleInput</a></code></p>


        <p>Settings for a node that counts the number of records.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeRecordCount</span><span class="p">(</span><span class="n">NodeSingleInput</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for a node that counts the number of records.&quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeRecordId" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeRecordId</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeSingleInput (flowfile_core.schemas.input_schema.NodeSingleInput)" href="#flowfile_core.schemas.input_schema.NodeSingleInput">NodeSingleInput</a></code></p>


        <p>Settings for a node that adds a unique record ID column.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeRecordId</span><span class="p">(</span><span class="n">NodeSingleInput</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for a node that adds a unique record ID column.&quot;&quot;&quot;</span>
    <span class="n">record_id_input</span><span class="p">:</span> <span class="n">transform_schema</span><span class="o">.</span><span class="n">RecordIdInput</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeSample" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeSample</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeSingleInput (flowfile_core.schemas.input_schema.NodeSingleInput)" href="#flowfile_core.schemas.input_schema.NodeSingleInput">NodeSingleInput</a></code></p>


        <p>Settings for a node that samples a subset of the data.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeSample</span><span class="p">(</span><span class="n">NodeSingleInput</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for a node that samples a subset of the data.&quot;&quot;&quot;</span>
    <span class="n">sample_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1000</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeSelect" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeSelect</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeSingleInput (flowfile_core.schemas.input_schema.NodeSingleInput)" href="#flowfile_core.schemas.input_schema.NodeSingleInput">NodeSingleInput</a></code></p>


        <p>Settings for a node that selects, renames, and reorders columns.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeSelect</span><span class="p">(</span><span class="n">NodeSingleInput</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for a node that selects, renames, and reorders columns.&quot;&quot;&quot;</span>
    <span class="n">keep_missing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">select_input</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">transform_schema</span><span class="o">.</span><span class="n">SelectInput</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
    <span class="n">sorted_by</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="s1">&#39;asc&#39;</span><span class="p">,</span> <span class="s1">&#39;desc&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="s1">&#39;none&#39;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeSingleInput" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeSingleInput</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeBase (flowfile_core.schemas.input_schema.NodeBase)" href="#flowfile_core.schemas.input_schema.NodeBase">NodeBase</a></code></p>


        <p>A base model for any node that takes a single data input.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeSingleInput</span><span class="p">(</span><span class="n">NodeBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A base model for any node that takes a single data input.&quot;&quot;&quot;</span>
    <span class="n">depending_on_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeSort" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeSort</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeSingleInput (flowfile_core.schemas.input_schema.NodeSingleInput)" href="#flowfile_core.schemas.input_schema.NodeSingleInput">NodeSingleInput</a></code></p>


        <p>Settings for a node that sorts the data by one or more columns.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeSort</span><span class="p">(</span><span class="n">NodeSingleInput</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for a node that sorts the data by one or more columns.&quot;&quot;&quot;</span>
    <span class="n">sort_input</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">transform_schema</span><span class="o">.</span><span class="n">SortByInput</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeTextToRows" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeTextToRows</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeSingleInput (flowfile_core.schemas.input_schema.NodeSingleInput)" href="#flowfile_core.schemas.input_schema.NodeSingleInput">NodeSingleInput</a></code></p>


        <p>Settings for a node that splits a text column into multiple rows.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeTextToRows</span><span class="p">(</span><span class="n">NodeSingleInput</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for a node that splits a text column into multiple rows.&quot;&quot;&quot;</span>
    <span class="n">text_to_rows_input</span><span class="p">:</span> <span class="n">transform_schema</span><span class="o">.</span><span class="n">TextToRowsInput</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeUnion" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeUnion</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeMultiInput (flowfile_core.schemas.input_schema.NodeMultiInput)" href="#flowfile_core.schemas.input_schema.NodeMultiInput">NodeMultiInput</a></code></p>


        <p>Settings for a node that concatenates multiple data inputs.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeUnion</span><span class="p">(</span><span class="n">NodeMultiInput</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for a node that concatenates multiple data inputs.&quot;&quot;&quot;</span>
    <span class="n">union_input</span><span class="p">:</span> <span class="n">transform_schema</span><span class="o">.</span><span class="n">UnionInput</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="n">transform_schema</span><span class="o">.</span><span class="n">UnionInput</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeUnique" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeUnique</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeSingleInput (flowfile_core.schemas.input_schema.NodeSingleInput)" href="#flowfile_core.schemas.input_schema.NodeSingleInput">NodeSingleInput</a></code></p>


        <p>Settings for a node that returns the unique rows from the data.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeUnique</span><span class="p">(</span><span class="n">NodeSingleInput</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for a node that returns the unique rows from the data.&quot;&quot;&quot;</span>
    <span class="n">unique_input</span><span class="p">:</span> <span class="n">transform_schema</span><span class="o">.</span><span class="n">UniqueInput</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.NodeUnpivot" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeUnpivot</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeSingleInput (flowfile_core.schemas.input_schema.NodeSingleInput)" href="#flowfile_core.schemas.input_schema.NodeSingleInput">NodeSingleInput</a></code></p>


        <p>Settings for a node that unpivots data from a wide to a long format.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeUnpivot</span><span class="p">(</span><span class="n">NodeSingleInput</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for a node that unpivots data from a wide to a long format.&quot;&quot;&quot;</span>
    <span class="n">unpivot_input</span><span class="p">:</span> <span class="n">transform_schema</span><span class="o">.</span><span class="n">UnpivotInput</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.OutputCsvTable" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>OutputCsvTable</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Defines settings for writing a CSV file.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">OutputCsvTable</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Defines settings for writing a CSV file.&quot;&quot;&quot;</span>
    <span class="n">file_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;csv&#39;</span>
    <span class="n">delimiter</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span>
    <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;utf-8&#39;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.OutputExcelTable" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>OutputExcelTable</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Defines settings for writing an Excel file.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">OutputExcelTable</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Defines settings for writing an Excel file.&quot;&quot;&quot;</span>
    <span class="n">file_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;excel&#39;</span>
    <span class="n">sheet_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;Sheet1&#39;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.OutputParquetTable" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>OutputParquetTable</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Defines settings for writing a Parquet file.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">OutputParquetTable</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Defines settings for writing a Parquet file.&quot;&quot;&quot;</span>
    <span class="n">file_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;parquet&#39;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.OutputSettings" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>OutputSettings</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Defines the complete settings for an output node.</p>












<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            populate_abs_file_path() (flowfile_core.schemas.input_schema.OutputSettings.populate_abs_file_path)" href="#flowfile_core.schemas.input_schema.OutputSettings.populate_abs_file_path">populate_abs_file_path</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Ensures the absolute file path is populated after validation.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            set_absolute_filepath() (flowfile_core.schemas.input_schema.OutputSettings.set_absolute_filepath)" href="#flowfile_core.schemas.input_schema.OutputSettings.set_absolute_filepath">set_absolute_filepath</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Resolves the output directory and name into an absolute path.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>



              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">OutputSettings</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Defines the complete settings for an output node.&quot;&quot;&quot;</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">directory</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">file_type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">fields</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
    <span class="n">write_mode</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;overwrite&#39;</span>
    <span class="n">output_csv_table</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">OutputCsvTable</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="n">OutputCsvTable</span><span class="p">)</span>
    <span class="n">output_parquet_table</span><span class="p">:</span> <span class="n">OutputParquetTable</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="n">OutputParquetTable</span><span class="p">)</span>
    <span class="n">output_excel_table</span><span class="p">:</span> <span class="n">OutputExcelTable</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="n">OutputExcelTable</span><span class="p">)</span>
    <span class="n">abs_file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_absolute_filepath</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Resolves the output directory and name into an absolute path.&quot;&quot;&quot;</span>
        <span class="n">base_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">directory</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">base_path</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">():</span>
            <span class="n">base_path</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span> <span class="o">/</span> <span class="n">base_path</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">base_path</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
            <span class="n">base_path</span> <span class="o">=</span> <span class="n">base_path</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">abs_file_path</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">base_path</span><span class="o">.</span><span class="n">resolve</span><span class="p">())</span>

    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;after&#39;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">populate_abs_file_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Ensures the absolute file path is populated after validation.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_absolute_filepath</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.input_schema.OutputSettings.populate_abs_file_path" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">populate_abs_file_path</span><span class="p">()</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Ensures the absolute file path is populated after validation.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;after&#39;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">populate_abs_file_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Ensures the absolute file path is populated after validation.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">set_absolute_filepath</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.input_schema.OutputSettings.set_absolute_filepath" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">set_absolute_filepath</span><span class="p">()</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Resolves the output directory and name into an absolute path.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_absolute_filepath</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Resolves the output directory and name into an absolute path.&quot;&quot;&quot;</span>
    <span class="n">base_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">directory</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">base_path</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">():</span>
        <span class="n">base_path</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span> <span class="o">/</span> <span class="n">base_path</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">base_path</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
        <span class="n">base_path</span> <span class="o">=</span> <span class="n">base_path</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">abs_file_path</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">base_path</span><span class="o">.</span><span class="n">resolve</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.RawData" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>RawData</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Represents data in a raw, columnar format for manual input.</p>












<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            from_pylist(pylist)

  
      classmethod
   (flowfile_core.schemas.input_schema.RawData.from_pylist)" href="#flowfile_core.schemas.input_schema.RawData.from_pylist">from_pylist</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Creates a RawData object from a list of Python dictionaries.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            to_pylist() (flowfile_core.schemas.input_schema.RawData.to_pylist)" href="#flowfile_core.schemas.input_schema.RawData.to_pylist">to_pylist</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Converts the RawData object back into a list of Python dictionaries.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>



              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">RawData</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents data in a raw, columnar format for manual input.&quot;&quot;&quot;</span>
    <span class="n">columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">MinimalFieldInfo</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_pylist</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">pylist</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">dict</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a RawData object from a list of Python dictionaries.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">pylist</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[],</span> <span class="n">data</span><span class="o">=</span><span class="p">[])</span>
        <span class="n">pylist</span> <span class="o">=</span> <span class="n">ensure_similarity_dicts</span><span class="p">(</span><span class="n">pylist</span><span class="p">)</span>
        <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="n">standardize_col_dtype</span><span class="p">([</span><span class="n">vv</span> <span class="k">for</span> <span class="n">vv</span> <span class="ow">in</span> <span class="n">c</span><span class="p">])</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span>
                  <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">pylist</span><span class="p">))]</span>
        <span class="n">data_types</span> <span class="o">=</span> <span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">DataType</span><span class="o">.</span><span class="n">from_python</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="nb">next</span><span class="p">((</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">column_values</span><span class="p">),</span> <span class="kc">None</span><span class="p">)))</span> <span class="k">for</span> <span class="n">column_values</span> <span class="ow">in</span> <span class="n">values</span><span class="p">)</span>
        <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">MinimalFieldInfo</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">c</span><span class="p">,</span> <span class="n">data_type</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">data_types</span><span class="p">)))</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">pylist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()]</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">values</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_pylist</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Converts the RawData object back into a list of Python dictionaries.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[{</span><span class="n">c</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">ci</span><span class="p">][</span><span class="n">ri</span><span class="p">]</span> <span class="k">for</span> <span class="n">ci</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="p">)}</span> <span class="k">for</span> <span class="n">ri</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]))]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.input_schema.RawData.from_pylist" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">from_pylist</span><span class="p">(</span><span class="n">pylist</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Creates a RawData object from a list of Python dictionaries.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">from_pylist</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">pylist</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">dict</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a RawData object from a list of Python dictionaries.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">pylist</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[],</span> <span class="n">data</span><span class="o">=</span><span class="p">[])</span>
    <span class="n">pylist</span> <span class="o">=</span> <span class="n">ensure_similarity_dicts</span><span class="p">(</span><span class="n">pylist</span><span class="p">)</span>
    <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="n">standardize_col_dtype</span><span class="p">([</span><span class="n">vv</span> <span class="k">for</span> <span class="n">vv</span> <span class="ow">in</span> <span class="n">c</span><span class="p">])</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span>
              <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">pylist</span><span class="p">))]</span>
    <span class="n">data_types</span> <span class="o">=</span> <span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">DataType</span><span class="o">.</span><span class="n">from_python</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="nb">next</span><span class="p">((</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">column_values</span><span class="p">),</span> <span class="kc">None</span><span class="p">)))</span> <span class="k">for</span> <span class="n">column_values</span> <span class="ow">in</span> <span class="n">values</span><span class="p">)</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">MinimalFieldInfo</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">c</span><span class="p">,</span> <span class="n">data_type</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">data_types</span><span class="p">)))</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">pylist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()]</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">values</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.input_schema.RawData.to_pylist" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">to_pylist</span><span class="p">()</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Converts the RawData object back into a list of Python dictionaries.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">to_pylist</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Converts the RawData object back into a list of Python dictionaries.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[{</span><span class="n">c</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">ci</span><span class="p">][</span><span class="n">ri</span><span class="p">]</span> <span class="k">for</span> <span class="n">ci</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="p">)}</span> <span class="k">for</span> <span class="n">ri</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]))]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.ReceivedCsvTable" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>ReceivedCsvTable</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            ReceivedTableBase (flowfile_core.schemas.input_schema.ReceivedTableBase)" href="#flowfile_core.schemas.input_schema.ReceivedTableBase">ReceivedTableBase</a></code></p>


        <p>Defines settings for reading a CSV file.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ReceivedCsvTable</span><span class="p">(</span><span class="n">ReceivedTableBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Defines settings for reading a CSV file.&quot;&quot;&quot;</span>
    <span class="n">file_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;csv&#39;</span>
    <span class="n">reference</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="n">starting_from_line</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">delimiter</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span>
    <span class="n">has_headers</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">encoding</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;utf-8&#39;</span>
    <span class="n">parquet_ref</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">row_delimiter</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
    <span class="n">quote_char</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&quot;&#39;</span>
    <span class="n">infer_schema_length</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10_000</span>
    <span class="n">truncate_ragged_lines</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">ignore_errors</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.ReceivedExcelTable" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>ReceivedExcelTable</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            ReceivedTableBase (flowfile_core.schemas.input_schema.ReceivedTableBase)" href="#flowfile_core.schemas.input_schema.ReceivedTableBase">ReceivedTableBase</a></code></p>


        <p>Defines settings for reading an Excel file.</p>












<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            validate_range_values() (flowfile_core.schemas.input_schema.ReceivedExcelTable.validate_range_values)" href="#flowfile_core.schemas.input_schema.ReceivedExcelTable.validate_range_values">validate_range_values</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Validates that the Excel cell range is logical.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>



              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ReceivedExcelTable</span><span class="p">(</span><span class="n">ReceivedTableBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Defines settings for reading an Excel file.&quot;&quot;&quot;</span>
    <span class="n">sheet_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">start_row</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">start_column</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">end_row</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">end_column</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">has_headers</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">type_inference</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">validate_range_values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validates that the Excel cell range is logical.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">attribute</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">start_row</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_column</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">end_row</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">end_column</span><span class="p">]:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">attribute</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">or</span> <span class="n">attribute</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Row and column indices must be non-negative integers&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">end_row</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_row</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">end_row</span><span class="p">)</span> <span class="ow">or</span> \
           <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">end_column</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_column</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">end_column</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Start row/column must not be greater than end row/column&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.input_schema.ReceivedExcelTable.validate_range_values" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">validate_range_values</span><span class="p">()</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Validates that the Excel cell range is logical.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">validate_range_values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validates that the Excel cell range is logical.&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">attribute</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">start_row</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_column</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">end_row</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">end_column</span><span class="p">]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">attribute</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">or</span> <span class="n">attribute</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Row and column indices must be non-negative integers&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">end_row</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_row</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">end_row</span><span class="p">)</span> <span class="ow">or</span> \
       <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">end_column</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_column</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">end_column</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Start row/column must not be greater than end row/column&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.ReceivedJsonTable" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>ReceivedJsonTable</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            ReceivedCsvTable (flowfile_core.schemas.input_schema.ReceivedCsvTable)" href="#flowfile_core.schemas.input_schema.ReceivedCsvTable">ReceivedCsvTable</a></code></p>


        <p>Defines settings for reading a JSON file (inherits from CSV settings).</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ReceivedJsonTable</span><span class="p">(</span><span class="n">ReceivedCsvTable</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Defines settings for reading a JSON file (inherits from CSV settings).&quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.ReceivedParquetTable" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>ReceivedParquetTable</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            ReceivedTableBase (flowfile_core.schemas.input_schema.ReceivedTableBase)" href="#flowfile_core.schemas.input_schema.ReceivedTableBase">ReceivedTableBase</a></code></p>


        <p>Defines settings for reading a Parquet file.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ReceivedParquetTable</span><span class="p">(</span><span class="n">ReceivedTableBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Defines settings for reading a Parquet file.&quot;&quot;&quot;</span>
    <span class="n">file_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;parquet&#39;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.ReceivedTable" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>ReceivedTable</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            ReceivedExcelTable (flowfile_core.schemas.input_schema.ReceivedExcelTable)" href="#flowfile_core.schemas.input_schema.ReceivedExcelTable">ReceivedExcelTable</a></code>, <code><a class="autorefs autorefs-internal" title="            ReceivedCsvTable (flowfile_core.schemas.input_schema.ReceivedCsvTable)" href="#flowfile_core.schemas.input_schema.ReceivedCsvTable">ReceivedCsvTable</a></code>, <code><a class="autorefs autorefs-internal" title="            ReceivedParquetTable (flowfile_core.schemas.input_schema.ReceivedParquetTable)" href="#flowfile_core.schemas.input_schema.ReceivedParquetTable">ReceivedParquetTable</a></code></p>


        <p>A comprehensive model that can represent any type of received table.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ReceivedTable</span><span class="p">(</span><span class="n">ReceivedExcelTable</span><span class="p">,</span> <span class="n">ReceivedCsvTable</span><span class="p">,</span> <span class="n">ReceivedParquetTable</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A comprehensive model that can represent any type of received table.&quot;&quot;&quot;</span>
    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.ReceivedTableBase" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>ReceivedTableBase</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Base model for defining a table received from an external source.</p>












<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            create_from_path(path)

  
      classmethod
   (flowfile_core.schemas.input_schema.ReceivedTableBase.create_from_path)" href="#flowfile_core.schemas.input_schema.ReceivedTableBase.create_from_path">create_from_path</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Creates an instance from a file path string.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            populate_abs_file_path() (flowfile_core.schemas.input_schema.ReceivedTableBase.populate_abs_file_path)" href="#flowfile_core.schemas.input_schema.ReceivedTableBase.populate_abs_file_path">populate_abs_file_path</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Ensures the absolute file path is populated after validation.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            set_absolute_filepath() (flowfile_core.schemas.input_schema.ReceivedTableBase.set_absolute_filepath)" href="#flowfile_core.schemas.input_schema.ReceivedTableBase.set_absolute_filepath">set_absolute_filepath</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Resolves the path to an absolute file path.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>




<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            file_path

  
      property
   (flowfile_core.schemas.input_schema.ReceivedTableBase.file_path)" href="#flowfile_core.schemas.input_schema.ReceivedTableBase.file_path">file_path</a></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Constructs the full file path from the directory and name.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ReceivedTableBase</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base model for defining a table received from an external source.&quot;&quot;&quot;</span>
    <span class="nb">id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">path</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># This can be an absolute or relative path</span>
    <span class="n">directory</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">analysis_file_available</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">file_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">fields</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">MinimalFieldInfo</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
    <span class="n">abs_file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">create_from_path</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates an instance from a file path string.&quot;&quot;&quot;</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span><span class="o">.</span><span class="n">name</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">file_path</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructs the full file path from the directory and name.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">path</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_absolute_filepath</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Resolves the path to an absolute file path.&quot;&quot;&quot;</span>
        <span class="n">base_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">)</span><span class="o">.</span><span class="n">expanduser</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">base_path</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">():</span>
            <span class="n">base_path</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span> <span class="o">/</span> <span class="n">base_path</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">base_path</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
            <span class="n">base_path</span> <span class="o">=</span> <span class="n">base_path</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">abs_file_path</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">base_path</span><span class="o">.</span><span class="n">resolve</span><span class="p">())</span>

    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;after&#39;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">populate_abs_file_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Ensures the absolute file path is populated after validation.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">abs_file_path</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_absolute_filepath</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h6 id="flowfile_core.schemas.input_schema.ReceivedTableBase.file_path" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">file_path</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Constructs the full file path from the directory and name.</p>

    </div>

</div>




<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.input_schema.ReceivedTableBase.create_from_path" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">create_from_path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Creates an instance from a file path string.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create_from_path</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates an instance from a file path string.&quot;&quot;&quot;</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span><span class="o">.</span><span class="n">name</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.input_schema.ReceivedTableBase.populate_abs_file_path" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">populate_abs_file_path</span><span class="p">()</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Ensures the absolute file path is populated after validation.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;after&#39;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">populate_abs_file_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Ensures the absolute file path is populated after validation.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">abs_file_path</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_absolute_filepath</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.input_schema.ReceivedTableBase.set_absolute_filepath" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">set_absolute_filepath</span><span class="p">()</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Resolves the path to an absolute file path.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_absolute_filepath</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Resolves the path to an absolute file path.&quot;&quot;&quot;</span>
    <span class="n">base_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">)</span><span class="o">.</span><span class="n">expanduser</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">base_path</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">():</span>
        <span class="n">base_path</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span> <span class="o">/</span> <span class="n">base_path</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">base_path</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
        <span class="n">base_path</span> <span class="o">=</span> <span class="n">base_path</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">abs_file_path</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">base_path</span><span class="o">.</span><span class="n">resolve</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.RemoveItem" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>RemoveItem</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Represents a single item to be removed from a directory or list.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">RemoveItem</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents a single item to be removed from a directory or list.&quot;&quot;&quot;</span>
    <span class="n">path</span><span class="p">:</span> <span class="nb">str</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.RemoveItemsInput" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>RemoveItemsInput</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Defines a list of items to be removed.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">RemoveItemsInput</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Defines a list of items to be removed.&quot;&quot;&quot;</span>
    <span class="n">paths</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">RemoveItem</span><span class="p">]</span>
    <span class="n">source_path</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.SampleUsers" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>SampleUsers</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            ExternalSource (flowfile_core.schemas.input_schema.ExternalSource)" href="#flowfile_core.schemas.input_schema.ExternalSource">ExternalSource</a></code></p>


        <p>Settings for generating a sample dataset of users.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">SampleUsers</span><span class="p">(</span><span class="n">ExternalSource</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for generating a sample dataset of users.&quot;&quot;&quot;</span>
    <span class="n">SAMPLE_USERS</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">class_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;sample_users&quot;</span>
    <span class="n">size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.input_schema.UserDefinedNode" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>UserDefinedNode</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            NodeMultiInput (flowfile_core.schemas.input_schema.NodeMultiInput)" href="#flowfile_core.schemas.input_schema.NodeMultiInput">NodeMultiInput</a></code></p>


        <p>Settings for a node that contains the user defined node information</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/input_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">UserDefinedNode</span><span class="p">(</span><span class="n">NodeMultiInput</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for a node that contains the user defined node information&quot;&quot;&quot;</span>
    <span class="n">settings</span><span class="p">:</span> <span class="n">Any</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>




  </div>

    </div>

</div><h3 id="transform_schema"><code>transform_schema</code></h3>


<div class="doc doc-object doc-module">



<h4 id="flowfile_core.schemas.transform_schema" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <code>flowfile_core.schemas.transform_schema</code>


</h4>

    <div class="doc doc-contents first">










<p><span class="doc-section-title">Classes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            AggColl


  
      dataclass
   (flowfile_core.schemas.transform_schema.AggColl)" href="#flowfile_core.schemas.transform_schema.AggColl">AggColl</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>A data class that represents a single aggregation operation for a group by operation.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            BasicFilter


  
      dataclass
   (flowfile_core.schemas.transform_schema.BasicFilter)" href="#flowfile_core.schemas.transform_schema.BasicFilter">BasicFilter</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Defines a simple, single-condition filter (e.g., 'column' 'equals' 'value').</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            CrossJoinInput


  
      dataclass
   (flowfile_core.schemas.transform_schema.CrossJoinInput)" href="#flowfile_core.schemas.transform_schema.CrossJoinInput">CrossJoinInput</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Defines the settings for a cross join operation, including column selections for both inputs.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            FieldInput


  
      dataclass
   (flowfile_core.schemas.transform_schema.FieldInput)" href="#flowfile_core.schemas.transform_schema.FieldInput">FieldInput</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Represents a single field with its name and data type, typically for defining an output column.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            FilterInput


  
      dataclass
   (flowfile_core.schemas.transform_schema.FilterInput)" href="#flowfile_core.schemas.transform_schema.FilterInput">FilterInput</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Defines the settings for a filter operation, supporting basic or advanced (expression-based) modes.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            FullJoinKeyResponse (flowfile_core.schemas.transform_schema.FullJoinKeyResponse)" href="#flowfile_core.schemas.transform_schema.FullJoinKeyResponse">FullJoinKeyResponse</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Holds the join key rename responses for both sides of a join.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            FunctionInput


  
      dataclass
   (flowfile_core.schemas.transform_schema.FunctionInput)" href="#flowfile_core.schemas.transform_schema.FunctionInput">FunctionInput</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Defines a formula to be applied, including the output field information.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            FuzzyMatchInput


  
      dataclass
   (flowfile_core.schemas.transform_schema.FuzzyMatchInput)" href="#flowfile_core.schemas.transform_schema.FuzzyMatchInput">FuzzyMatchInput</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Extends <code>JoinInput</code> with settings specific to fuzzy matching, such as the matching algorithm and threshold.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            GraphSolverInput


  
      dataclass
   (flowfile_core.schemas.transform_schema.GraphSolverInput)" href="#flowfile_core.schemas.transform_schema.GraphSolverInput">GraphSolverInput</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Defines settings for a graph-solving operation (e.g., finding connected components).</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            GroupByInput


  
      dataclass
   (flowfile_core.schemas.transform_schema.GroupByInput)" href="#flowfile_core.schemas.transform_schema.GroupByInput">GroupByInput</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>A data class that represents the input for a group by operation.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            JoinInput


  
      dataclass
   (flowfile_core.schemas.transform_schema.JoinInput)" href="#flowfile_core.schemas.transform_schema.JoinInput">JoinInput</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Defines the settings for a standard SQL-style join, including keys, strategy, and selections.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            JoinInputs (flowfile_core.schemas.transform_schema.JoinInputs)" href="#flowfile_core.schemas.transform_schema.JoinInputs">JoinInputs</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Extends <code>SelectInputs</code> with functionality specific to join operations, like handling join keys.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            JoinKeyRename (flowfile_core.schemas.transform_schema.JoinKeyRename)" href="#flowfile_core.schemas.transform_schema.JoinKeyRename">JoinKeyRename</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Represents the renaming of a join key from its original to a temporary name.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            JoinKeyRenameResponse (flowfile_core.schemas.transform_schema.JoinKeyRenameResponse)" href="#flowfile_core.schemas.transform_schema.JoinKeyRenameResponse">JoinKeyRenameResponse</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Contains a list of join key renames for one side of a join.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            JoinMap


  
      dataclass
   (flowfile_core.schemas.transform_schema.JoinMap)" href="#flowfile_core.schemas.transform_schema.JoinMap">JoinMap</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Defines a single mapping between a left and right column for a join key.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            JoinSelectMixin (flowfile_core.schemas.transform_schema.JoinSelectMixin)" href="#flowfile_core.schemas.transform_schema.JoinSelectMixin">JoinSelectMixin</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>A mixin providing common methods for join-like operations that involve left and right inputs.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            PivotInput


  
      dataclass
   (flowfile_core.schemas.transform_schema.PivotInput)" href="#flowfile_core.schemas.transform_schema.PivotInput">PivotInput</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Defines the settings for a pivot (long-to-wide) operation.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            PolarsCodeInput


  
      dataclass
   (flowfile_core.schemas.transform_schema.PolarsCodeInput)" href="#flowfile_core.schemas.transform_schema.PolarsCodeInput">PolarsCodeInput</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>A simple container for a string of user-provided Polars code to be executed.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            RecordIdInput


  
      dataclass
   (flowfile_core.schemas.transform_schema.RecordIdInput)" href="#flowfile_core.schemas.transform_schema.RecordIdInput">RecordIdInput</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Defines settings for adding a record ID (row number) column to the data.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            SelectInput


  
      dataclass
   (flowfile_core.schemas.transform_schema.SelectInput)" href="#flowfile_core.schemas.transform_schema.SelectInput">SelectInput</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Defines how a single column should be selected, renamed, or type-cast.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            SelectInputs


  
      dataclass
   (flowfile_core.schemas.transform_schema.SelectInputs)" href="#flowfile_core.schemas.transform_schema.SelectInputs">SelectInputs</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>A container for a list of <code>SelectInput</code> objects, providing helper methods for managing selections.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            SortByInput


  
      dataclass
   (flowfile_core.schemas.transform_schema.SortByInput)" href="#flowfile_core.schemas.transform_schema.SortByInput">SortByInput</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Defines a single sort condition on a column, including the direction.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            TextToRowsInput


  
      dataclass
   (flowfile_core.schemas.transform_schema.TextToRowsInput)" href="#flowfile_core.schemas.transform_schema.TextToRowsInput">TextToRowsInput</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Defines settings for splitting a text column into multiple rows based on a delimiter.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            UnionInput


  
      dataclass
   (flowfile_core.schemas.transform_schema.UnionInput)" href="#flowfile_core.schemas.transform_schema.UnionInput">UnionInput</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Defines settings for a union (concatenation) operation.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            UniqueInput


  
      dataclass
   (flowfile_core.schemas.transform_schema.UniqueInput)" href="#flowfile_core.schemas.transform_schema.UniqueInput">UniqueInput</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Defines settings for a uniqueness operation, specifying columns and which row to keep.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            UnpivotInput


  
      dataclass
   (flowfile_core.schemas.transform_schema.UnpivotInput)" href="#flowfile_core.schemas.transform_schema.UnpivotInput">UnpivotInput</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Defines settings for an unpivot (wide-to-long) operation.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>




<p><span class="doc-section-title">Functions:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            construct_join_key_name(side, column_name) (flowfile_core.schemas.transform_schema.construct_join_key_name)" href="#flowfile_core.schemas.transform_schema.construct_join_key_name">construct_join_key_name</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Creates a temporary, unique name for a join key column.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_func_type_mapping(func) (flowfile_core.schemas.transform_schema.get_func_type_mapping)" href="#flowfile_core.schemas.transform_schema.get_func_type_mapping">get_func_type_mapping</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Infers the output data type of common aggregation functions.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            string_concat(*column) (flowfile_core.schemas.transform_schema.string_concat)" href="#flowfile_core.schemas.transform_schema.string_concat">string_concat</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>A simple wrapper to concatenate string columns in Polars.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>





  <div class="doc doc-children">









<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.transform_schema.AggColl" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>AggColl</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">


        <p>A data class that represents a single aggregation operation for a group by operation.</p>
<h6 id="flowfile_core.schemas.transform_schema.AggColl--attributes">Attributes</h6>
<p>old_name : str
    The name of the column in the original DataFrame to be aggregated.</p>


<details class="agg-" open>
  <summary>Any</summary>
  <p>The aggregation function to use. This can be a string representing a built-in function or a custom function.</p>
</details>

<details class="new_name-" open>
  <summary>Optional[str]</summary>
  <p>The name of the resulting aggregated column in the output DataFrame. If not provided, it will default to the
old_name appended with the aggregation function.</p>
</details>

<details class="output_type-" open>
  <summary>Optional[str]</summary>
  <p>The type of the output values of the aggregation. If not provided, it is inferred from the aggregation function
using the <code>get_func_type_mapping</code> function.</p>
</details>        <h6 id="flowfile_core.schemas.transform_schema.AggColl--example">Example</h6>
<p>agg_col = AggColl(
    old_name='col1',
    agg='sum',
    new_name='sum_col1',
    output_type='float'
)</p>












<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            __init__(old_name, agg, new_name=None, output_type=None) (flowfile_core.schemas.transform_schema.AggColl.__init__)" href="#flowfile_core.schemas.transform_schema.AggColl.__init__">__init__</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Initializes an aggregation column with its source, function, and new name.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>




<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            agg_func

  
      property
   (flowfile_core.schemas.transform_schema.AggColl.agg_func)" href="#flowfile_core.schemas.transform_schema.AggColl.agg_func">agg_func</a></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Returns the corresponding Polars aggregation function from the <code>agg</code> string.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">AggColl</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A data class that represents a single aggregation operation for a group by operation.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    old_name : str</span>
<span class="sd">        The name of the column in the original DataFrame to be aggregated.</span>

<span class="sd">    agg : Any</span>
<span class="sd">        The aggregation function to use. This can be a string representing a built-in function or a custom function.</span>

<span class="sd">    new_name : Optional[str]</span>
<span class="sd">        The name of the resulting aggregated column in the output DataFrame. If not provided, it will default to the</span>
<span class="sd">        old_name appended with the aggregation function.</span>

<span class="sd">    output_type : Optional[str]</span>
<span class="sd">        The type of the output values of the aggregation. If not provided, it is inferred from the aggregation function</span>
<span class="sd">        using the `get_func_type_mapping` function.</span>

<span class="sd">    Example</span>
<span class="sd">    --------</span>
<span class="sd">    agg_col = AggColl(</span>
<span class="sd">        old_name=&#39;col1&#39;,</span>
<span class="sd">        agg=&#39;sum&#39;,</span>
<span class="sd">        new_name=&#39;sum_col1&#39;,</span>
<span class="sd">        output_type=&#39;float&#39;</span>
<span class="sd">    )</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">old_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">agg</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">new_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">output_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">old_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">agg</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">new_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">output_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initializes an aggregation column with its source, function, and new name.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">old_name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">old_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">agg</span> <span class="o">!=</span> <span class="s1">&#39;groupby&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">new_name</span> <span class="o">=</span> <span class="n">new_name</span> <span class="k">if</span> <span class="n">new_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">old_name</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span> <span class="o">+</span> <span class="n">agg</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">new_name</span> <span class="o">=</span> <span class="n">new_name</span> <span class="k">if</span> <span class="n">new_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">old_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_type</span> <span class="o">=</span> <span class="n">output_type</span> <span class="k">if</span> <span class="n">output_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">get_func_type_mapping</span><span class="p">(</span><span class="n">agg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">agg</span> <span class="o">=</span> <span class="n">agg</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">agg_func</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the corresponding Polars aggregation function from the `agg` string.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">agg</span> <span class="o">==</span> <span class="s1">&#39;groupby&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">agg</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">agg</span> <span class="o">==</span> <span class="s1">&#39;concat&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">string_concat</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">pl</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">agg</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">agg</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">agg</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h6 id="flowfile_core.schemas.transform_schema.AggColl.agg_func" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">agg_func</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Returns the corresponding Polars aggregation function from the <code>agg</code> string.</p>

    </div>

</div>




<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.transform_schema.AggColl.__init__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">old_name</span><span class="p">,</span> <span class="n">agg</span><span class="p">,</span> <span class="n">new_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">output_type</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Initializes an aggregation column with its source, function, and new name.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">old_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">agg</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">new_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">output_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initializes an aggregation column with its source, function, and new name.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">old_name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">old_name</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">agg</span> <span class="o">!=</span> <span class="s1">&#39;groupby&#39;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">new_name</span> <span class="o">=</span> <span class="n">new_name</span> <span class="k">if</span> <span class="n">new_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">old_name</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span> <span class="o">+</span> <span class="n">agg</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">new_name</span> <span class="o">=</span> <span class="n">new_name</span> <span class="k">if</span> <span class="n">new_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">old_name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">output_type</span> <span class="o">=</span> <span class="n">output_type</span> <span class="k">if</span> <span class="n">output_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">get_func_type_mapping</span><span class="p">(</span><span class="n">agg</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">agg</span> <span class="o">=</span> <span class="n">agg</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.transform_schema.BasicFilter" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>BasicFilter</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">


        <p>Defines a simple, single-condition filter (e.g., 'column' 'equals' 'value').</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">BasicFilter</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Defines a simple, single-condition filter (e.g., &#39;column&#39; &#39;equals&#39; &#39;value&#39;).&quot;&quot;&quot;</span>
    <span class="n">field</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="n">filter_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="n">filter_value</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.transform_schema.CrossJoinInput" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>CrossJoinInput</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            JoinSelectMixin (flowfile_core.schemas.transform_schema.JoinSelectMixin)" href="#flowfile_core.schemas.transform_schema.JoinSelectMixin">JoinSelectMixin</a></code></p>


        <p>Defines the settings for a cross join operation, including column selections for both inputs.</p>












<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            __init__(left_select, right_select) (flowfile_core.schemas.transform_schema.CrossJoinInput.__init__)" href="#flowfile_core.schemas.transform_schema.CrossJoinInput.__init__">__init__</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Initializes the CrossJoinInput with selections for left and right tables.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            auto_rename() (flowfile_core.schemas.transform_schema.CrossJoinInput.auto_rename)" href="#flowfile_core.schemas.transform_schema.CrossJoinInput.auto_rename">auto_rename</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Automatically renames columns on the right side to prevent naming conflicts.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>




<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            overlapping_records

  
      property
   (flowfile_core.schemas.transform_schema.CrossJoinInput.overlapping_records)" href="#flowfile_core.schemas.transform_schema.CrossJoinInput.overlapping_records">overlapping_records</a></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Finds column names that would conflict after the join.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">CrossJoinInput</span><span class="p">(</span><span class="n">JoinSelectMixin</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Defines the settings for a cross join operation, including column selections for both inputs.&quot;&quot;&quot;</span>
    <span class="n">left_select</span><span class="p">:</span> <span class="n">SelectInputs</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">right_select</span><span class="p">:</span> <span class="n">SelectInputs</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">left_select</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">SelectInput</span><span class="p">]</span> <span class="o">|</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
                 <span class="n">right_select</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">SelectInput</span><span class="p">]</span> <span class="o">|</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initializes the CrossJoinInput with selections for left and right tables.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">left_select</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_select</span><span class="p">(</span><span class="n">left_select</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">right_select</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_select</span><span class="p">(</span><span class="n">right_select</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">overlapping_records</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Finds column names that would conflict after the join.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">new_cols</span> <span class="o">&amp;</span> <span class="bp">self</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">new_cols</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">auto_rename</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Automatically renames columns on the right side to prevent naming conflicts.&quot;&quot;&quot;</span>
        <span class="n">overlapping_records</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">overlapping_records</span>
        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">overlapping_records</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">right_col</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">renames</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">right_col</span><span class="o">.</span><span class="n">new_name</span> <span class="ow">in</span> <span class="n">overlapping_records</span><span class="p">:</span>
                    <span class="n">right_col</span><span class="o">.</span><span class="n">new_name</span> <span class="o">=</span> <span class="s1">&#39;right_&#39;</span> <span class="o">+</span> <span class="n">right_col</span><span class="o">.</span><span class="n">new_name</span>
            <span class="n">overlapping_records</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">overlapping_records</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h6 id="flowfile_core.schemas.transform_schema.CrossJoinInput.overlapping_records" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">overlapping_records</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Finds column names that would conflict after the join.</p>

    </div>

</div>




<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.transform_schema.CrossJoinInput.__init__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">left_select</span><span class="p">,</span> <span class="n">right_select</span><span class="p">)</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Initializes the CrossJoinInput with selections for left and right tables.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">left_select</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">SelectInput</span><span class="p">]</span> <span class="o">|</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
             <span class="n">right_select</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">SelectInput</span><span class="p">]</span> <span class="o">|</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initializes the CrossJoinInput with selections for left and right tables.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">left_select</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_select</span><span class="p">(</span><span class="n">left_select</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">right_select</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_select</span><span class="p">(</span><span class="n">right_select</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.transform_schema.CrossJoinInput.auto_rename" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">auto_rename</span><span class="p">()</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Automatically renames columns on the right side to prevent naming conflicts.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">auto_rename</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Automatically renames columns on the right side to prevent naming conflicts.&quot;&quot;&quot;</span>
    <span class="n">overlapping_records</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">overlapping_records</span>
    <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">overlapping_records</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">right_col</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">renames</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">right_col</span><span class="o">.</span><span class="n">new_name</span> <span class="ow">in</span> <span class="n">overlapping_records</span><span class="p">:</span>
                <span class="n">right_col</span><span class="o">.</span><span class="n">new_name</span> <span class="o">=</span> <span class="s1">&#39;right_&#39;</span> <span class="o">+</span> <span class="n">right_col</span><span class="o">.</span><span class="n">new_name</span>
        <span class="n">overlapping_records</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">overlapping_records</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.transform_schema.FieldInput" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>FieldInput</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">


        <p>Represents a single field with its name and data type, typically for defining an output column.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">FieldInput</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents a single field with its name and data type, typically for defining an output column.&quot;&quot;&quot;</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">data_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_type</span> <span class="o">=</span> <span class="n">data_type</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.transform_schema.FilterInput" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>FilterInput</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">


        <p>Defines the settings for a filter operation, supporting basic or advanced (expression-based) modes.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">FilterInput</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Defines the settings for a filter operation, supporting basic or advanced (expression-based) modes.&quot;&quot;&quot;</span>
    <span class="n">advanced_filter</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="n">basic_filter</span><span class="p">:</span> <span class="n">BasicFilter</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">filter_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;basic&#39;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.transform_schema.FullJoinKeyResponse" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>FullJoinKeyResponse</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="typing.NamedTuple">NamedTuple</span></code></p>


        <p>Holds the join key rename responses for both sides of a join.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">FullJoinKeyResponse</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Holds the join key rename responses for both sides of a join.&quot;&quot;&quot;</span>
    <span class="n">left</span><span class="p">:</span> <span class="n">JoinKeyRenameResponse</span>
    <span class="n">right</span><span class="p">:</span> <span class="n">JoinKeyRenameResponse</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.transform_schema.FunctionInput" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>FunctionInput</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">


        <p>Defines a formula to be applied, including the output field information.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">FunctionInput</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Defines a formula to be applied, including the output field information.&quot;&quot;&quot;</span>
    <span class="n">field</span><span class="p">:</span> <span class="n">FieldInput</span>
    <span class="n">function</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.transform_schema.FuzzyMatchInput" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>FuzzyMatchInput</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            JoinInput


  
      dataclass
   (flowfile_core.schemas.transform_schema.JoinInput)" href="#flowfile_core.schemas.transform_schema.JoinInput">JoinInput</a></code></p>


        <p>Extends <code>JoinInput</code> with settings specific to fuzzy matching, such as the matching algorithm and threshold.</p>














<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            fuzzy_maps

  
      property
   (flowfile_core.schemas.transform_schema.FuzzyMatchInput.fuzzy_maps)" href="#flowfile_core.schemas.transform_schema.FuzzyMatchInput.fuzzy_maps">fuzzy_maps</a></code></td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="pl_fuzzy_frame_match.models.FuzzyMapping">FuzzyMapping</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Returns the final fuzzy mappings after applying all column renames.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">FuzzyMatchInput</span><span class="p">(</span><span class="n">JoinInput</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Extends `JoinInput` with settings specific to fuzzy matching, such as the matching algorithm and threshold.&quot;&quot;&quot;</span>
    <span class="n">join_mapping</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">FuzzyMapping</span><span class="p">]</span>
    <span class="n">aggregate_output</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">parse_fuzz_mapping</span><span class="p">(</span><span class="n">fuzz_mapping</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">FuzzyMapping</span><span class="p">]</span> <span class="o">|</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FuzzyMapping</span><span class="p">]:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fuzz_mapping</span><span class="p">,</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">)):</span>
            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">fuzz_mapping</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">fm</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="k">for</span> <span class="n">fm</span> <span class="ow">in</span> <span class="n">fuzz_mapping</span><span class="p">):</span>
                <span class="n">fuzz_mapping</span> <span class="o">=</span> <span class="p">[</span><span class="n">FuzzyMapping</span><span class="p">(</span><span class="o">**</span><span class="n">fm</span><span class="p">)</span> <span class="k">for</span> <span class="n">fm</span> <span class="ow">in</span> <span class="n">fuzz_mapping</span><span class="p">]</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fuzz_mapping</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">FuzzyMapping</span><span class="p">):</span>
                <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">fuzz_mapping</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">2</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">fuzz_mapping</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fuzz_mapping</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fuzz_mapping</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nb">str</span><span class="p">)</span>
                    <span class="n">fuzz_mapping</span> <span class="o">=</span> <span class="p">[</span><span class="n">FuzzyMapping</span><span class="p">(</span><span class="o">*</span><span class="n">fuzz_mapping</span><span class="p">)]</span>
                <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fuzz_mapping</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">str</span><span class="p">):</span>
                    <span class="n">fuzz_mapping</span> <span class="o">=</span> <span class="p">[</span><span class="n">FuzzyMapping</span><span class="p">(</span><span class="n">fuzz_mapping</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">fuzz_mapping</span><span class="p">[</span><span class="mi">0</span><span class="p">])]</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fuzz_mapping</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">fuzz_mapping</span> <span class="o">=</span> <span class="p">[</span><span class="n">FuzzyMapping</span><span class="p">(</span><span class="n">fuzz_mapping</span><span class="p">,</span> <span class="n">fuzz_mapping</span><span class="p">)]</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fuzz_mapping</span><span class="p">,</span> <span class="n">FuzzyMapping</span><span class="p">):</span>
            <span class="n">fuzz_mapping</span> <span class="o">=</span> <span class="p">[</span><span class="n">fuzz_mapping</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;No valid join mapping as input&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">fuzz_mapping</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">join_mapping</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">FuzzyMapping</span><span class="p">]</span> <span class="o">|</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span> <span class="n">left_select</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">SelectInput</span><span class="p">]</span> <span class="o">|</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
                 <span class="n">right_select</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">SelectInput</span><span class="p">]</span> <span class="o">|</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">aggregate_output</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">how</span><span class="p">:</span> <span class="n">JoinStrategy</span> <span class="o">=</span> <span class="s1">&#39;inner&#39;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">join_mapping</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_fuzz_mapping</span><span class="p">(</span><span class="n">join_mapping</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">left_select</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_select</span><span class="p">(</span><span class="n">left_select</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">right_select</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_select</span><span class="p">(</span><span class="n">right_select</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">how</span> <span class="o">=</span> <span class="n">how</span>
        <span class="k">for</span> <span class="n">jm</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">join_mapping</span><span class="p">:</span>

            <span class="k">if</span> <span class="n">jm</span><span class="o">.</span><span class="n">right_col</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span><span class="n">v</span><span class="o">.</span><span class="n">old_name</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">renames</span><span class="p">}:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">SelectInput</span><span class="p">(</span><span class="n">jm</span><span class="o">.</span><span class="n">right_col</span><span class="p">,</span> <span class="n">keep</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">join_key</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">jm</span><span class="o">.</span><span class="n">left_col</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span><span class="n">v</span><span class="o">.</span><span class="n">old_name</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">renames</span><span class="p">}:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">SelectInput</span><span class="p">(</span><span class="n">jm</span><span class="o">.</span><span class="n">left_col</span><span class="p">,</span> <span class="n">keep</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">join_key</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
        <span class="p">[</span><span class="nb">setattr</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s2">&quot;join_key&quot;</span><span class="p">,</span> <span class="n">v</span><span class="o">.</span><span class="n">old_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_left_join_keys</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">renames</span><span class="p">]</span>
        <span class="p">[</span><span class="nb">setattr</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s2">&quot;join_key&quot;</span><span class="p">,</span> <span class="n">v</span><span class="o">.</span><span class="n">old_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_right_join_keys</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">renames</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">aggregate_output</span> <span class="o">=</span> <span class="n">aggregate_output</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">overlapping_records</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">new_cols</span> <span class="o">&amp;</span> <span class="bp">self</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">new_cols</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">fuzzy_maps</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FuzzyMapping</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the final fuzzy mappings after applying all column renames.&quot;&quot;&quot;</span>
        <span class="n">new_mappings</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">left_rename_table</span><span class="p">,</span> <span class="n">right_rename_table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">rename_table</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">rename_table</span>
        <span class="k">for</span> <span class="n">org_fuzzy_map</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">join_mapping</span><span class="p">:</span>
            <span class="n">right_col</span> <span class="o">=</span> <span class="n">right_rename_table</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">org_fuzzy_map</span><span class="o">.</span><span class="n">right_col</span><span class="p">)</span>
            <span class="n">left_col</span> <span class="o">=</span> <span class="n">left_rename_table</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">org_fuzzy_map</span><span class="o">.</span><span class="n">left_col</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">right_col</span> <span class="o">!=</span> <span class="n">org_fuzzy_map</span><span class="o">.</span><span class="n">right_col</span> <span class="ow">or</span> <span class="n">left_col</span> <span class="o">!=</span> <span class="n">org_fuzzy_map</span><span class="o">.</span><span class="n">left_col</span><span class="p">:</span>
                <span class="n">new_mapping</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">org_fuzzy_map</span><span class="p">)</span>
                <span class="n">new_mapping</span><span class="o">.</span><span class="n">left_col</span> <span class="o">=</span> <span class="n">left_col</span>
                <span class="n">new_mapping</span><span class="o">.</span><span class="n">right_col</span> <span class="o">=</span> <span class="n">right_col</span>
                <span class="n">new_mappings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_mapping</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">new_mappings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">org_fuzzy_map</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">new_mappings</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h6 id="flowfile_core.schemas.transform_schema.FuzzyMatchInput.fuzzy_maps" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">fuzzy_maps</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Returns the final fuzzy mappings after applying all column renames.</p>

    </div>

</div>






  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.transform_schema.GraphSolverInput" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>GraphSolverInput</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">


        <p>Defines settings for a graph-solving operation (e.g., finding connected components).</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">GraphSolverInput</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Defines settings for a graph-solving operation (e.g., finding connected components).&quot;&quot;&quot;</span>
    <span class="n">col_from</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">col_to</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">output_column_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;graph_group&#39;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.transform_schema.GroupByInput" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>GroupByInput</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">


        <p>A data class that represents the input for a group by operation.</p>
<h6 id="flowfile_core.schemas.transform_schema.GroupByInput--attributes">Attributes</h6>
<p>group_columns : List[str]
    A list of column names to group the DataFrame by. These column(s) will be set as the DataFrame index.</p>


<details class="agg_cols-" open>
  <summary>List[AggColl]</summary>
  <p>A list of <code>AggColl</code> objects that specify the aggregation operations to perform on the DataFrame columns
after grouping. Each <code>AggColl</code> object should specify the column to be aggregated and the aggregation
function to use.</p>
</details>        <h6 id="flowfile_core.schemas.transform_schema.GroupByInput--example">Example</h6>
<p>group_by_input = GroupByInput(
    agg_cols=[AggColl(old_name='ix', agg='groupby'), AggColl(old_name='groups', agg='groupby'), AggColl(old_name='col1', agg='sum'), AggColl(old_name='col2', agg='mean')]
)</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">GroupByInput</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A data class that represents the input for a group by operation.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    group_columns : List[str]</span>
<span class="sd">        A list of column names to group the DataFrame by. These column(s) will be set as the DataFrame index.</span>

<span class="sd">    agg_cols : List[AggColl]</span>
<span class="sd">        A list of `AggColl` objects that specify the aggregation operations to perform on the DataFrame columns</span>
<span class="sd">        after grouping. Each `AggColl` object should specify the column to be aggregated and the aggregation</span>
<span class="sd">        function to use.</span>

<span class="sd">    Example</span>
<span class="sd">    --------</span>
<span class="sd">    group_by_input = GroupByInput(</span>
<span class="sd">        agg_cols=[AggColl(old_name=&#39;ix&#39;, agg=&#39;groupby&#39;), AggColl(old_name=&#39;groups&#39;, agg=&#39;groupby&#39;), AggColl(old_name=&#39;col1&#39;, agg=&#39;sum&#39;), AggColl(old_name=&#39;col2&#39;, agg=&#39;mean&#39;)]</span>
<span class="sd">    )</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">agg_cols</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">AggColl</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.transform_schema.JoinInput" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>JoinInput</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            JoinSelectMixin (flowfile_core.schemas.transform_schema.JoinSelectMixin)" href="#flowfile_core.schemas.transform_schema.JoinSelectMixin">JoinSelectMixin</a></code></p>


        <p>Defines the settings for a standard SQL-style join, including keys, strategy, and selections.</p>












<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            __init__(join_mapping, left_select, right_select, how='inner') (flowfile_core.schemas.transform_schema.JoinInput.__init__)" href="#flowfile_core.schemas.transform_schema.JoinInput.__init__">__init__</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Initializes the JoinInput with keys, selections, and join strategy.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            auto_rename() (flowfile_core.schemas.transform_schema.JoinInput.auto_rename)" href="#flowfile_core.schemas.transform_schema.JoinInput.auto_rename">auto_rename</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Automatically renames columns on the right side to prevent naming conflicts.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_join_key_renames(filter_drop=False) (flowfile_core.schemas.transform_schema.JoinInput.get_join_key_renames)" href="#flowfile_core.schemas.transform_schema.JoinInput.get_join_key_renames">get_join_key_renames</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Gets the temporary rename mappings for the join keys on both sides.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            parse_join_mapping(join_mapping)

  
      staticmethod
   (flowfile_core.schemas.transform_schema.JoinInput.parse_join_mapping)" href="#flowfile_core.schemas.transform_schema.JoinInput.parse_join_mapping">parse_join_mapping</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Parses various input formats for join keys into a standardized list of <code>JoinMap</code> objects.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            set_join_keys() (flowfile_core.schemas.transform_schema.JoinInput.set_join_keys)" href="#flowfile_core.schemas.transform_schema.JoinInput.set_join_keys">set_join_keys</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Marks the <code>SelectInput</code> objects corresponding to join keys.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>




<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            left_join_keys

  
      property
   (flowfile_core.schemas.transform_schema.JoinInput.left_join_keys)" href="#flowfile_core.schemas.transform_schema.JoinInput.left_join_keys">left_join_keys</a></code></td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Returns an ordered list of the left-side join key column names to be used in the join.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            right_join_keys

  
      property
   (flowfile_core.schemas.transform_schema.JoinInput.right_join_keys)" href="#flowfile_core.schemas.transform_schema.JoinInput.right_join_keys">right_join_keys</a></code></td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Returns an ordered list of the right-side join key column names to be used in the join.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            used_join_mapping

  
      property
   (flowfile_core.schemas.transform_schema.JoinInput.used_join_mapping)" href="#flowfile_core.schemas.transform_schema.JoinInput.used_join_mapping">used_join_mapping</a></code></td>
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="            JoinMap


  
      dataclass
   (flowfile_core.schemas.transform_schema.JoinMap)" href="#flowfile_core.schemas.transform_schema.JoinMap">JoinMap</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Returns the final join mapping after applying all renames and transformations.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">JoinInput</span><span class="p">(</span><span class="n">JoinSelectMixin</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Defines the settings for a standard SQL-style join, including keys, strategy, and selections.&quot;&quot;&quot;</span>
    <span class="n">join_mapping</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">JoinMap</span><span class="p">]</span>
    <span class="n">left_select</span><span class="p">:</span> <span class="n">JoinInputs</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">right_select</span><span class="p">:</span> <span class="n">JoinInputs</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">how</span><span class="p">:</span> <span class="n">JoinStrategy</span> <span class="o">=</span> <span class="s1">&#39;inner&#39;</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">parse_join_mapping</span><span class="p">(</span><span class="n">join_mapping</span><span class="p">:</span> <span class="nb">any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">JoinMap</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parses various input formats for join keys into a standardized list of `JoinMap` objects.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">join_mapping</span><span class="p">,</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">)):</span>
            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">join_mapping</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">jm</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="k">for</span> <span class="n">jm</span> <span class="ow">in</span> <span class="n">join_mapping</span><span class="p">):</span>
                <span class="n">join_mapping</span> <span class="o">=</span> <span class="p">[</span><span class="n">JoinMap</span><span class="p">(</span><span class="o">**</span><span class="n">jm</span><span class="p">)</span> <span class="k">for</span> <span class="n">jm</span> <span class="ow">in</span> <span class="n">join_mapping</span><span class="p">]</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">join_mapping</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">JoinMap</span><span class="p">):</span>
                <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">join_mapping</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">2</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">join_mapping</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">join_mapping</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">join_mapping</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nb">str</span><span class="p">)</span>
                    <span class="n">join_mapping</span> <span class="o">=</span> <span class="p">[</span><span class="n">JoinMap</span><span class="p">(</span><span class="o">*</span><span class="n">join_mapping</span><span class="p">)]</span>
                <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">join_mapping</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">str</span><span class="p">):</span>
                    <span class="n">join_mapping</span> <span class="o">=</span> <span class="p">[</span><span class="n">JoinMap</span><span class="p">(</span><span class="n">join_mapping</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">join_mapping</span><span class="p">[</span><span class="mi">0</span><span class="p">])]</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">join_mapping</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">join_mapping</span> <span class="o">=</span> <span class="p">[</span><span class="n">JoinMap</span><span class="p">(</span><span class="n">join_mapping</span><span class="p">,</span> <span class="n">join_mapping</span><span class="p">)]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;No valid join mapping as input&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">join_mapping</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">join_mapping</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">JoinMap</span><span class="p">]</span> <span class="o">|</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
                 <span class="n">left_select</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">SelectInput</span><span class="p">]</span> <span class="o">|</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
                 <span class="n">right_select</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">SelectInput</span><span class="p">]</span> <span class="o">|</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
                 <span class="n">how</span><span class="p">:</span> <span class="n">JoinStrategy</span> <span class="o">=</span> <span class="s1">&#39;inner&#39;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initializes the JoinInput with keys, selections, and join strategy.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">join_mapping</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_join_mapping</span><span class="p">(</span><span class="n">join_mapping</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">left_select</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_select</span><span class="p">(</span><span class="n">left_select</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">right_select</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_select</span><span class="p">(</span><span class="n">right_select</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_join_keys</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">how</span> <span class="o">=</span> <span class="n">how</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_join_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Marks the `SelectInput` objects corresponding to join keys.&quot;&quot;&quot;</span>
        <span class="p">[</span><span class="nb">setattr</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s2">&quot;join_key&quot;</span><span class="p">,</span> <span class="n">v</span><span class="o">.</span><span class="n">old_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_left_join_keys</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">renames</span><span class="p">]</span>
        <span class="p">[</span><span class="nb">setattr</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s2">&quot;join_key&quot;</span><span class="p">,</span> <span class="n">v</span><span class="o">.</span><span class="n">old_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_right_join_keys</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">renames</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_join_key_renames</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_drop</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FullJoinKeyResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the temporary rename mappings for the join keys on both sides.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">FullJoinKeyResponse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">get_join_key_renames</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="n">filter_drop</span><span class="o">=</span><span class="n">filter_drop</span><span class="p">),</span>
                                   <span class="bp">self</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">get_join_key_renames</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="n">filter_drop</span><span class="o">=</span><span class="n">filter_drop</span><span class="p">))</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_names_for_table_rename</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">JoinMap</span><span class="p">]:</span>
        <span class="n">new_mappings</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">JoinMap</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">left_rename_table</span><span class="p">,</span> <span class="n">right_rename_table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">rename_table</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">rename_table</span>
        <span class="k">for</span> <span class="n">join_map</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">join_mapping</span><span class="p">:</span>
            <span class="n">new_mappings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">JoinMap</span><span class="p">(</span><span class="n">left_rename_table</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">join_map</span><span class="o">.</span><span class="n">left_col</span><span class="p">,</span> <span class="n">join_map</span><span class="o">.</span><span class="n">left_col</span><span class="p">),</span>
                                        <span class="n">right_rename_table</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">join_map</span><span class="o">.</span><span class="n">right_col</span><span class="p">,</span> <span class="n">join_map</span><span class="o">.</span><span class="n">right_col</span><span class="p">)</span>
                                        <span class="p">)</span>
                                <span class="p">)</span>
        <span class="k">return</span> <span class="n">new_mappings</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_left_join_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns a set of the left-side join key column names.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">set</span><span class="p">(</span><span class="n">jm</span><span class="o">.</span><span class="n">left_col</span> <span class="k">for</span> <span class="n">jm</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">join_mapping</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_right_join_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns a set of the right-side join key column names.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">set</span><span class="p">(</span><span class="n">jm</span><span class="o">.</span><span class="n">right_col</span> <span class="k">for</span> <span class="n">jm</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">join_mapping</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">left_join_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns an ordered list of the left-side join key column names to be used in the join.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">jm</span><span class="o">.</span><span class="n">left_col</span> <span class="k">for</span> <span class="n">jm</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">used_join_mapping</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">right_join_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns an ordered list of the right-side join key column names to be used in the join.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">jm</span><span class="o">.</span><span class="n">right_col</span> <span class="k">for</span> <span class="n">jm</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">used_join_mapping</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">overlapping_records</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">how</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="s1">&#39;inner&#39;</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">new_cols</span> <span class="o">&amp;</span> <span class="bp">self</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">new_cols</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">new_cols</span> <span class="o">&amp;</span> <span class="bp">self</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">new_cols</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">auto_rename</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Automatically renames columns on the right side to prevent naming conflicts.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_join_keys</span><span class="p">()</span>
        <span class="n">overlapping_records</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">overlapping_records</span>
        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">overlapping_records</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">right_col</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">renames</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">right_col</span><span class="o">.</span><span class="n">new_name</span> <span class="ow">in</span> <span class="n">overlapping_records</span><span class="p">:</span>
                    <span class="n">right_col</span><span class="o">.</span><span class="n">new_name</span> <span class="o">=</span> <span class="n">right_col</span><span class="o">.</span><span class="n">new_name</span> <span class="o">+</span> <span class="s1">&#39;_right&#39;</span>
            <span class="n">overlapping_records</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">overlapping_records</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">used_join_mapping</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">JoinMap</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the final join mapping after applying all renames and transformations.&quot;&quot;&quot;</span>
        <span class="n">new_mappings</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">JoinMap</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">left_rename_table</span><span class="p">,</span> <span class="n">right_rename_table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">rename_table</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">rename_table</span>
        <span class="n">left_join_rename_mapping</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">get_join_key_rename_mapping</span><span class="p">(</span><span class="s2">&quot;left&quot;</span><span class="p">)</span>
        <span class="n">right_join_rename_mapping</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">get_join_key_rename_mapping</span><span class="p">(</span><span class="s2">&quot;right&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">join_map</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">join_mapping</span><span class="p">:</span>
            <span class="c1"># del self.right_select.rename_table, self.left_select.rename_table</span>
            <span class="n">new_mappings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">JoinMap</span><span class="p">(</span><span class="n">left_join_rename_mapping</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">left_rename_table</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">join_map</span><span class="o">.</span><span class="n">left_col</span><span class="p">,</span> <span class="n">join_map</span><span class="o">.</span><span class="n">left_col</span><span class="p">)),</span>
                                        <span class="n">right_join_rename_mapping</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">right_rename_table</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">join_map</span><span class="o">.</span><span class="n">right_col</span><span class="p">,</span> <span class="n">join_map</span><span class="o">.</span><span class="n">right_col</span><span class="p">))</span>
                                        <span class="p">)</span>
                                <span class="p">)</span>
        <span class="k">return</span> <span class="n">new_mappings</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h6 id="flowfile_core.schemas.transform_schema.JoinInput.left_join_keys" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">left_join_keys</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Returns an ordered list of the left-side join key column names to be used in the join.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="flowfile_core.schemas.transform_schema.JoinInput.right_join_keys" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">right_join_keys</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Returns an ordered list of the right-side join key column names to be used in the join.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="flowfile_core.schemas.transform_schema.JoinInput.used_join_mapping" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">used_join_mapping</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Returns the final join mapping after applying all renames and transformations.</p>

    </div>

</div>




<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.transform_schema.JoinInput.__init__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">join_mapping</span><span class="p">,</span> <span class="n">left_select</span><span class="p">,</span> <span class="n">right_select</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">)</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Initializes the JoinInput with keys, selections, and join strategy.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">join_mapping</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">JoinMap</span><span class="p">]</span> <span class="o">|</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
             <span class="n">left_select</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">SelectInput</span><span class="p">]</span> <span class="o">|</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
             <span class="n">right_select</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">SelectInput</span><span class="p">]</span> <span class="o">|</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
             <span class="n">how</span><span class="p">:</span> <span class="n">JoinStrategy</span> <span class="o">=</span> <span class="s1">&#39;inner&#39;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initializes the JoinInput with keys, selections, and join strategy.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">join_mapping</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_join_mapping</span><span class="p">(</span><span class="n">join_mapping</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">left_select</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_select</span><span class="p">(</span><span class="n">left_select</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">right_select</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_select</span><span class="p">(</span><span class="n">right_select</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">set_join_keys</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">how</span> <span class="o">=</span> <span class="n">how</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.transform_schema.JoinInput.auto_rename" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">auto_rename</span><span class="p">()</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Automatically renames columns on the right side to prevent naming conflicts.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">auto_rename</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Automatically renames columns on the right side to prevent naming conflicts.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">set_join_keys</span><span class="p">()</span>
    <span class="n">overlapping_records</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">overlapping_records</span>
    <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">overlapping_records</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">right_col</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">renames</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">right_col</span><span class="o">.</span><span class="n">new_name</span> <span class="ow">in</span> <span class="n">overlapping_records</span><span class="p">:</span>
                <span class="n">right_col</span><span class="o">.</span><span class="n">new_name</span> <span class="o">=</span> <span class="n">right_col</span><span class="o">.</span><span class="n">new_name</span> <span class="o">+</span> <span class="s1">&#39;_right&#39;</span>
        <span class="n">overlapping_records</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">overlapping_records</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.transform_schema.JoinInput.get_join_key_renames" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_join_key_renames</span><span class="p">(</span><span class="n">filter_drop</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Gets the temporary rename mappings for the join keys on both sides.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_join_key_renames</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_drop</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FullJoinKeyResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets the temporary rename mappings for the join keys on both sides.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">FullJoinKeyResponse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">get_join_key_renames</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="n">filter_drop</span><span class="o">=</span><span class="n">filter_drop</span><span class="p">),</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">get_join_key_renames</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="n">filter_drop</span><span class="o">=</span><span class="n">filter_drop</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.transform_schema.JoinInput.parse_join_mapping" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">parse_join_mapping</span><span class="p">(</span><span class="n">join_mapping</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Parses various input formats for join keys into a standardized list of <code>JoinMap</code> objects.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">parse_join_mapping</span><span class="p">(</span><span class="n">join_mapping</span><span class="p">:</span> <span class="nb">any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">JoinMap</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parses various input formats for join keys into a standardized list of `JoinMap` objects.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">join_mapping</span><span class="p">,</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">)):</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">join_mapping</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">jm</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="k">for</span> <span class="n">jm</span> <span class="ow">in</span> <span class="n">join_mapping</span><span class="p">):</span>
            <span class="n">join_mapping</span> <span class="o">=</span> <span class="p">[</span><span class="n">JoinMap</span><span class="p">(</span><span class="o">**</span><span class="n">jm</span><span class="p">)</span> <span class="k">for</span> <span class="n">jm</span> <span class="ow">in</span> <span class="n">join_mapping</span><span class="p">]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">join_mapping</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">JoinMap</span><span class="p">):</span>
            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">join_mapping</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">2</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">join_mapping</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">join_mapping</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">join_mapping</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nb">str</span><span class="p">)</span>
                <span class="n">join_mapping</span> <span class="o">=</span> <span class="p">[</span><span class="n">JoinMap</span><span class="p">(</span><span class="o">*</span><span class="n">join_mapping</span><span class="p">)]</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">join_mapping</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">join_mapping</span> <span class="o">=</span> <span class="p">[</span><span class="n">JoinMap</span><span class="p">(</span><span class="n">join_mapping</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">join_mapping</span><span class="p">[</span><span class="mi">0</span><span class="p">])]</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">join_mapping</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">join_mapping</span> <span class="o">=</span> <span class="p">[</span><span class="n">JoinMap</span><span class="p">(</span><span class="n">join_mapping</span><span class="p">,</span> <span class="n">join_mapping</span><span class="p">)]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;No valid join mapping as input&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">join_mapping</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.transform_schema.JoinInput.set_join_keys" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">set_join_keys</span><span class="p">()</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Marks the <code>SelectInput</code> objects corresponding to join keys.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_join_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Marks the `SelectInput` objects corresponding to join keys.&quot;&quot;&quot;</span>
    <span class="p">[</span><span class="nb">setattr</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s2">&quot;join_key&quot;</span><span class="p">,</span> <span class="n">v</span><span class="o">.</span><span class="n">old_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_left_join_keys</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">renames</span><span class="p">]</span>
    <span class="p">[</span><span class="nb">setattr</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s2">&quot;join_key&quot;</span><span class="p">,</span> <span class="n">v</span><span class="o">.</span><span class="n">old_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_right_join_keys</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">renames</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.transform_schema.JoinInputs" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>JoinInputs</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            SelectInputs


  
      dataclass
   (flowfile_core.schemas.transform_schema.SelectInputs)" href="#flowfile_core.schemas.transform_schema.SelectInputs">SelectInputs</a></code></p>


        <p>Extends <code>SelectInputs</code> with functionality specific to join operations, like handling join keys.</p>












<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_join_key_rename_mapping(side) (flowfile_core.schemas.transform_schema.JoinInputs.get_join_key_rename_mapping)" href="#flowfile_core.schemas.transform_schema.JoinInputs.get_join_key_rename_mapping">get_join_key_rename_mapping</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Returns a dictionary mapping original join key names to their temporary names.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_join_key_renames(side, filter_drop=False) (flowfile_core.schemas.transform_schema.JoinInputs.get_join_key_renames)" href="#flowfile_core.schemas.transform_schema.JoinInputs.get_join_key_renames">get_join_key_renames</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Gets the temporary rename mapping for all join keys on one side of a join.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>




<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            join_key_selects

  
      property
   (flowfile_core.schemas.transform_schema.JoinInputs.join_key_selects)" href="#flowfile_core.schemas.transform_schema.JoinInputs.join_key_selects">join_key_selects</a></code></td>
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="            SelectInput


  
      dataclass
   (flowfile_core.schemas.transform_schema.SelectInput)" href="#flowfile_core.schemas.transform_schema.SelectInput">SelectInput</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Returns only the <code>SelectInput</code> objects that are marked as join keys.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">JoinInputs</span><span class="p">(</span><span class="n">SelectInputs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Extends `SelectInputs` with functionality specific to join operations, like handling join keys.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">renames</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">SelectInput</span><span class="p">]):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">renames</span> <span class="o">=</span> <span class="n">renames</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">join_key_selects</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">SelectInput</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns only the `SelectInput` objects that are marked as join keys.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">renames</span> <span class="k">if</span> <span class="n">v</span><span class="o">.</span><span class="n">join_key</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_join_key_renames</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">side</span><span class="p">:</span> <span class="n">SideLit</span><span class="p">,</span> <span class="n">filter_drop</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JoinKeyRenameResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the temporary rename mapping for all join keys on one side of a join.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">JoinKeyRenameResponse</span><span class="p">(</span>
            <span class="n">side</span><span class="p">,</span>
            <span class="p">[</span><span class="n">JoinKeyRename</span><span class="p">(</span><span class="n">jk</span><span class="o">.</span><span class="n">new_name</span><span class="p">,</span>
                           <span class="n">construct_join_key_name</span><span class="p">(</span><span class="n">side</span><span class="p">,</span> <span class="n">jk</span><span class="o">.</span><span class="n">new_name</span><span class="p">))</span>
             <span class="k">for</span> <span class="n">jk</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">join_key_selects</span> <span class="k">if</span> <span class="n">jk</span><span class="o">.</span><span class="n">keep</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">filter_drop</span><span class="p">]</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_join_key_rename_mapping</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">side</span><span class="p">:</span> <span class="n">SideLit</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns a dictionary mapping original join key names to their temporary names.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">jkr</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span> <span class="n">jkr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">jkr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_join_key_renames</span><span class="p">(</span><span class="n">side</span><span class="p">)[</span><span class="mi">1</span><span class="p">]}</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h6 id="flowfile_core.schemas.transform_schema.JoinInputs.join_key_selects" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">join_key_selects</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Returns only the <code>SelectInput</code> objects that are marked as join keys.</p>

    </div>

</div>




<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.transform_schema.JoinInputs.get_join_key_rename_mapping" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_join_key_rename_mapping</span><span class="p">(</span><span class="n">side</span><span class="p">)</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Returns a dictionary mapping original join key names to their temporary names.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_join_key_rename_mapping</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">side</span><span class="p">:</span> <span class="n">SideLit</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a dictionary mapping original join key names to their temporary names.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">jkr</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span> <span class="n">jkr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">jkr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_join_key_renames</span><span class="p">(</span><span class="n">side</span><span class="p">)[</span><span class="mi">1</span><span class="p">]}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.transform_schema.JoinInputs.get_join_key_renames" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_join_key_renames</span><span class="p">(</span><span class="n">side</span><span class="p">,</span> <span class="n">filter_drop</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Gets the temporary rename mapping for all join keys on one side of a join.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_join_key_renames</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">side</span><span class="p">:</span> <span class="n">SideLit</span><span class="p">,</span> <span class="n">filter_drop</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JoinKeyRenameResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets the temporary rename mapping for all join keys on one side of a join.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">JoinKeyRenameResponse</span><span class="p">(</span>
        <span class="n">side</span><span class="p">,</span>
        <span class="p">[</span><span class="n">JoinKeyRename</span><span class="p">(</span><span class="n">jk</span><span class="o">.</span><span class="n">new_name</span><span class="p">,</span>
                       <span class="n">construct_join_key_name</span><span class="p">(</span><span class="n">side</span><span class="p">,</span> <span class="n">jk</span><span class="o">.</span><span class="n">new_name</span><span class="p">))</span>
         <span class="k">for</span> <span class="n">jk</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">join_key_selects</span> <span class="k">if</span> <span class="n">jk</span><span class="o">.</span><span class="n">keep</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">filter_drop</span><span class="p">]</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.transform_schema.JoinKeyRename" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>JoinKeyRename</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="typing.NamedTuple">NamedTuple</span></code></p>


        <p>Represents the renaming of a join key from its original to a temporary name.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">JoinKeyRename</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents the renaming of a join key from its original to a temporary name.&quot;&quot;&quot;</span>
    <span class="n">original_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">temp_name</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.transform_schema.JoinKeyRenameResponse" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>JoinKeyRenameResponse</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="typing.NamedTuple">NamedTuple</span></code></p>


        <p>Contains a list of join key renames for one side of a join.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">JoinKeyRenameResponse</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Contains a list of join key renames for one side of a join.&quot;&quot;&quot;</span>
    <span class="n">side</span><span class="p">:</span> <span class="n">SideLit</span>
    <span class="n">join_key_renames</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">JoinKeyRename</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.transform_schema.JoinMap" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>JoinMap</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">


        <p>Defines a single mapping between a left and right column for a join key.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">JoinMap</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Defines a single mapping between a left and right column for a join key.&quot;&quot;&quot;</span>
    <span class="n">left_col</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">right_col</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.transform_schema.JoinSelectMixin" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>JoinSelectMixin</code>


</h5>


    <div class="doc doc-contents ">


        <p>A mixin providing common methods for join-like operations that involve left and right inputs.</p>












<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_new_select_column(select_input, side) (flowfile_core.schemas.transform_schema.JoinSelectMixin.add_new_select_column)" href="#flowfile_core.schemas.transform_schema.JoinSelectMixin.add_new_select_column">add_new_select_column</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a new column to the selection for either the left or right side.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            auto_generate_new_col_name(old_col_name, side) (flowfile_core.schemas.transform_schema.JoinSelectMixin.auto_generate_new_col_name)" href="#flowfile_core.schemas.transform_schema.JoinSelectMixin.auto_generate_new_col_name">auto_generate_new_col_name</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Generates a new, non-conflicting column name by adding a suffix if necessary.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            parse_select(select)

  
      staticmethod
   (flowfile_core.schemas.transform_schema.JoinSelectMixin.parse_select)" href="#flowfile_core.schemas.transform_schema.JoinSelectMixin.parse_select">parse_select</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Parses various input formats into a standardized <code>JoinInputs</code> object.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>



              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">JoinSelectMixin</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A mixin providing common methods for join-like operations that involve left and right inputs.&quot;&quot;&quot;</span>
    <span class="n">left_select</span><span class="p">:</span> <span class="n">JoinInputs</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">right_select</span><span class="p">:</span> <span class="n">JoinInputs</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">parse_select</span><span class="p">(</span><span class="n">select</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">SelectInput</span><span class="p">]</span> <span class="o">|</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">JoinInputs</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parses various input formats into a standardized `JoinInputs` object.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">SelectInput</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">select</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">JoinInputs</span><span class="p">(</span><span class="n">select</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">select</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">JoinInputs</span><span class="p">([</span><span class="n">SelectInput</span><span class="p">(</span><span class="o">**</span><span class="n">c</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">select</span><span class="p">])</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">select</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">renames</span> <span class="o">=</span> <span class="n">select</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;renames&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">renames</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">JoinInputs</span><span class="p">([</span><span class="n">SelectInput</span><span class="p">(</span><span class="o">**</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">renames</span><span class="p">])</span>
        <span class="k">elif</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">select</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">JoinInputs</span><span class="p">([</span><span class="n">SelectInput</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">select</span><span class="p">])</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">auto_generate_new_col_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">old_col_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">side</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generates a new, non-conflicting column name by adding a suffix if necessary.&quot;&quot;&quot;</span>
        <span class="n">current_names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">new_cols</span> <span class="o">&amp;</span> <span class="bp">self</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">new_cols</span>
        <span class="k">if</span> <span class="n">old_col_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">current_names</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">old_col_name</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">old_col_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">current_names</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">old_col_name</span>
            <span class="n">old_col_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">side</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">old_col_name</span><span class="si">}</span><span class="s1">&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_new_select_column</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_input</span><span class="p">:</span> <span class="n">SelectInput</span><span class="p">,</span> <span class="n">side</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a new column to the selection for either the left or right side.&quot;&quot;&quot;</span>
        <span class="n">selects</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">right_select</span> <span class="k">if</span> <span class="n">side</span> <span class="o">==</span> <span class="s1">&#39;right&#39;</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">left_select</span>
        <span class="n">select_input</span><span class="o">.</span><span class="n">new_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">auto_generate_new_col_name</span><span class="p">(</span><span class="n">select_input</span><span class="o">.</span><span class="n">old_name</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="n">side</span><span class="p">)</span>
        <span class="n">selects</span><span class="o">.</span><span class="fm">__add__</span><span class="p">(</span><span class="n">select_input</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.transform_schema.JoinSelectMixin.add_new_select_column" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">add_new_select_column</span><span class="p">(</span><span class="n">select_input</span><span class="p">,</span> <span class="n">side</span><span class="p">)</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Adds a new column to the selection for either the left or right side.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_new_select_column</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">select_input</span><span class="p">:</span> <span class="n">SelectInput</span><span class="p">,</span> <span class="n">side</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a new column to the selection for either the left or right side.&quot;&quot;&quot;</span>
    <span class="n">selects</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">right_select</span> <span class="k">if</span> <span class="n">side</span> <span class="o">==</span> <span class="s1">&#39;right&#39;</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">left_select</span>
    <span class="n">select_input</span><span class="o">.</span><span class="n">new_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">auto_generate_new_col_name</span><span class="p">(</span><span class="n">select_input</span><span class="o">.</span><span class="n">old_name</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="n">side</span><span class="p">)</span>
    <span class="n">selects</span><span class="o">.</span><span class="fm">__add__</span><span class="p">(</span><span class="n">select_input</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.transform_schema.JoinSelectMixin.auto_generate_new_col_name" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">auto_generate_new_col_name</span><span class="p">(</span><span class="n">old_col_name</span><span class="p">,</span> <span class="n">side</span><span class="p">)</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Generates a new, non-conflicting column name by adding a suffix if necessary.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">auto_generate_new_col_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">old_col_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">side</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a new, non-conflicting column name by adding a suffix if necessary.&quot;&quot;&quot;</span>
    <span class="n">current_names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">left_select</span><span class="o">.</span><span class="n">new_cols</span> <span class="o">&amp;</span> <span class="bp">self</span><span class="o">.</span><span class="n">right_select</span><span class="o">.</span><span class="n">new_cols</span>
    <span class="k">if</span> <span class="n">old_col_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">current_names</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">old_col_name</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">old_col_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">current_names</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">old_col_name</span>
        <span class="n">old_col_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">side</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">old_col_name</span><span class="si">}</span><span class="s1">&#39;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.transform_schema.JoinSelectMixin.parse_select" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">parse_select</span><span class="p">(</span><span class="n">select</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Parses various input formats into a standardized <code>JoinInputs</code> object.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">parse_select</span><span class="p">(</span><span class="n">select</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">SelectInput</span><span class="p">]</span> <span class="o">|</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">JoinInputs</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parses various input formats into a standardized `JoinInputs` object.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">SelectInput</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">select</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">JoinInputs</span><span class="p">(</span><span class="n">select</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">select</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">JoinInputs</span><span class="p">([</span><span class="n">SelectInput</span><span class="p">(</span><span class="o">**</span><span class="n">c</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">select</span><span class="p">])</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">select</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="n">renames</span> <span class="o">=</span> <span class="n">select</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;renames&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">renames</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">JoinInputs</span><span class="p">([</span><span class="n">SelectInput</span><span class="p">(</span><span class="o">**</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">renames</span><span class="p">])</span>
    <span class="k">elif</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">select</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">JoinInputs</span><span class="p">([</span><span class="n">SelectInput</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">select</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.transform_schema.PivotInput" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>PivotInput</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">


        <p>Defines the settings for a pivot (long-to-wide) operation.</p>












<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_group_by_input() (flowfile_core.schemas.transform_schema.PivotInput.get_group_by_input)" href="#flowfile_core.schemas.transform_schema.PivotInput.get_group_by_input">get_group_by_input</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Constructs the <code>GroupByInput</code> needed for the pre-aggregation step of the pivot.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_pivot_column() (flowfile_core.schemas.transform_schema.PivotInput.get_pivot_column)" href="#flowfile_core.schemas.transform_schema.PivotInput.get_pivot_column">get_pivot_column</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Returns the pivot column as a Polars column expression.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_values_expr() (flowfile_core.schemas.transform_schema.PivotInput.get_values_expr)" href="#flowfile_core.schemas.transform_schema.PivotInput.get_values_expr">get_values_expr</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Creates the struct expression used to gather the values for pivoting.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>




<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            grouped_columns

  
      property
   (flowfile_core.schemas.transform_schema.PivotInput.grouped_columns)" href="#flowfile_core.schemas.transform_schema.PivotInput.grouped_columns">grouped_columns</a></code></td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Returns the list of columns to be used for the initial grouping stage of the pivot.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">PivotInput</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Defines the settings for a pivot (long-to-wide) operation.&quot;&quot;&quot;</span>
    <span class="n">index_columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">pivot_column</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">value_col</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">aggregations</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">grouped_columns</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the list of columns to be used for the initial grouping stage of the pivot.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">index_columns</span> <span class="o">+</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">pivot_column</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_group_by_input</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">GroupByInput</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructs the `GroupByInput` needed for the pre-aggregation step of the pivot.&quot;&quot;&quot;</span>
        <span class="n">group_by_cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">AggColl</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="s1">&#39;groupby&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">grouped_columns</span><span class="p">]</span>
        <span class="n">agg_cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">AggColl</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value_col</span><span class="p">,</span> <span class="n">agg</span><span class="o">=</span><span class="n">aggregation</span><span class="p">,</span> <span class="n">new_name</span><span class="o">=</span><span class="n">aggregation</span><span class="p">)</span> <span class="k">for</span> <span class="n">aggregation</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">aggregations</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">GroupByInput</span><span class="p">(</span><span class="n">group_by_cols</span><span class="o">+</span><span class="n">agg_cols</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_index_columns</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">pl</span><span class="o">.</span><span class="n">col</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">pl</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">index_columns</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_pivot_column</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pl</span><span class="o">.</span><span class="n">Expr</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the pivot column as a Polars column expression.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">pl</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pivot_column</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_values_expr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pl</span><span class="o">.</span><span class="n">Expr</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates the struct expression used to gather the values for pivoting.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">pl</span><span class="o">.</span><span class="n">struct</span><span class="p">([</span><span class="n">pl</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">aggregations</span><span class="p">])</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="s1">&#39;vals&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h6 id="flowfile_core.schemas.transform_schema.PivotInput.grouped_columns" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">grouped_columns</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Returns the list of columns to be used for the initial grouping stage of the pivot.</p>

    </div>

</div>




<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.transform_schema.PivotInput.get_group_by_input" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_group_by_input</span><span class="p">()</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Constructs the <code>GroupByInput</code> needed for the pre-aggregation step of the pivot.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_group_by_input</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">GroupByInput</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Constructs the `GroupByInput` needed for the pre-aggregation step of the pivot.&quot;&quot;&quot;</span>
    <span class="n">group_by_cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">AggColl</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="s1">&#39;groupby&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">grouped_columns</span><span class="p">]</span>
    <span class="n">agg_cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">AggColl</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value_col</span><span class="p">,</span> <span class="n">agg</span><span class="o">=</span><span class="n">aggregation</span><span class="p">,</span> <span class="n">new_name</span><span class="o">=</span><span class="n">aggregation</span><span class="p">)</span> <span class="k">for</span> <span class="n">aggregation</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">aggregations</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">GroupByInput</span><span class="p">(</span><span class="n">group_by_cols</span><span class="o">+</span><span class="n">agg_cols</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.transform_schema.PivotInput.get_pivot_column" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_pivot_column</span><span class="p">()</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Returns the pivot column as a Polars column expression.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_pivot_column</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pl</span><span class="o">.</span><span class="n">Expr</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the pivot column as a Polars column expression.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">pl</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pivot_column</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.transform_schema.PivotInput.get_values_expr" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_values_expr</span><span class="p">()</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Creates the struct expression used to gather the values for pivoting.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_values_expr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pl</span><span class="o">.</span><span class="n">Expr</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates the struct expression used to gather the values for pivoting.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">pl</span><span class="o">.</span><span class="n">struct</span><span class="p">([</span><span class="n">pl</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">aggregations</span><span class="p">])</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="s1">&#39;vals&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.transform_schema.PolarsCodeInput" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>PolarsCodeInput</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">


        <p>A simple container for a string of user-provided Polars code to be executed.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">PolarsCodeInput</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A simple container for a string of user-provided Polars code to be executed.&quot;&quot;&quot;</span>
    <span class="n">polars_code</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.transform_schema.RecordIdInput" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>RecordIdInput</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">


        <p>Defines settings for adding a record ID (row number) column to the data.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">RecordIdInput</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Defines settings for adding a record ID (row number) column to the data.&quot;&quot;&quot;</span>
    <span class="n">output_column_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;record_id&#39;</span>
    <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">group_by</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">group_by_columns</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.transform_schema.SelectInput" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>SelectInput</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">


        <p>Defines how a single column should be selected, renamed, or type-cast.</p>
<p>This is a core building block for any operation that involves column manipulation.
It holds all the configuration for a single field in a selection operation.</p>














<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            polars_type

  
      property
   (flowfile_core.schemas.transform_schema.SelectInput.polars_type)" href="#flowfile_core.schemas.transform_schema.SelectInput.polars_type">polars_type</a></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Translates a user-friendly type name to a Polars data type string.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">SelectInput</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Defines how a single column should be selected, renamed, or type-cast.</span>

<span class="sd">    This is a core building block for any operation that involves column manipulation.</span>
<span class="sd">    It holds all the configuration for a single field in a selection operation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">old_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">original_position</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">new_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">data_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">data_type_change</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">join_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">is_altered</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">position</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">is_available</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">keep</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">old_name</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">old_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">new_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">keep</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">data_type_change</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">join_key</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">is_altered</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                 <span class="n">is_available</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">position</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">old_name</span> <span class="o">=</span> <span class="n">old_name</span>
        <span class="k">if</span> <span class="n">new_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">new_name</span> <span class="o">=</span> <span class="n">old_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">new_name</span> <span class="o">=</span> <span class="n">new_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keep</span> <span class="o">=</span> <span class="n">keep</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_type</span> <span class="o">=</span> <span class="n">data_type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_type_change</span> <span class="o">=</span> <span class="n">data_type_change</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">join_key</span> <span class="o">=</span> <span class="n">join_key</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_altered</span> <span class="o">=</span> <span class="n">is_altered</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_available</span> <span class="o">=</span> <span class="n">is_available</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="n">position</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">polars_type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Translates a user-friendly type name to a Polars data type string.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;string&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;Utf8&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;integer&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;Int64&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;double&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;Float64&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_type</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h6 id="flowfile_core.schemas.transform_schema.SelectInput.polars_type" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">polars_type</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Translates a user-friendly type name to a Polars data type string.</p>

    </div>

</div>






  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.transform_schema.SelectInputs" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>SelectInputs</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">


        <p>A container for a list of <code>SelectInput</code> objects, providing helper methods for managing selections.</p>












<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            __add__(other) (flowfile_core.schemas.transform_schema.SelectInputs.__add__)" href="#flowfile_core.schemas.transform_schema.SelectInputs.__add__">__add__</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Allows adding a SelectInput using the '+' operator.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            append(other) (flowfile_core.schemas.transform_schema.SelectInputs.append)" href="#flowfile_core.schemas.transform_schema.SelectInputs.append">append</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Appends a new SelectInput to the list of renames.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            create_from_list(col_list)

  
      classmethod
   (flowfile_core.schemas.transform_schema.SelectInputs.create_from_list)" href="#flowfile_core.schemas.transform_schema.SelectInputs.create_from_list">create_from_list</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Creates a SelectInputs object from a simple list of column names.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            create_from_pl_df(df)

  
      classmethod
   (flowfile_core.schemas.transform_schema.SelectInputs.create_from_pl_df)" href="#flowfile_core.schemas.transform_schema.SelectInputs.create_from_pl_df">create_from_pl_df</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Creates a SelectInputs object from a Polars DataFrame's columns.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_select_cols(include_join_key=True) (flowfile_core.schemas.transform_schema.SelectInputs.get_select_cols)" href="#flowfile_core.schemas.transform_schema.SelectInputs.get_select_cols">get_select_cols</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Gets a list of original column names to select from the source DataFrame.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            has_drop_cols() (flowfile_core.schemas.transform_schema.SelectInputs.has_drop_cols)" href="#flowfile_core.schemas.transform_schema.SelectInputs.has_drop_cols">has_drop_cols</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Checks if any column is marked to be dropped from the selection.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            remove_select_input(old_key) (flowfile_core.schemas.transform_schema.SelectInputs.remove_select_input)" href="#flowfile_core.schemas.transform_schema.SelectInputs.remove_select_input">remove_select_input</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Removes a SelectInput from the list based on its original name.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            unselect_field(old_key) (flowfile_core.schemas.transform_schema.SelectInputs.unselect_field)" href="#flowfile_core.schemas.transform_schema.SelectInputs.unselect_field">unselect_field</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Marks a field to be dropped from the final selection by setting <code>keep</code> to False.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>




<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            drop_columns

  
      property
   (flowfile_core.schemas.transform_schema.SelectInputs.drop_columns)" href="#flowfile_core.schemas.transform_schema.SelectInputs.drop_columns">drop_columns</a></code></td>
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="            SelectInput


  
      dataclass
   (flowfile_core.schemas.transform_schema.SelectInput)" href="#flowfile_core.schemas.transform_schema.SelectInput">SelectInput</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Returns a list of column names that are marked to be dropped from the selection.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            new_cols

  
      property
   (flowfile_core.schemas.transform_schema.SelectInputs.new_cols)" href="#flowfile_core.schemas.transform_schema.SelectInputs.new_cols">new_cols</a></code></td>
            <td>
                  <code><span title="typing.Set">Set</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Returns a set of new (renamed) column names to be kept in the selection.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            old_cols

  
      property
   (flowfile_core.schemas.transform_schema.SelectInputs.old_cols)" href="#flowfile_core.schemas.transform_schema.SelectInputs.old_cols">old_cols</a></code></td>
            <td>
                  <code><span title="typing.Set">Set</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Returns a set of original column names to be kept in the selection.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            rename_table

  
      property
   (flowfile_core.schemas.transform_schema.SelectInputs.rename_table)" href="#flowfile_core.schemas.transform_schema.SelectInputs.rename_table">rename_table</a></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Generates a dictionary for use in Polars' <code>.rename()</code> method.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">SelectInputs</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A container for a list of `SelectInput` objects, providing helper methods for managing selections.&quot;&quot;&quot;</span>
    <span class="n">renames</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">SelectInput</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">old_cols</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns a set of original column names to be kept in the selection.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">set</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">old_name</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">renames</span> <span class="k">if</span> <span class="n">v</span><span class="o">.</span><span class="n">keep</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">new_cols</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns a set of new (renamed) column names to be kept in the selection.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">set</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">new_name</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">renames</span> <span class="k">if</span> <span class="n">v</span><span class="o">.</span><span class="n">keep</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">rename_table</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generates a dictionary for use in Polars&#39; `.rename()` method.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">v</span><span class="o">.</span><span class="n">old_name</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">new_name</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">renames</span> <span class="k">if</span> <span class="n">v</span><span class="o">.</span><span class="n">is_available</span> <span class="ow">and</span> <span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">keep</span> <span class="ow">or</span> <span class="n">v</span><span class="o">.</span><span class="n">join_key</span><span class="p">)}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_select_cols</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">include_join_key</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a list of original column names to select from the source DataFrame.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">old_name</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">renames</span> <span class="k">if</span> <span class="n">v</span><span class="o">.</span><span class="n">keep</span> <span class="ow">or</span> <span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">join_key</span> <span class="ow">and</span> <span class="n">include_join_key</span><span class="p">)]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">has_drop_cols</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Checks if any column is marked to be dropped from the selection.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="ow">not</span> <span class="n">v</span><span class="o">.</span><span class="n">keep</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">renames</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">drop_columns</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">SelectInput</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns a list of column names that are marked to be dropped from the selection.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">renames</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span><span class="o">.</span><span class="n">keep</span> <span class="ow">and</span> <span class="n">v</span><span class="o">.</span><span class="n">is_available</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">non_jk_drop_columns</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">SelectInput</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">renames</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span><span class="o">.</span><span class="n">keep</span> <span class="ow">and</span> <span class="n">v</span><span class="o">.</span><span class="n">is_available</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">v</span><span class="o">.</span><span class="n">join_key</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s2">&quot;SelectInput&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Allows adding a SelectInput using the &#39;+&#39; operator.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">renames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s2">&quot;SelectInput&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Appends a new SelectInput to the list of renames.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">renames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">remove_select_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">old_key</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Removes a SelectInput from the list based on its original name.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">renames</span> <span class="o">=</span> <span class="p">[</span><span class="n">rename</span> <span class="k">for</span> <span class="n">rename</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">renames</span> <span class="k">if</span> <span class="n">rename</span><span class="o">.</span><span class="n">old_name</span> <span class="o">!=</span> <span class="n">old_key</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">unselect_field</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">old_key</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Marks a field to be dropped from the final selection by setting `keep` to False.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">rename</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">renames</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">old_key</span> <span class="o">==</span> <span class="n">rename</span><span class="o">.</span><span class="n">old_name</span><span class="p">:</span>
                <span class="n">rename</span><span class="o">.</span><span class="n">keep</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">create_from_list</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">col_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a SelectInputs object from a simple list of column names.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">([</span><span class="n">SelectInput</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">col_list</span><span class="p">])</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">create_from_pl_df</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">df</span><span class="p">:</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span> <span class="o">|</span> <span class="n">pl</span><span class="o">.</span><span class="n">LazyFrame</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a SelectInputs object from a Polars DataFrame&#39;s columns.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">([</span><span class="n">SelectInput</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">])</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_select_input_on_old_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">old_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SelectInput</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">next</span><span class="p">((</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">renames</span> <span class="k">if</span> <span class="n">v</span><span class="o">.</span><span class="n">old_name</span> <span class="o">==</span> <span class="n">old_name</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_select_input_on_new_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">old_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SelectInput</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">next</span><span class="p">((</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">renames</span> <span class="k">if</span> <span class="n">v</span><span class="o">.</span><span class="n">new_name</span> <span class="o">==</span> <span class="n">old_name</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h6 id="flowfile_core.schemas.transform_schema.SelectInputs.drop_columns" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">drop_columns</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Returns a list of column names that are marked to be dropped from the selection.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="flowfile_core.schemas.transform_schema.SelectInputs.new_cols" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">new_cols</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Returns a set of new (renamed) column names to be kept in the selection.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="flowfile_core.schemas.transform_schema.SelectInputs.old_cols" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">old_cols</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Returns a set of original column names to be kept in the selection.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="flowfile_core.schemas.transform_schema.SelectInputs.rename_table" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">rename_table</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Generates a dictionary for use in Polars' <code>.rename()</code> method.</p>

    </div>

</div>




<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.transform_schema.SelectInputs.__add__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="fm">__add__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Allows adding a SelectInput using the '+' operator.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s2">&quot;SelectInput&quot;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Allows adding a SelectInput using the &#39;+&#39; operator.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">renames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.transform_schema.SelectInputs.append" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">append</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Appends a new SelectInput to the list of renames.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s2">&quot;SelectInput&quot;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Appends a new SelectInput to the list of renames.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">renames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.transform_schema.SelectInputs.create_from_list" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">create_from_list</span><span class="p">(</span><span class="n">col_list</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Creates a SelectInputs object from a simple list of column names.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create_from_list</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">col_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a SelectInputs object from a simple list of column names.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">([</span><span class="n">SelectInput</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">col_list</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.transform_schema.SelectInputs.create_from_pl_df" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">create_from_pl_df</span><span class="p">(</span><span class="n">df</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Creates a SelectInputs object from a Polars DataFrame's columns.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create_from_pl_df</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">df</span><span class="p">:</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span> <span class="o">|</span> <span class="n">pl</span><span class="o">.</span><span class="n">LazyFrame</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a SelectInputs object from a Polars DataFrame&#39;s columns.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">([</span><span class="n">SelectInput</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.transform_schema.SelectInputs.get_select_cols" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_select_cols</span><span class="p">(</span><span class="n">include_join_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Gets a list of original column names to select from the source DataFrame.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_select_cols</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">include_join_key</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a list of original column names to select from the source DataFrame.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">old_name</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">renames</span> <span class="k">if</span> <span class="n">v</span><span class="o">.</span><span class="n">keep</span> <span class="ow">or</span> <span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">join_key</span> <span class="ow">and</span> <span class="n">include_join_key</span><span class="p">)]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.transform_schema.SelectInputs.has_drop_cols" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">has_drop_cols</span><span class="p">()</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Checks if any column is marked to be dropped from the selection.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">has_drop_cols</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Checks if any column is marked to be dropped from the selection.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="ow">not</span> <span class="n">v</span><span class="o">.</span><span class="n">keep</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">renames</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.transform_schema.SelectInputs.remove_select_input" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">remove_select_input</span><span class="p">(</span><span class="n">old_key</span><span class="p">)</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Removes a SelectInput from the list based on its original name.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">remove_select_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">old_key</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Removes a SelectInput from the list based on its original name.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">renames</span> <span class="o">=</span> <span class="p">[</span><span class="n">rename</span> <span class="k">for</span> <span class="n">rename</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">renames</span> <span class="k">if</span> <span class="n">rename</span><span class="o">.</span><span class="n">old_name</span> <span class="o">!=</span> <span class="n">old_key</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.transform_schema.SelectInputs.unselect_field" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">unselect_field</span><span class="p">(</span><span class="n">old_key</span><span class="p">)</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Marks a field to be dropped from the final selection by setting <code>keep</code> to False.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">unselect_field</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">old_key</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Marks a field to be dropped from the final selection by setting `keep` to False.&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">rename</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">renames</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">old_key</span> <span class="o">==</span> <span class="n">rename</span><span class="o">.</span><span class="n">old_name</span><span class="p">:</span>
            <span class="n">rename</span><span class="o">.</span><span class="n">keep</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.transform_schema.SortByInput" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>SortByInput</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">


        <p>Defines a single sort condition on a column, including the direction.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">SortByInput</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Defines a single sort condition on a column, including the direction.&quot;&quot;&quot;</span>
    <span class="n">column</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">how</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;asc&#39;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.transform_schema.TextToRowsInput" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>TextToRowsInput</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">


        <p>Defines settings for splitting a text column into multiple rows based on a delimiter.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">TextToRowsInput</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Defines settings for splitting a text column into multiple rows based on a delimiter.&quot;&quot;&quot;</span>
    <span class="n">column_to_split</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">output_column_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">split_by_fixed_value</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">split_fixed_value</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span>
    <span class="n">split_by_column</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.transform_schema.UnionInput" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>UnionInput</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">


        <p>Defines settings for a union (concatenation) operation.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">UnionInput</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Defines settings for a union (concatenation) operation.&quot;&quot;&quot;</span>
    <span class="n">mode</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;selective&#39;</span><span class="p">,</span> <span class="s1">&#39;relaxed&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;relaxed&#39;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.transform_schema.UniqueInput" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>UniqueInput</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">


        <p>Defines settings for a uniqueness operation, specifying columns and which row to keep.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">UniqueInput</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Defines settings for a uniqueness operation, specifying columns and which row to keep.&quot;&quot;&quot;</span>
    <span class="n">columns</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">strategy</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;first&quot;</span><span class="p">,</span> <span class="s2">&quot;last&quot;</span><span class="p">,</span> <span class="s2">&quot;any&quot;</span><span class="p">,</span> <span class="s2">&quot;none&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;any&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.transform_schema.UnpivotInput" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>UnpivotInput</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">


        <p>Defines settings for an unpivot (wide-to-long) operation.</p>












<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            __post_init__() (flowfile_core.schemas.transform_schema.UnpivotInput.__post_init__)" href="#flowfile_core.schemas.transform_schema.UnpivotInput.__post_init__">__post_init__</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Ensures that list attributes are initialized correctly if they are None.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>




<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            data_type_selector_expr

  
      property
   (flowfile_core.schemas.transform_schema.UnpivotInput.data_type_selector_expr)" href="#flowfile_core.schemas.transform_schema.UnpivotInput.data_type_selector_expr">data_type_selector_expr</a></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Callable">Callable</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Returns a Polars selector function based on the <code>data_type_selector</code> string.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">UnpivotInput</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Defines settings for an unpivot (wide-to-long) operation.&quot;&quot;&quot;</span>
    <span class="n">index_columns</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
    <span class="n">value_columns</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
    <span class="n">data_type_selector</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;float&#39;</span><span class="p">,</span> <span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="s1">&#39;numeric&#39;</span><span class="p">,</span> <span class="s1">&#39;string&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">data_type_selector_mode</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;data_type&#39;</span><span class="p">,</span> <span class="s1">&#39;column&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="s1">&#39;column&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Ensures that list attributes are initialized correctly if they are None.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">index_columns</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">index_columns</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_columns</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">value_columns</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_type_selector_mode</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_type_selector_mode</span> <span class="o">=</span> <span class="s1">&#39;column&#39;</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">data_type_selector_expr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns a Polars selector function based on the `data_type_selector` string.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_type_selector_mode</span> <span class="o">==</span> <span class="s1">&#39;data_type&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_type_selector</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">selectors</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_type_selector</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Could not find the selector: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">data_type_selector</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                    <span class="k">return</span> <span class="n">selectors</span><span class="o">.</span><span class="n">all</span>
            <span class="k">return</span> <span class="n">selectors</span><span class="o">.</span><span class="n">all</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h6 id="flowfile_core.schemas.transform_schema.UnpivotInput.data_type_selector_expr" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <code class="highlight language-python"><span class="n">data_type_selector_expr</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Returns a Polars selector function based on the <code>data_type_selector</code> string.</p>

    </div>

</div>




<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.transform_schema.UnpivotInput.__post_init__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">__post_init__</span><span class="p">()</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Ensures that list attributes are initialized correctly if they are None.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Ensures that list attributes are initialized correctly if they are None.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">index_columns</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">index_columns</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_columns</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value_columns</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_type_selector_mode</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_type_selector_mode</span> <span class="o">=</span> <span class="s1">&#39;column&#39;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h5 id="flowfile_core.schemas.transform_schema.construct_join_key_name" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">construct_join_key_name</span><span class="p">(</span><span class="n">side</span><span class="p">,</span> <span class="n">column_name</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Creates a temporary, unique name for a join key column.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">construct_join_key_name</span><span class="p">(</span><span class="n">side</span><span class="p">:</span> <span class="n">SideLit</span><span class="p">,</span> <span class="n">column_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a temporary, unique name for a join key column.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="s2">&quot;_FLOWFILE_JOIN_KEY_&quot;</span> <span class="o">+</span> <span class="n">side</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span> <span class="o">+</span> <span class="n">column_name</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.schemas.transform_schema.get_func_type_mapping" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_func_type_mapping</span><span class="p">(</span><span class="n">func</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Infers the output data type of common aggregation functions.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_func_type_mapping</span><span class="p">(</span><span class="n">func</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Infers the output data type of common aggregation functions.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">func</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;mean&quot;</span><span class="p">,</span> <span class="s2">&quot;avg&quot;</span><span class="p">,</span> <span class="s2">&quot;median&quot;</span><span class="p">,</span> <span class="s2">&quot;std&quot;</span><span class="p">,</span> <span class="s2">&quot;var&quot;</span><span class="p">]:</span>
        <span class="k">return</span> <span class="s2">&quot;Float64&quot;</span>
    <span class="k">elif</span> <span class="n">func</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;min&#39;</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">,</span> <span class="s1">&#39;first&#39;</span><span class="p">,</span> <span class="s1">&#39;last&#39;</span><span class="p">,</span> <span class="s2">&quot;cumsum&quot;</span><span class="p">,</span> <span class="s2">&quot;sum&quot;</span><span class="p">]:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">elif</span> <span class="n">func</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;n_unique&#39;</span><span class="p">]:</span>
        <span class="k">return</span> <span class="s2">&quot;Int64&quot;</span>
    <span class="k">elif</span> <span class="n">func</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;concat&#39;</span><span class="p">]:</span>
        <span class="k">return</span> <span class="s2">&quot;Utf8&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.schemas.transform_schema.string_concat" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">string_concat</span><span class="p">(</span><span class="o">*</span><span class="n">column</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>A simple wrapper to concatenate string columns in Polars.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/transform_schema.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">string_concat</span><span class="p">(</span><span class="o">*</span><span class="n">column</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A simple wrapper to concatenate string columns in Polars.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">pl</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="n">column</span><span class="p">)</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">Utf8</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h3 id="cloud_storage_schemas"><code>cloud_storage_schemas</code></h3>


<div class="doc doc-object doc-module">



<h4 id="flowfile_core.schemas.cloud_storage_schemas" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <code>flowfile_core.schemas.cloud_storage_schemas</code>


</h4>

    <div class="doc doc-contents first">

        <p>Cloud storage connection schemas for S3, ADLS, and other cloud providers.</p>










<p><span class="doc-section-title">Classes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            AuthSettingsInput (flowfile_core.schemas.cloud_storage_schemas.AuthSettingsInput)" href="#flowfile_core.schemas.cloud_storage_schemas.AuthSettingsInput">AuthSettingsInput</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>The information needed for the user to provide the details that are needed to provide how to connect to the</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            CloudStorageReadSettings (flowfile_core.schemas.cloud_storage_schemas.CloudStorageReadSettings)" href="#flowfile_core.schemas.cloud_storage_schemas.CloudStorageReadSettings">CloudStorageReadSettings</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for reading from cloud storage</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            CloudStorageSettings (flowfile_core.schemas.cloud_storage_schemas.CloudStorageSettings)" href="#flowfile_core.schemas.cloud_storage_schemas.CloudStorageSettings">CloudStorageSettings</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for cloud storage nodes in the visual designer</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            CloudStorageWriteSettings (flowfile_core.schemas.cloud_storage_schemas.CloudStorageWriteSettings)" href="#flowfile_core.schemas.cloud_storage_schemas.CloudStorageWriteSettings">CloudStorageWriteSettings</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for writing to cloud storage</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            CloudStorageWriteSettingsWorkerInterface (flowfile_core.schemas.cloud_storage_schemas.CloudStorageWriteSettingsWorkerInterface)" href="#flowfile_core.schemas.cloud_storage_schemas.CloudStorageWriteSettingsWorkerInterface">CloudStorageWriteSettingsWorkerInterface</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for writing to cloud storage in worker context</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            FullCloudStorageConnection (flowfile_core.schemas.cloud_storage_schemas.FullCloudStorageConnection)" href="#flowfile_core.schemas.cloud_storage_schemas.FullCloudStorageConnection">FullCloudStorageConnection</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Internal model with decrypted secrets</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            FullCloudStorageConnectionInterface (flowfile_core.schemas.cloud_storage_schemas.FullCloudStorageConnectionInterface)" href="#flowfile_core.schemas.cloud_storage_schemas.FullCloudStorageConnectionInterface">FullCloudStorageConnectionInterface</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>API response model - no secrets exposed</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            FullCloudStorageConnectionWorkerInterface (flowfile_core.schemas.cloud_storage_schemas.FullCloudStorageConnectionWorkerInterface)" href="#flowfile_core.schemas.cloud_storage_schemas.FullCloudStorageConnectionWorkerInterface">FullCloudStorageConnectionWorkerInterface</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Internal model with decrypted secrets</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            WriteSettingsWorkerInterface (flowfile_core.schemas.cloud_storage_schemas.WriteSettingsWorkerInterface)" href="#flowfile_core.schemas.cloud_storage_schemas.WriteSettingsWorkerInterface">WriteSettingsWorkerInterface</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Settings for writing to cloud storage</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>




<p><span class="doc-section-title">Functions:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            encrypt_for_worker(secret_value) (flowfile_core.schemas.cloud_storage_schemas.encrypt_for_worker)" href="#flowfile_core.schemas.cloud_storage_schemas.encrypt_for_worker">encrypt_for_worker</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Encrypts a secret value for use in worker contexts.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_cloud_storage_write_settings_worker_interface(write_settings, connection, lf, flowfile_flow_id=1, flowfile_node_id=-1) (flowfile_core.schemas.cloud_storage_schemas.get_cloud_storage_write_settings_worker_interface)" href="#flowfile_core.schemas.cloud_storage_schemas.get_cloud_storage_write_settings_worker_interface">get_cloud_storage_write_settings_worker_interface</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Convert to a worker interface model with hashed secrets.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>





  <div class="doc doc-children">









<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.cloud_storage_schemas.AuthSettingsInput" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>AuthSettingsInput</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>The information needed for the user to provide the details that are needed to provide how to connect to the
 Cloud provider</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/cloud_storage_schemas.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">AuthSettingsInput</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The information needed for the user to provide the details that are needed to provide how to connect to the</span>
<span class="sd">     Cloud provider</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">storage_type</span><span class="p">:</span> <span class="n">CloudStorageType</span>
    <span class="n">auth_method</span><span class="p">:</span> <span class="n">AuthMethod</span>
    <span class="n">connection_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;None&quot;</span>  <span class="c1"># This is the reference to the item we will fetch that contains the data</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.cloud_storage_schemas.CloudStorageReadSettings" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>CloudStorageReadSettings</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            CloudStorageSettings (flowfile_core.schemas.cloud_storage_schemas.CloudStorageSettings)" href="#flowfile_core.schemas.cloud_storage_schemas.CloudStorageSettings">CloudStorageSettings</a></code></p>


        <p>Settings for reading from cloud storage</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/cloud_storage_schemas.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">CloudStorageReadSettings</span><span class="p">(</span><span class="n">CloudStorageSettings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for reading from cloud storage&quot;&quot;&quot;</span>

    <span class="n">scan_mode</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;single_file&quot;</span><span class="p">,</span> <span class="s2">&quot;directory&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;single_file&quot;</span>
    <span class="n">file_format</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;csv&quot;</span><span class="p">,</span> <span class="s2">&quot;parquet&quot;</span><span class="p">,</span> <span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="s2">&quot;delta&quot;</span><span class="p">,</span> <span class="s2">&quot;iceberg&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;parquet&quot;</span>
    <span class="c1"># CSV specific options</span>
    <span class="n">csv_has_header</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">csv_delimiter</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;,&quot;</span>
    <span class="n">csv_encoding</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;utf8&quot;</span>
    <span class="c1"># Deltalake specific settings</span>
    <span class="n">delta_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.cloud_storage_schemas.CloudStorageSettings" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>CloudStorageSettings</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Settings for cloud storage nodes in the visual designer</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/cloud_storage_schemas.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">CloudStorageSettings</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for cloud storage nodes in the visual designer&quot;&quot;&quot;</span>

    <span class="n">auth_mode</span><span class="p">:</span> <span class="n">AuthMethod</span> <span class="o">=</span> <span class="s2">&quot;auto&quot;</span>
    <span class="n">connection_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Required only for &#39;reference&#39; mode</span>
    <span class="n">resource_path</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># s3://bucket/path/to/file.csv</span>

    <span class="nd">@field_validator</span><span class="p">(</span><span class="s2">&quot;auth_mode&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">validate_auth_requirements</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">data</span>
        <span class="k">if</span> <span class="n">v</span> <span class="o">==</span> <span class="s2">&quot;reference&quot;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;connection_name&quot;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;connection_name required when using reference mode&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">v</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.cloud_storage_schemas.CloudStorageWriteSettings" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>CloudStorageWriteSettings</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            CloudStorageSettings (flowfile_core.schemas.cloud_storage_schemas.CloudStorageSettings)" href="#flowfile_core.schemas.cloud_storage_schemas.CloudStorageSettings">CloudStorageSettings</a></code>, <code><a class="autorefs autorefs-internal" title="            WriteSettingsWorkerInterface (flowfile_core.schemas.cloud_storage_schemas.WriteSettingsWorkerInterface)" href="#flowfile_core.schemas.cloud_storage_schemas.WriteSettingsWorkerInterface">WriteSettingsWorkerInterface</a></code></p>


        <p>Settings for writing to cloud storage</p>












<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_write_setting_worker_interface() (flowfile_core.schemas.cloud_storage_schemas.CloudStorageWriteSettings.get_write_setting_worker_interface)" href="#flowfile_core.schemas.cloud_storage_schemas.CloudStorageWriteSettings.get_write_setting_worker_interface">get_write_setting_worker_interface</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Convert to a worker interface model without secrets.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>



              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/cloud_storage_schemas.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">CloudStorageWriteSettings</span><span class="p">(</span><span class="n">CloudStorageSettings</span><span class="p">,</span> <span class="n">WriteSettingsWorkerInterface</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for writing to cloud storage&quot;&quot;&quot;</span>
    <span class="k">pass</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_write_setting_worker_interface</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WriteSettingsWorkerInterface</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Convert to a worker interface model without secrets.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">WriteSettingsWorkerInterface</span><span class="p">(</span>
            <span class="n">resource_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_path</span><span class="p">,</span>
            <span class="n">write_mode</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">write_mode</span><span class="p">,</span>
            <span class="n">file_format</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file_format</span><span class="p">,</span>
            <span class="n">parquet_compression</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parquet_compression</span><span class="p">,</span>
            <span class="n">csv_delimiter</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">csv_delimiter</span><span class="p">,</span>
            <span class="n">csv_encoding</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">csv_encoding</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.cloud_storage_schemas.CloudStorageWriteSettings.get_write_setting_worker_interface" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_write_setting_worker_interface</span><span class="p">()</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Convert to a worker interface model without secrets.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/cloud_storage_schemas.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_write_setting_worker_interface</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WriteSettingsWorkerInterface</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert to a worker interface model without secrets.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">WriteSettingsWorkerInterface</span><span class="p">(</span>
        <span class="n">resource_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_path</span><span class="p">,</span>
        <span class="n">write_mode</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">write_mode</span><span class="p">,</span>
        <span class="n">file_format</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file_format</span><span class="p">,</span>
        <span class="n">parquet_compression</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parquet_compression</span><span class="p">,</span>
        <span class="n">csv_delimiter</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">csv_delimiter</span><span class="p">,</span>
        <span class="n">csv_encoding</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">csv_encoding</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.cloud_storage_schemas.CloudStorageWriteSettingsWorkerInterface" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>CloudStorageWriteSettingsWorkerInterface</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Settings for writing to cloud storage in worker context</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/cloud_storage_schemas.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">CloudStorageWriteSettingsWorkerInterface</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for writing to cloud storage in worker context&quot;&quot;&quot;</span>
    <span class="n">operation</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">write_settings</span><span class="p">:</span> <span class="n">WriteSettingsWorkerInterface</span>
    <span class="n">connection</span><span class="p">:</span> <span class="n">FullCloudStorageConnectionWorkerInterface</span>
    <span class="n">flowfile_flow_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">flowfile_node_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.cloud_storage_schemas.FullCloudStorageConnection" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>FullCloudStorageConnection</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            AuthSettingsInput (flowfile_core.schemas.cloud_storage_schemas.AuthSettingsInput)" href="#flowfile_core.schemas.cloud_storage_schemas.AuthSettingsInput">AuthSettingsInput</a></code></p>


        <p>Internal model with decrypted secrets</p>












<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_worker_interface() (flowfile_core.schemas.cloud_storage_schemas.FullCloudStorageConnection.get_worker_interface)" href="#flowfile_core.schemas.cloud_storage_schemas.FullCloudStorageConnection.get_worker_interface">get_worker_interface</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Convert to a public interface model without secrets.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>



              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/cloud_storage_schemas.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">FullCloudStorageConnection</span><span class="p">(</span><span class="n">AuthSettingsInput</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Internal model with decrypted secrets&quot;&quot;&quot;</span>

    <span class="c1"># AWS S3</span>
    <span class="n">aws_region</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">aws_access_key_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">aws_secret_access_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretStr</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">aws_role_arn</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">aws_allow_unsafe_html</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">aws_session_token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretStr</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Azure ADLS</span>
    <span class="n">azure_account_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">azure_account_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretStr</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">azure_tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">azure_client_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">azure_client_secret</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretStr</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Common</span>
    <span class="n">endpoint_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">verify_ssl</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_worker_interface</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FullCloudStorageConnectionWorkerInterface&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Convert to a public interface model without secrets.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">FullCloudStorageConnectionWorkerInterface</span><span class="p">(</span>
            <span class="n">storage_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">storage_type</span><span class="p">,</span>
            <span class="n">auth_method</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth_method</span><span class="p">,</span>
            <span class="n">connection_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">connection_name</span><span class="p">,</span>
            <span class="n">aws_allow_unsafe_html</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">aws_allow_unsafe_html</span><span class="p">,</span>
            <span class="n">aws_secret_access_key</span><span class="o">=</span><span class="n">encrypt_for_worker</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">aws_secret_access_key</span><span class="p">),</span>
            <span class="n">aws_region</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">aws_region</span><span class="p">,</span>
            <span class="n">aws_access_key_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">aws_access_key_id</span><span class="p">,</span>
            <span class="n">aws_role_arn</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">aws_role_arn</span><span class="p">,</span>
            <span class="n">aws_session_token</span><span class="o">=</span><span class="n">encrypt_for_worker</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">aws_session_token</span><span class="p">),</span>
            <span class="n">azure_account_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">azure_account_name</span><span class="p">,</span>
            <span class="n">azure_tenant_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">azure_tenant_id</span><span class="p">,</span>
            <span class="n">azure_account_key</span><span class="o">=</span><span class="n">encrypt_for_worker</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">azure_account_key</span><span class="p">),</span>
            <span class="n">azure_client_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">azure_client_id</span><span class="p">,</span>
            <span class="n">azure_client_secret</span><span class="o">=</span><span class="n">encrypt_for_worker</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">azure_client_secret</span><span class="p">),</span>
            <span class="n">endpoint_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">endpoint_url</span><span class="p">,</span>
            <span class="n">verify_ssl</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">verify_ssl</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h6 id="flowfile_core.schemas.cloud_storage_schemas.FullCloudStorageConnection.get_worker_interface" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <code class="highlight language-python"><span class="n">get_worker_interface</span><span class="p">()</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Convert to a public interface model without secrets.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/cloud_storage_schemas.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_worker_interface</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FullCloudStorageConnectionWorkerInterface&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert to a public interface model without secrets.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">FullCloudStorageConnectionWorkerInterface</span><span class="p">(</span>
        <span class="n">storage_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">storage_type</span><span class="p">,</span>
        <span class="n">auth_method</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth_method</span><span class="p">,</span>
        <span class="n">connection_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">connection_name</span><span class="p">,</span>
        <span class="n">aws_allow_unsafe_html</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">aws_allow_unsafe_html</span><span class="p">,</span>
        <span class="n">aws_secret_access_key</span><span class="o">=</span><span class="n">encrypt_for_worker</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">aws_secret_access_key</span><span class="p">),</span>
        <span class="n">aws_region</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">aws_region</span><span class="p">,</span>
        <span class="n">aws_access_key_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">aws_access_key_id</span><span class="p">,</span>
        <span class="n">aws_role_arn</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">aws_role_arn</span><span class="p">,</span>
        <span class="n">aws_session_token</span><span class="o">=</span><span class="n">encrypt_for_worker</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">aws_session_token</span><span class="p">),</span>
        <span class="n">azure_account_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">azure_account_name</span><span class="p">,</span>
        <span class="n">azure_tenant_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">azure_tenant_id</span><span class="p">,</span>
        <span class="n">azure_account_key</span><span class="o">=</span><span class="n">encrypt_for_worker</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">azure_account_key</span><span class="p">),</span>
        <span class="n">azure_client_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">azure_client_id</span><span class="p">,</span>
        <span class="n">azure_client_secret</span><span class="o">=</span><span class="n">encrypt_for_worker</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">azure_client_secret</span><span class="p">),</span>
        <span class="n">endpoint_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">endpoint_url</span><span class="p">,</span>
        <span class="n">verify_ssl</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">verify_ssl</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.cloud_storage_schemas.FullCloudStorageConnectionInterface" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>FullCloudStorageConnectionInterface</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            AuthSettingsInput (flowfile_core.schemas.cloud_storage_schemas.AuthSettingsInput)" href="#flowfile_core.schemas.cloud_storage_schemas.AuthSettingsInput">AuthSettingsInput</a></code></p>


        <p>API response model - no secrets exposed</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/cloud_storage_schemas.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">FullCloudStorageConnectionInterface</span><span class="p">(</span><span class="n">AuthSettingsInput</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;API response model - no secrets exposed&quot;&quot;&quot;</span>

    <span class="c1"># Public fields only</span>
    <span class="n">aws_allow_unsafe_html</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">aws_region</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">aws_access_key_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">aws_role_arn</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">azure_account_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">azure_tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">azure_client_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">endpoint_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">verify_ssl</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.cloud_storage_schemas.FullCloudStorageConnectionWorkerInterface" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>FullCloudStorageConnectionWorkerInterface</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            AuthSettingsInput (flowfile_core.schemas.cloud_storage_schemas.AuthSettingsInput)" href="#flowfile_core.schemas.cloud_storage_schemas.AuthSettingsInput">AuthSettingsInput</a></code></p>


        <p>Internal model with decrypted secrets</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/cloud_storage_schemas.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">FullCloudStorageConnectionWorkerInterface</span><span class="p">(</span><span class="n">AuthSettingsInput</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Internal model with decrypted secrets&quot;&quot;&quot;</span>

    <span class="c1"># AWS S3</span>
    <span class="n">aws_region</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">aws_access_key_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">aws_secret_access_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">aws_role_arn</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">aws_allow_unsafe_html</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">aws_session_token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Azure ADLS</span>
    <span class="n">azure_account_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">azure_account_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">azure_tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">azure_client_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">azure_client_secret</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Common</span>
    <span class="n">endpoint_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">verify_ssl</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.cloud_storage_schemas.WriteSettingsWorkerInterface" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>WriteSettingsWorkerInterface</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Settings for writing to cloud storage</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/cloud_storage_schemas.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">WriteSettingsWorkerInterface</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for writing to cloud storage&quot;&quot;&quot;</span>
    <span class="n">resource_path</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># s3://bucket/path/to/file.csv</span>

    <span class="n">write_mode</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;overwrite&quot;</span><span class="p">,</span> <span class="s2">&quot;append&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;overwrite&quot;</span>
    <span class="n">file_format</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;csv&quot;</span><span class="p">,</span> <span class="s2">&quot;parquet&quot;</span><span class="p">,</span> <span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="s2">&quot;delta&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;parquet&quot;</span>

    <span class="n">parquet_compression</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;snappy&quot;</span><span class="p">,</span> <span class="s2">&quot;gzip&quot;</span><span class="p">,</span> <span class="s2">&quot;brotli&quot;</span><span class="p">,</span> <span class="s2">&quot;lz4&quot;</span><span class="p">,</span> <span class="s2">&quot;zstd&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;snappy&quot;</span>

    <span class="n">csv_delimiter</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;,&quot;</span>
    <span class="n">csv_encoding</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;utf8&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h5 id="flowfile_core.schemas.cloud_storage_schemas.encrypt_for_worker" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">encrypt_for_worker</span><span class="p">(</span><span class="n">secret_value</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Encrypts a secret value for use in worker contexts.
This is a placeholder function that simulates encryption.
In practice, you would use a secure encryption method.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/cloud_storage_schemas.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">encrypt_for_worker</span><span class="p">(</span><span class="n">secret_value</span><span class="p">:</span> <span class="n">SecretStr</span><span class="o">|</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="o">|</span><span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Encrypts a secret value for use in worker contexts.</span>
<span class="sd">    This is a placeholder function that simulates encryption.</span>
<span class="sd">    In practice, you would use a secure encryption method.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">secret_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">encrypt_secret</span><span class="p">(</span><span class="n">secret_value</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.schemas.cloud_storage_schemas.get_cloud_storage_write_settings_worker_interface" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_cloud_storage_write_settings_worker_interface</span><span class="p">(</span><span class="n">write_settings</span><span class="p">,</span> <span class="n">connection</span><span class="p">,</span> <span class="n">lf</span><span class="p">,</span> <span class="n">flowfile_flow_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">flowfile_node_id</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Convert to a worker interface model with hashed secrets.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/schemas/cloud_storage_schemas.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_cloud_storage_write_settings_worker_interface</span><span class="p">(</span>
        <span class="n">write_settings</span><span class="p">:</span> <span class="n">CloudStorageWriteSettings</span><span class="p">,</span>
        <span class="n">connection</span><span class="p">:</span> <span class="n">FullCloudStorageConnection</span><span class="p">,</span>
        <span class="n">lf</span><span class="p">:</span> <span class="n">pl</span><span class="o">.</span><span class="n">LazyFrame</span><span class="p">,</span>
        <span class="n">flowfile_flow_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="n">flowfile_node_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CloudStorageWriteSettingsWorkerInterface</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert to a worker interface model with hashed secrets.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">operation</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">lf</span><span class="o">.</span><span class="n">serialize</span><span class="p">())</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">CloudStorageWriteSettingsWorkerInterface</span><span class="p">(</span>
        <span class="n">operation</span><span class="o">=</span><span class="n">operation</span><span class="p">,</span>
        <span class="n">write_settings</span><span class="o">=</span><span class="n">write_settings</span><span class="o">.</span><span class="n">get_write_setting_worker_interface</span><span class="p">(),</span>
        <span class="n">connection</span><span class="o">=</span><span class="n">connection</span><span class="o">.</span><span class="n">get_worker_interface</span><span class="p">(),</span>
        <span class="n">flowfile_flow_id</span><span class="o">=</span><span class="n">flowfile_flow_id</span><span class="p">,</span>  <span class="c1"># Default value, can be overridden</span>
        <span class="n">flowfile_node_id</span><span class="o">=</span><span class="n">flowfile_node_id</span>  <span class="c1"># Default value, can be overridden</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h3 id="output_model"><code>output_model</code></h3>


<div class="doc doc-object doc-module">



<h4 id="flowfile_core.schemas.output_model" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <code>flowfile_core.schemas.output_model</code>


</h4>

    <div class="doc doc-contents first">










<p><span class="doc-section-title">Classes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            BaseItem (flowfile_core.schemas.output_model.BaseItem)" href="#flowfile_core.schemas.output_model.BaseItem">BaseItem</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>A base model for any item in a file system, like a file or directory.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            ExpressionRef (flowfile_core.schemas.output_model.ExpressionRef)" href="#flowfile_core.schemas.output_model.ExpressionRef">ExpressionRef</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>A reference to a single Polars expression, including its name and docstring.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            ExpressionsOverview (flowfile_core.schemas.output_model.ExpressionsOverview)" href="#flowfile_core.schemas.output_model.ExpressionsOverview">ExpressionsOverview</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Represents a categorized list of available Polars expressions.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            FileColumn (flowfile_core.schemas.output_model.FileColumn)" href="#flowfile_core.schemas.output_model.FileColumn">FileColumn</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Represents detailed schema and statistics for a single column (field).</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            InstantFuncResult (flowfile_core.schemas.output_model.InstantFuncResult)" href="#flowfile_core.schemas.output_model.InstantFuncResult">InstantFuncResult</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Represents the result of a function that is expected to execute instantly.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            ItemInfo (flowfile_core.schemas.output_model.ItemInfo)" href="#flowfile_core.schemas.output_model.ItemInfo">ItemInfo</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Provides detailed information about a single item in an output directory.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeData (flowfile_core.schemas.output_model.NodeData)" href="#flowfile_core.schemas.output_model.NodeData">NodeData</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>A comprehensive model holding the complete state and data for a single node.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NodeResult (flowfile_core.schemas.output_model.NodeResult)" href="#flowfile_core.schemas.output_model.NodeResult">NodeResult</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Represents the execution result of a single node in a FlowGraph run.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            OutputDir (flowfile_core.schemas.output_model.OutputDir)" href="#flowfile_core.schemas.output_model.OutputDir">OutputDir</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Represents the contents of a single output directory.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            OutputFile (flowfile_core.schemas.output_model.OutputFile)" href="#flowfile_core.schemas.output_model.OutputFile">OutputFile</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Represents a single file in an output directory, extending BaseItem.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            OutputFiles (flowfile_core.schemas.output_model.OutputFiles)" href="#flowfile_core.schemas.output_model.OutputFiles">OutputFiles</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Represents a collection of files, typically within a directory.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            OutputTree (flowfile_core.schemas.output_model.OutputTree)" href="#flowfile_core.schemas.output_model.OutputTree">OutputTree</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Represents a directory tree, including subdirectories.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            RunInformation (flowfile_core.schemas.output_model.RunInformation)" href="#flowfile_core.schemas.output_model.RunInformation">RunInformation</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Contains summary information about a complete FlowGraph execution.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            TableExample (flowfile_core.schemas.output_model.TableExample)" href="#flowfile_core.schemas.output_model.TableExample">TableExample</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Represents a preview of a table, including schema and sample data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>







  <div class="doc doc-children">









<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.output_model.BaseItem" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>BaseItem</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>A base model for any item in a file system, like a file or directory.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/output_model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">BaseItem</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A base model for any item in a file system, like a file or directory.&quot;&quot;&quot;</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">path</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">size</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">creation_date</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">access_date</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">modification_date</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">source_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">number_of_items</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.output_model.ExpressionRef" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>ExpressionRef</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>A reference to a single Polars expression, including its name and docstring.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/output_model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ExpressionRef</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A reference to a single Polars expression, including its name and docstring.&quot;&quot;&quot;</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">doc</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.output_model.ExpressionsOverview" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>ExpressionsOverview</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Represents a categorized list of available Polars expressions.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/output_model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ExpressionsOverview</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents a categorized list of available Polars expressions.&quot;&quot;&quot;</span>
    <span class="n">expression_type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">expressions</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">ExpressionRef</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.output_model.FileColumn" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>FileColumn</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Represents detailed schema and statistics for a single column (field).</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/output_model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">FileColumn</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents detailed schema and statistics for a single column (field).&quot;&quot;&quot;</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">is_unique</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">max_value</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">min_value</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">number_of_empty_values</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">number_of_filled_values</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">number_of_unique_values</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">size</span><span class="p">:</span> <span class="nb">int</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.output_model.InstantFuncResult" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>InstantFuncResult</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Represents the result of a function that is expected to execute instantly.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/output_model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">InstantFuncResult</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents the result of a function that is expected to execute instantly.&quot;&quot;&quot;</span>
    <span class="n">success</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">result</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.output_model.ItemInfo" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>ItemInfo</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            OutputFile (flowfile_core.schemas.output_model.OutputFile)" href="#flowfile_core.schemas.output_model.OutputFile">OutputFile</a></code></p>


        <p>Provides detailed information about a single item in an output directory.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/output_model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ItemInfo</span><span class="p">(</span><span class="n">OutputFile</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Provides detailed information about a single item in an output directory.&quot;&quot;&quot;</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">analysis_file_available</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">analysis_file_location</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">analysis_file_error</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.output_model.NodeData" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeData</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>A comprehensive model holding the complete state and data for a single node.</p>
<p>This includes its input/output data previews, settings, and run status.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/output_model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeData</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A comprehensive model holding the complete state and data for a single node.</span>

<span class="sd">    This includes its input/output data previews, settings, and run status.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">flow_type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">left_input</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TableExample</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">right_input</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TableExample</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">main_input</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TableExample</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">main_output</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TableExample</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">left_output</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TableExample</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">right_output</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TableExample</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">has_run</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">is_cached</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">setting_input</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.output_model.NodeResult" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>NodeResult</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Represents the execution result of a single node in a FlowGraph run.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/output_model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NodeResult</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents the execution result of a single node in a FlowGraph run.&quot;&quot;&quot;</span>
    <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">node_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">start_timestamp</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">)</span>
    <span class="n">end_timestamp</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">success</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">error</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="n">run_time</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="n">is_running</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.output_model.OutputDir" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>OutputDir</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            BaseItem (flowfile_core.schemas.output_model.BaseItem)" href="#flowfile_core.schemas.output_model.BaseItem">BaseItem</a></code></p>


        <p>Represents the contents of a single output directory.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/output_model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">OutputDir</span><span class="p">(</span><span class="n">BaseItem</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents the contents of a single output directory.&quot;&quot;&quot;</span>
    <span class="n">all_items</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">items</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">ItemInfo</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.output_model.OutputFile" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>OutputFile</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            BaseItem (flowfile_core.schemas.output_model.BaseItem)" href="#flowfile_core.schemas.output_model.BaseItem">BaseItem</a></code></p>


        <p>Represents a single file in an output directory, extending BaseItem.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/output_model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">OutputFile</span><span class="p">(</span><span class="n">BaseItem</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents a single file in an output directory, extending BaseItem.&quot;&quot;&quot;</span>
    <span class="n">ext</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">mimetype</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.output_model.OutputFiles" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>OutputFiles</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            BaseItem (flowfile_core.schemas.output_model.BaseItem)" href="#flowfile_core.schemas.output_model.BaseItem">BaseItem</a></code></p>


        <p>Represents a collection of files, typically within a directory.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/output_model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">OutputFiles</span><span class="p">(</span><span class="n">BaseItem</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents a collection of files, typically within a directory.&quot;&quot;&quot;</span>
    <span class="n">files</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">OutputFile</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.output_model.OutputTree" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>OutputTree</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            OutputFiles (flowfile_core.schemas.output_model.OutputFiles)" href="#flowfile_core.schemas.output_model.OutputFiles">OutputFiles</a></code></p>


        <p>Represents a directory tree, including subdirectories.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/output_model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">OutputTree</span><span class="p">(</span><span class="n">OutputFiles</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents a directory tree, including subdirectories.&quot;&quot;&quot;</span>
    <span class="n">directories</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">OutputFiles</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.output_model.RunInformation" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>RunInformation</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Contains summary information about a complete FlowGraph execution.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/output_model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">RunInformation</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Contains summary information about a complete FlowGraph execution.&quot;&quot;&quot;</span>
    <span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">start_time</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">)</span>
    <span class="n">end_time</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">success</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">nodes_completed</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">number_of_nodes</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">node_step_result</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">NodeResult</span><span class="p">]</span>
    <span class="n">run_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;fetch_one&quot;</span><span class="p">,</span> <span class="s2">&quot;full_run&quot;</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h5 id="flowfile_core.schemas.output_model.TableExample" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>TableExample</code>


</h5>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Represents a preview of a table, including schema and sample data.</p>













              <details class="quote">
                <summary>Source code in <code>flowfile_core/flowfile_core/schemas/output_model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">TableExample</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents a preview of a table, including schema and sample data.&quot;&quot;&quot;</span>
    <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">number_of_records</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">number_of_columns</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">table_schema</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">FileColumn</span><span class="p">]</span>
    <span class="n">columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">has_example_data</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">has_run_with_current_setup</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>




  </div>

    </div>

</div><hr />
<h2 id="web-api">Web API</h2>
<p>This section documents the FastAPI routes that expose <code>flowfile-core</code>'s functionality over HTTP.</p>
<h3 id="routes"><code>routes</code></h3>


<div class="doc doc-object doc-module">



<h4 id="flowfile_core.routes.routes" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <code>flowfile_core.routes.routes</code>


</h4>

    <div class="doc doc-contents first">

        <p>Main API router and endpoint definitions for the Flowfile application.</p>
<p>This module sets up the FastAPI router, defines all the API endpoints for interacting
with flows, nodes, files, and other core components of the application. It handles
the logic for creating, reading, updating, and deleting these resources.</p>












<p><span class="doc-section-title">Functions:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_generic_settings(input_data, node_type, current_user=Depends(get_current_active_user)) (flowfile_core.routes.routes.add_generic_settings)" href="#flowfile_core.routes.routes.add_generic_settings">add_generic_settings</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>A generic endpoint to update the settings of any node.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_node(flow_id, node_id, node_type, pos_x=0, pos_y=0) (flowfile_core.routes.routes.add_node)" href="#flowfile_core.routes.routes.add_node">add_node</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a new, unconfigured node (a "promise") to the flow graph.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            cancel_flow(flow_id) (flowfile_core.routes.routes.cancel_flow)" href="#flowfile_core.routes.routes.cancel_flow">cancel_flow</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Cancels a currently running flow execution.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            close_flow(flow_id) (flowfile_core.routes.routes.close_flow)" href="#flowfile_core.routes.routes.close_flow">close_flow</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Closes an active flow session.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            connect_node(flow_id, node_connection) (flowfile_core.routes.routes.connect_node)" href="#flowfile_core.routes.routes.connect_node">connect_node</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Creates a connection (edge) between two nodes in the flow graph.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            copy_node(node_id_to_copy_from, flow_id_to_copy_from, node_promise) (flowfile_core.routes.routes.copy_node)" href="#flowfile_core.routes.routes.copy_node">copy_node</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Copies an existing node's settings to a new node promise.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            create_db_connection(input_connection, current_user=Depends(get_current_active_user), db=Depends(get_db)) (flowfile_core.routes.routes.create_db_connection)" href="#flowfile_core.routes.routes.create_db_connection">create_db_connection</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Creates and securely stores a new database connection.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            create_directory(new_directory) (flowfile_core.routes.routes.create_directory)" href="#flowfile_core.routes.routes.create_directory">create_directory</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Creates a new directory at the specified path.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            create_flow(flow_path=None, name=None) (flowfile_core.routes.routes.create_flow)" href="#flowfile_core.routes.routes.create_flow">create_flow</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Creates a new, empty flow file at the specified path and registers a session for it.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            delete_db_connection(connection_name, current_user=Depends(get_current_active_user), db=Depends(get_db)) (flowfile_core.routes.routes.delete_db_connection)" href="#flowfile_core.routes.routes.delete_db_connection">delete_db_connection</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Deletes a stored database connection.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            delete_node(flow_id, node_id) (flowfile_core.routes.routes.delete_node)" href="#flowfile_core.routes.routes.delete_node">delete_node</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Deletes a node from the flow graph.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            delete_node_connection(flow_id, node_connection=None) (flowfile_core.routes.routes.delete_node_connection)" href="#flowfile_core.routes.routes.delete_node_connection">delete_node_connection</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Deletes a connection (edge) between two nodes.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_active_flow_file_sessions()

  
      async
   (flowfile_core.routes.routes.get_active_flow_file_sessions)" href="#flowfile_core.routes.routes.get_active_flow_file_sessions">get_active_flow_file_sessions</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Retrieves a list of all currently active flow sessions.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_current_directory_contents(file_types=None, include_hidden=False)

  
      async
   (flowfile_core.routes.routes.get_current_directory_contents)" href="#flowfile_core.routes.routes.get_current_directory_contents">get_current_directory_contents</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Gets the contents of the file explorer's current directory.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_current_files()

  
      async
   (flowfile_core.routes.routes.get_current_files)" href="#flowfile_core.routes.routes.get_current_files">get_current_files</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Gets the contents of the file explorer's current directory.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_current_path()

  
      async
   (flowfile_core.routes.routes.get_current_path)" href="#flowfile_core.routes.routes.get_current_path">get_current_path</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Returns the current absolute path of the file explorer.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_db_connections(db=Depends(get_db), current_user=Depends(get_current_active_user)) (flowfile_core.routes.routes.get_db_connections)" href="#flowfile_core.routes.routes.get_db_connections">get_db_connections</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Retrieves all stored database connections for the current user (without passwords).</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_description_node(flow_id, node_id) (flowfile_core.routes.routes.get_description_node)" href="#flowfile_core.routes.routes.get_description_node">get_description_node</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Retrieves the description text for a specific node.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_directory_contents(directory, file_types=None, include_hidden=False)

  
      async
   (flowfile_core.routes.routes.get_directory_contents)" href="#flowfile_core.routes.routes.get_directory_contents">get_directory_contents</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Gets the contents of an arbitrary directory path.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_downstream_node_ids(flow_id, node_id)

  
      async
   (flowfile_core.routes.routes.get_downstream_node_ids)" href="#flowfile_core.routes.routes.get_downstream_node_ids">get_downstream_node_ids</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Gets a list of all node IDs that are downstream dependencies of a given node.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_excel_sheet_names(path)

  
      async
   (flowfile_core.routes.routes.get_excel_sheet_names)" href="#flowfile_core.routes.routes.get_excel_sheet_names">get_excel_sheet_names</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Retrieves the sheet names from an Excel file.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_expression_doc() (flowfile_core.routes.routes.get_expression_doc)" href="#flowfile_core.routes.routes.get_expression_doc">get_expression_doc</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Retrieves documentation for available Polars expressions.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_expressions() (flowfile_core.routes.routes.get_expressions)" href="#flowfile_core.routes.routes.get_expressions">get_expressions</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Retrieves a list of all available Flowfile expression names.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_flow(flow_id) (flowfile_core.routes.routes.get_flow)" href="#flowfile_core.routes.routes.get_flow">get_flow</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Retrieves the settings for a specific flow.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_flow_frontend_data(flow_id=1) (flowfile_core.routes.routes.get_flow_frontend_data)" href="#flowfile_core.routes.routes.get_flow_frontend_data">get_flow_frontend_data</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Retrieves the data needed to render the flow graph in the frontend.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_flow_settings(flow_id=1) (flowfile_core.routes.routes.get_flow_settings)" href="#flowfile_core.routes.routes.get_flow_settings">get_flow_settings</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Retrieves the main settings for a flow.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_generated_code(flow_id) (flowfile_core.routes.routes.get_generated_code)" href="#flowfile_core.routes.routes.get_generated_code">get_generated_code</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Generates and returns a Python script with Polars code representing the flow.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_graphic_walker_input(flow_id, node_id) (flowfile_core.routes.routes.get_graphic_walker_input)" href="#flowfile_core.routes.routes.get_graphic_walker_input">get_graphic_walker_input</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Gets the data and configuration for the Graphic Walker data exploration tool.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_instant_function_result(flow_id, node_id, func_string)

  
      async
   (flowfile_core.routes.routes.get_instant_function_result)" href="#flowfile_core.routes.routes.get_instant_function_result">get_instant_function_result</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Executes a simple, instant function on a node's data and returns the result.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_list_of_saved_flows(path) (flowfile_core.routes.routes.get_list_of_saved_flows)" href="#flowfile_core.routes.routes.get_list_of_saved_flows">get_list_of_saved_flows</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Scans a directory for saved flow files (<code>.flowfile</code>).</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_local_files(directory)

  
      async
   (flowfile_core.routes.routes.get_local_files)" href="#flowfile_core.routes.routes.get_local_files">get_local_files</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Retrieves a list of files from a specified local directory.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_node(flow_id, node_id, get_data=False) (flowfile_core.routes.routes.get_node)" href="#flowfile_core.routes.routes.get_node">get_node</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Retrieves the complete state and data preview for a single node.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_node_list() (flowfile_core.routes.routes.get_node_list)" href="#flowfile_core.routes.routes.get_node_list">get_node_list</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Retrieves the list of all available node types and their templates.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_node_model(setting_name_ref) (flowfile_core.routes.routes.get_node_model)" href="#flowfile_core.routes.routes.get_node_model">get_node_model</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>(Internal) Retrieves a node's Pydantic model from the input_schema module by its name.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_run_status(flow_id, response) (flowfile_core.routes.routes.get_run_status)" href="#flowfile_core.routes.routes.get_run_status">get_run_status</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Retrieves the run status information for a specific flow.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_table_example(flow_id, node_id) (flowfile_core.routes.routes.get_table_example)" href="#flowfile_core.routes.routes.get_table_example">get_table_example</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Retrieves a data preview (schema and sample rows) for a node's output.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_vue_flow_data(flow_id) (flowfile_core.routes.routes.get_vue_flow_data)" href="#flowfile_core.routes.routes.get_vue_flow_data">get_vue_flow_data</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Retrieves the flow data formatted for the Vue-based frontend.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            import_saved_flow(flow_path) (flowfile_core.routes.routes.import_saved_flow)" href="#flowfile_core.routes.routes.import_saved_flow">import_saved_flow</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Imports a flow from a saved <code>.flowfile</code> and registers it as a new session.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            navigate_into_directory(directory_name)

  
      async
   (flowfile_core.routes.routes.navigate_into_directory)" href="#flowfile_core.routes.routes.navigate_into_directory">navigate_into_directory</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Navigates the file explorer into a specified subdirectory.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            navigate_to_directory(directory_name)

  
      async
   (flowfile_core.routes.routes.navigate_to_directory)" href="#flowfile_core.routes.routes.navigate_to_directory">navigate_to_directory</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Navigates the file explorer to an absolute directory path.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            navigate_up()

  
      async
   (flowfile_core.routes.routes.navigate_up)" href="#flowfile_core.routes.routes.navigate_up">navigate_up</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Navigates the file explorer one directory level up.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            register_flow(flow_data) (flowfile_core.routes.routes.register_flow)" href="#flowfile_core.routes.routes.register_flow">register_flow</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Registers a new flow session with the application.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            run_flow(flow_id, background_tasks)

  
      async
   (flowfile_core.routes.routes.run_flow)" href="#flowfile_core.routes.routes.run_flow">run_flow</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Executes a flow in a background task.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            save_flow(flow_id, flow_path=None) (flowfile_core.routes.routes.save_flow)" href="#flowfile_core.routes.routes.save_flow">save_flow</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Saves the current state of a flow to a <code>.flowfile</code>.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            trigger_fetch_node_data(flow_id, node_id, background_tasks)

  
      async
   (flowfile_core.routes.routes.trigger_fetch_node_data)" href="#flowfile_core.routes.routes.trigger_fetch_node_data">trigger_fetch_node_data</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Fetches and refreshes the data for a specific node.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            update_description_node(flow_id, node_id, description=Body(...)) (flowfile_core.routes.routes.update_description_node)" href="#flowfile_core.routes.routes.update_description_node">update_description_node</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Updates the description text for a specific node.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            update_flow_settings(flow_settings) (flowfile_core.routes.routes.update_flow_settings)" href="#flowfile_core.routes.routes.update_flow_settings">update_flow_settings</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Updates the main settings for a flow.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            upload_file(file=File(...))

  
      async
   (flowfile_core.routes.routes.upload_file)" href="#flowfile_core.routes.routes.upload_file">upload_file</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Uploads a file to the server's 'uploads' directory.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            validate_db_settings(database_settings, current_user=Depends(get_current_active_user))

  
      async
   (flowfile_core.routes.routes.validate_db_settings)" href="#flowfile_core.routes.routes.validate_db_settings">validate_db_settings</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Validates that a connection can be made to a database with the given settings.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>





  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.add_generic_settings" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">add_generic_settings</span><span class="p">(</span><span class="n">input_data</span><span class="p">,</span> <span class="n">node_type</span><span class="p">,</span> <span class="n">current_user</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_current_active_user</span><span class="p">))</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>A generic endpoint to update the settings of any node.</p>
<p>This endpoint dynamically determines the correct Pydantic model and update
function based on the <code>node_type</code> parameter.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;/update_settings/&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;transform&#39;</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">add_generic_settings</span><span class="p">(</span><span class="n">input_data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">node_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">current_user</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_current_active_user</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A generic endpoint to update the settings of any node.</span>

<span class="sd">    This endpoint dynamically determines the correct Pydantic model and update</span>
<span class="sd">    function based on the `node_type` parameter.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">input_data</span><span class="p">[</span><span class="s1">&#39;user_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">current_user</span><span class="o">.</span><span class="n">id</span>
    <span class="n">node_type</span> <span class="o">=</span> <span class="n">camel_case_to_snake_case</span><span class="p">(</span><span class="n">node_type</span><span class="p">)</span>
    <span class="n">flow_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">input_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;flow_id&#39;</span><span class="p">))</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Updating the data for flow: </span><span class="si">{</span><span class="n">flow_id</span><span class="si">}</span><span class="s1">, node </span><span class="si">{</span><span class="n">input_data</span><span class="p">[</span><span class="s2">&quot;node_id&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">flow_file_handler</span><span class="o">.</span><span class="n">get_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">flow</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">422</span><span class="p">,</span> <span class="s1">&#39;Flow is running&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">flow</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">404</span><span class="p">,</span> <span class="s1">&#39;could not find the flow&#39;</span><span class="p">)</span>
    <span class="n">add_func</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">flow</span><span class="p">,</span> <span class="s1">&#39;add_&#39;</span> <span class="o">+</span> <span class="n">node_type</span><span class="p">)</span>
    <span class="n">parsed_input</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">setting_name_ref</span> <span class="o">=</span> <span class="s1">&#39;node&#39;</span> <span class="o">+</span> <span class="n">node_type</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">add_func</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">404</span><span class="p">,</span> <span class="s1">&#39;could not find the function&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">ref</span> <span class="o">=</span> <span class="n">get_node_model</span><span class="p">(</span><span class="n">setting_name_ref</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">ref</span><span class="p">:</span>
            <span class="n">parsed_input</span> <span class="o">=</span> <span class="n">ref</span><span class="p">(</span><span class="o">**</span><span class="n">input_data</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">421</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">parsed_input</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">404</span><span class="p">,</span> <span class="s1">&#39;could not find the interface&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">add_func</span><span class="p">(</span><span class="n">parsed_input</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">419</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.add_node" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">add_node</span><span class="p">(</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">node_id</span><span class="p">,</span> <span class="n">node_type</span><span class="p">,</span> <span class="n">pos_x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pos_y</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a new, unconfigured node (a "promise") to the flow graph.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>flow_id</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the flow to add the node to.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>node_id</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The client-generated ID for the new node.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>node_type</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type of the node to add (e.g., 'filter', 'join').</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pos_x</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The X coordinate for the node's position in the UI.</p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pos_y</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Y coordinate for the node's position in the UI.</p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;/editor/add_node/&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;editor&#39;</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">add_node</span><span class="p">(</span><span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">node_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">pos_x</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">pos_y</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a new, unconfigured node (a &quot;promise&quot;) to the flow graph.</span>

<span class="sd">    Args:</span>
<span class="sd">        flow_id: The ID of the flow to add the node to.</span>
<span class="sd">        node_id: The client-generated ID for the new node.</span>
<span class="sd">        node_type: The type of the node to add (e.g., &#39;filter&#39;, &#39;join&#39;).</span>
<span class="sd">        pos_x: The X coordinate for the node&#39;s position in the UI.</span>
<span class="sd">        pos_y: The Y coordinate for the node&#39;s position in the UI.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">flow_file_handler</span><span class="o">.</span><span class="n">get_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Adding a promise for </span><span class="si">{</span><span class="n">node_type</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">flow</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">422</span><span class="p">,</span> <span class="s1">&#39;Flow is running&#39;</span><span class="p">)</span>
    <span class="n">node</span> <span class="o">=</span> <span class="n">flow</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">node</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">flow</span><span class="o">.</span><span class="n">delete_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
    <span class="n">node_promise</span> <span class="o">=</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodePromise</span><span class="p">(</span><span class="n">flow_id</span><span class="o">=</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">node_id</span><span class="o">=</span><span class="n">node_id</span><span class="p">,</span> <span class="n">cache_results</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">pos_x</span><span class="o">=</span><span class="n">pos_x</span><span class="p">,</span>
                                            <span class="n">pos_y</span><span class="o">=</span><span class="n">pos_y</span><span class="p">,</span>
                                            <span class="n">node_type</span><span class="o">=</span><span class="n">node_type</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">node_type</span> <span class="o">==</span> <span class="s1">&#39;explore_data&#39;</span><span class="p">:</span>
        <span class="n">flow</span><span class="o">.</span><span class="n">add_initial_node_analysis</span><span class="p">(</span><span class="n">node_promise</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Adding node&quot;</span><span class="p">)</span>
        <span class="n">flow</span><span class="o">.</span><span class="n">add_node_promise</span><span class="p">(</span><span class="n">node_promise</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">check_if_has_default_setting</span><span class="p">(</span><span class="n">node_type</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Found standard settings for </span><span class="si">{</span><span class="n">node_type</span><span class="si">}</span><span class="s1">, trying to upload them&#39;</span><span class="p">)</span>
        <span class="n">setting_name_ref</span> <span class="o">=</span> <span class="s1">&#39;node&#39;</span> <span class="o">+</span> <span class="n">node_type</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="n">node_model</span> <span class="o">=</span> <span class="n">get_node_model</span><span class="p">(</span><span class="n">setting_name_ref</span><span class="p">)</span>
        <span class="n">add_func</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">flow</span><span class="p">,</span> <span class="s1">&#39;add_&#39;</span> <span class="o">+</span> <span class="n">node_type</span><span class="p">)</span>
        <span class="n">initial_settings</span> <span class="o">=</span> <span class="n">node_model</span><span class="p">(</span><span class="n">flow_id</span><span class="o">=</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">node_id</span><span class="o">=</span><span class="n">node_id</span><span class="p">,</span> <span class="n">cache_results</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                      <span class="n">pos_x</span><span class="o">=</span><span class="n">pos_x</span><span class="p">,</span> <span class="n">pos_y</span><span class="o">=</span><span class="n">pos_y</span><span class="p">,</span> <span class="n">node_type</span><span class="o">=</span><span class="n">node_type</span><span class="p">)</span>
        <span class="n">add_func</span><span class="p">(</span><span class="n">initial_settings</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.cancel_flow" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">cancel_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Cancels a currently running flow execution.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;/flow/cancel/&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;editor&#39;</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">cancel_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Cancels a currently running flow execution.&quot;&quot;&quot;</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">flow_file_handler</span><span class="o">.</span><span class="n">get_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">flow</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">422</span><span class="p">,</span> <span class="s1">&#39;Flow is not running&#39;</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">cancel</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.close_flow" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">close_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Closes an active flow session.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;/editor/close_flow/&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;editor&#39;</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">close_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Closes an active flow session.&quot;&quot;&quot;</span>
    <span class="n">flow_file_handler</span><span class="o">.</span><span class="n">delete_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.connect_node" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">connect_node</span><span class="p">(</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">node_connection</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Creates a connection (edge) between two nodes in the flow graph.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;/editor/connect_node/&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;editor&#39;</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">connect_node</span><span class="p">(</span><span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">node_connection</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeConnection</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a connection (edge) between two nodes in the flow graph.&quot;&quot;&quot;</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">flow_file_handler</span><span class="o">.</span><span class="n">get_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">flow</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;could not find the flow&#39;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">404</span><span class="p">,</span> <span class="s1">&#39;could not find the flow&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">flow</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">422</span><span class="p">,</span> <span class="s1">&#39;Flow is running&#39;</span><span class="p">)</span>
    <span class="n">add_connection</span><span class="p">(</span><span class="n">flow</span><span class="p">,</span> <span class="n">node_connection</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.copy_node" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">copy_node</span><span class="p">(</span><span class="n">node_id_to_copy_from</span><span class="p">,</span> <span class="n">flow_id_to_copy_from</span><span class="p">,</span> <span class="n">node_promise</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Copies an existing node's settings to a new node promise.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>node_id_to_copy_from</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the node to copy the settings from.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>flow_id_to_copy_from</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the flow containing the source node.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>node_promise</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NodePromise (flowfile_core.schemas.input_schema.NodePromise)" href="#flowfile_core.schemas.input_schema.NodePromise">NodePromise</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>NodePromise</code> representing the new node to be created.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;/editor/copy_node&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;editor&#39;</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">copy_node</span><span class="p">(</span><span class="n">node_id_to_copy_from</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">flow_id_to_copy_from</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">node_promise</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodePromise</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Copies an existing node&#39;s settings to a new node promise.</span>

<span class="sd">    Args:</span>
<span class="sd">        node_id_to_copy_from: The ID of the node to copy the settings from.</span>
<span class="sd">        flow_id_to_copy_from: The ID of the flow containing the source node.</span>
<span class="sd">        node_promise: A `NodePromise` representing the new node to be created.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">flow_to_copy_from</span> <span class="o">=</span> <span class="n">flow_file_handler</span><span class="o">.</span><span class="n">get_flow</span><span class="p">(</span><span class="n">flow_id_to_copy_from</span><span class="p">)</span>
        <span class="n">flow</span> <span class="o">=</span> <span class="p">(</span><span class="n">flow_to_copy_from</span>
                <span class="k">if</span> <span class="n">flow_id_to_copy_from</span> <span class="o">==</span> <span class="n">node_promise</span><span class="o">.</span><span class="n">flow_id</span>
                <span class="k">else</span> <span class="n">flow_file_handler</span><span class="o">.</span><span class="n">get_flow</span><span class="p">(</span><span class="n">node_promise</span><span class="o">.</span><span class="n">flow_id</span><span class="p">)</span>
                <span class="p">)</span>
        <span class="n">node_to_copy</span> <span class="o">=</span> <span class="n">flow_to_copy_from</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_id_to_copy_from</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Copying data </span><span class="si">{</span><span class="n">node_promise</span><span class="o">.</span><span class="n">node_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">flow</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">422</span><span class="p">,</span> <span class="s2">&quot;Flow is running&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">flow</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_promise</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">flow</span><span class="o">.</span><span class="n">delete_node</span><span class="p">(</span><span class="n">node_promise</span><span class="o">.</span><span class="n">node_id</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">node_promise</span><span class="o">.</span><span class="n">node_type</span> <span class="o">==</span> <span class="s2">&quot;explore_data&quot;</span><span class="p">:</span>
            <span class="n">flow</span><span class="o">.</span><span class="n">add_initial_node_analysis</span><span class="p">(</span><span class="n">node_promise</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="n">flow</span><span class="o">.</span><span class="n">copy_node</span><span class="p">(</span><span class="n">node_promise</span><span class="p">,</span> <span class="n">node_to_copy</span><span class="o">.</span><span class="n">setting_input</span><span class="p">,</span> <span class="n">node_to_copy</span><span class="o">.</span><span class="n">node_type</span><span class="p">)</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">422</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.create_db_connection" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">create_db_connection</span><span class="p">(</span><span class="n">input_connection</span><span class="p">,</span> <span class="n">current_user</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_current_active_user</span><span class="p">),</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Creates and securely stores a new database connection.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/db_connection_lib&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;db_connections&#39;</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create_db_connection</span><span class="p">(</span><span class="n">input_connection</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">FullDatabaseConnection</span><span class="p">,</span>
                         <span class="n">current_user</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_current_active_user</span><span class="p">),</span>
                         <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)</span>
                         <span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates and securely stores a new database connection.&quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Creating database connection </span><span class="si">{</span><span class="n">input_connection</span><span class="o">.</span><span class="n">connection_name</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">store_database_connection</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">input_connection</span><span class="p">,</span> <span class="n">current_user</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">422</span><span class="p">,</span> <span class="s1">&#39;Connection name already exists&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">422</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Database connection created successfully&quot;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.create_directory" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">create_directory</span><span class="p">(</span><span class="n">new_directory</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Creates a new directory at the specified path.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>new_directory</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            NewDirectory (flowfile_core.schemas.input_schema.NewDirectory)" href="#flowfile_core.schemas.input_schema.NewDirectory">NewDirectory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An <code>input_schema.NewDirectory</code> object with the path and name.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>True</code> if the directory was created successfully.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;/files/create_directory&#39;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">output_model</span><span class="o">.</span><span class="n">OutputDir</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;file manager&#39;</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create_directory</span><span class="p">(</span><span class="n">new_directory</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NewDirectory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new directory at the specified path.</span>

<span class="sd">    Args:</span>
<span class="sd">        new_directory: An `input_schema.NewDirectory` object with the path and name.</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True` if the directory was created successfully.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span><span class="p">,</span> <span class="n">error</span> <span class="o">=</span> <span class="n">create_dir</span><span class="p">(</span><span class="n">new_directory</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">result</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">error</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.create_flow" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">create_flow</span><span class="p">(</span><span class="n">flow_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Creates a new, empty flow file at the specified path and registers a session for it.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;/editor/create_flow/&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;editor&#39;</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create_flow</span><span class="p">(</span><span class="n">flow_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new, empty flow file at the specified path and registers a session for it.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">flow_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">flow_path</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span>
    <span class="k">elif</span> <span class="n">flow_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">flow_path</span> <span class="ow">and</span> <span class="n">flow_path</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.flowfile&quot;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">422</span><span class="p">,</span> <span class="s1">&#39;The name must be part of the flow path when a full path is provided&#39;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">flow_path</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">flow_path</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.flowfile&quot;</span><span class="p">):</span>
            <span class="n">flow_path</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">flow_path</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;.flowfile&quot;</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">flow_path</span> <span class="ow">and</span> <span class="n">name</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.flowfile&quot;</span><span class="p">):</span>
            <span class="n">flow_path</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">flow_path</span><span class="p">)</span> <span class="o">/</span> <span class="n">name</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">flow_path</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">name</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.flowfile&quot;</span><span class="p">):</span>
            <span class="n">flow_path</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">flow_path</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;.flowfile&quot;</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">flow_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">flow_path_ref</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">flow_path</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">flow_path_ref</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">422</span><span class="p">,</span> <span class="s1">&#39;The directory does not exist&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">flow_file_handler</span><span class="o">.</span><span class="n">add_flow</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">flow_path</span><span class="o">=</span><span class="n">flow_path</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.delete_db_connection" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">delete_db_connection</span><span class="p">(</span><span class="n">connection_name</span><span class="p">,</span> <span class="n">current_user</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_current_active_user</span><span class="p">),</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Deletes a stored database connection.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s1">&#39;/db_connection_lib&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;db_connections&#39;</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">delete_db_connection</span><span class="p">(</span><span class="n">connection_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                         <span class="n">current_user</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_current_active_user</span><span class="p">),</span>
                         <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)</span>
                         <span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a stored database connection.&quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Deleting database connection </span><span class="si">{</span><span class="n">connection_name</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">db_connection</span> <span class="o">=</span> <span class="n">get_database_connection</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">connection_name</span><span class="p">,</span> <span class="n">current_user</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">db_connection</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">404</span><span class="p">,</span> <span class="s1">&#39;Database connection not found&#39;</span><span class="p">)</span>
    <span class="n">delete_database_connection</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">connection_name</span><span class="p">,</span> <span class="n">current_user</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Database connection deleted successfully&quot;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.delete_node" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">delete_node</span><span class="p">(</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">node_id</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Deletes a node from the flow graph.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;/editor/delete_node/&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;editor&#39;</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">delete_node</span><span class="p">(</span><span class="n">flow_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a node from the flow graph.&quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Deleting node&#39;</span><span class="p">)</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">flow_file_handler</span><span class="o">.</span><span class="n">get_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">flow</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">422</span><span class="p">,</span> <span class="s1">&#39;Flow is running&#39;</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">delete_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.delete_node_connection" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">delete_node_connection</span><span class="p">(</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">node_connection</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Deletes a connection (edge) between two nodes.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;/editor/delete_connection/&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;editor&#39;</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">delete_node_connection</span><span class="p">(</span><span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">node_connection</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">NodeConnection</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a connection (edge) between two nodes.&quot;&quot;&quot;</span>
    <span class="n">flow_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="sa">f</span><span class="s1">&#39;Deleting connection node </span><span class="si">{</span><span class="n">node_connection</span><span class="o">.</span><span class="n">output_connection</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1"> to node </span><span class="si">{</span><span class="n">node_connection</span><span class="o">.</span><span class="n">input_connection</span><span class="o">.</span><span class="n">node_id</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">flow_file_handler</span><span class="o">.</span><span class="n">get_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">flow</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">422</span><span class="p">,</span> <span class="s1">&#39;Flow is running&#39;</span><span class="p">)</span>
    <span class="n">delete_connection</span><span class="p">(</span><span class="n">flow</span><span class="p">,</span> <span class="n">node_connection</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.get_active_flow_file_sessions" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_active_flow_file_sessions</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Retrieves a list of all currently active flow sessions.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/active_flowfile_sessions/&#39;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">List</span><span class="p">[</span><span class="n">schemas</span><span class="o">.</span><span class="n">FlowSettings</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_active_flow_file_sessions</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">schemas</span><span class="o">.</span><span class="n">FlowSettings</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieves a list of all currently active flow sessions.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">flf</span><span class="o">.</span><span class="n">flow_settings</span> <span class="k">for</span> <span class="n">flf</span> <span class="ow">in</span> <span class="n">flow_file_handler</span><span class="o">.</span><span class="n">flowfile_flows</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.get_current_directory_contents" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_current_directory_contents</span><span class="p">(</span><span class="n">file_types</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">include_hidden</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Gets the contents of the file explorer's current directory.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/files/current_directory_contents/&#39;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">List</span><span class="p">[</span><span class="n">FileInfo</span><span class="p">],</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;file manager&#39;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_current_directory_contents</span><span class="p">(</span><span class="n">file_types</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">include_hidden</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FileInfo</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets the contents of the file explorer&#39;s current directory.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">file_explorer</span><span class="o">.</span><span class="n">list_contents</span><span class="p">(</span><span class="n">file_types</span><span class="o">=</span><span class="n">file_types</span><span class="p">,</span> <span class="n">show_hidden</span><span class="o">=</span><span class="n">include_hidden</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.get_current_files" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_current_files</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Gets the contents of the file explorer's current directory.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/files/tree/&#39;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">List</span><span class="p">[</span><span class="n">FileInfo</span><span class="p">],</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;file manager&#39;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_current_files</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FileInfo</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets the contents of the file explorer&#39;s current directory.&quot;&quot;&quot;</span>
    <span class="n">f</span> <span class="o">=</span> <span class="n">file_explorer</span><span class="o">.</span><span class="n">list_contents</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">f</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.get_current_path" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_current_path</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Returns the current absolute path of the file explorer.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/files/current_path/&#39;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;file manager&#39;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_current_path</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the current absolute path of the file explorer.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">file_explorer</span><span class="o">.</span><span class="n">current_path</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.get_db_connections" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_db_connections</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">),</span> <span class="n">current_user</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_current_active_user</span><span class="p">))</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Retrieves all stored database connections for the current user (without passwords).</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/db_connection_lib&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;db_connections&#39;</span><span class="p">],</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">List</span><span class="p">[</span><span class="n">input_schema</span><span class="o">.</span><span class="n">FullDatabaseConnectionInterface</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_db_connections</span><span class="p">(</span>
        <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">),</span>
        <span class="n">current_user</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_current_active_user</span><span class="p">))</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">input_schema</span><span class="o">.</span><span class="n">FullDatabaseConnectionInterface</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieves all stored database connections for the current user (without passwords).&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_all_database_connections_interface</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">current_user</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.get_description_node" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_description_node</span><span class="p">(</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">node_id</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Retrieves the description text for a specific node.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/node/description&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;editor&#39;</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_description_node</span><span class="p">(</span><span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieves the description text for a specific node.&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">flow_file_handler</span><span class="o">.</span><span class="n">get_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">404</span><span class="p">,</span> <span class="s1">&#39;Could not find the node&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">node</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">404</span><span class="p">,</span> <span class="s1">&#39;Could not find the node&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">node</span><span class="o">.</span><span class="n">setting_input</span><span class="o">.</span><span class="n">description</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.get_directory_contents" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_directory_contents</span><span class="p">(</span><span class="n">directory</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">include_hidden</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Gets the contents of an arbitrary directory path.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>directory</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The absolute path to the directory.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>file_types</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An optional list of file extensions to filter by.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>include_hidden</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, includes hidden files and directories.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="flowfile_core.fileExplorer.funcs.FileInfo">FileInfo</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of <code>FileInfo</code> objects representing the directory's contents.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/files/directory_contents/&#39;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">List</span><span class="p">[</span><span class="n">FileInfo</span><span class="p">],</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;file manager&#39;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_directory_contents</span><span class="p">(</span><span class="n">directory</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">file_types</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                                 <span class="n">include_hidden</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FileInfo</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets the contents of an arbitrary directory path.</span>

<span class="sd">    Args:</span>
<span class="sd">        directory: The absolute path to the directory.</span>
<span class="sd">        file_types: An optional list of file extensions to filter by.</span>
<span class="sd">        include_hidden: If True, includes hidden files and directories.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of `FileInfo` objects representing the directory&#39;s contents.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">directory_explorer</span> <span class="o">=</span> <span class="n">SecureFileExplorer</span><span class="p">(</span><span class="n">directory</span><span class="p">,</span> <span class="n">storage</span><span class="o">.</span><span class="n">user_data_directory</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">directory_explorer</span><span class="o">.</span><span class="n">list_contents</span><span class="p">(</span><span class="n">show_hidden</span><span class="o">=</span><span class="n">include_hidden</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="n">file_types</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="n">HTTPException</span><span class="p">(</span><span class="mi">404</span><span class="p">,</span> <span class="s1">&#39;Could not access the directory&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.get_downstream_node_ids" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_downstream_node_ids</span><span class="p">(</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">node_id</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Gets a list of all node IDs that are downstream dependencies of a given node.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/node/downstream_node_ids&#39;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;editor&#39;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_downstream_node_ids</span><span class="p">(</span><span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a list of all node IDs that are downstream dependencies of a given node.&quot;&quot;&quot;</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">flow_file_handler</span><span class="o">.</span><span class="n">get_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span>
    <span class="n">node</span> <span class="o">=</span> <span class="n">flow</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">get_all_dependent_node_ids</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.get_excel_sheet_names" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_excel_sheet_names</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Retrieves the sheet names from an Excel file.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/api/get_xlsx_sheet_names&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;excel_reader&#39;</span><span class="p">],</span> <span class="n">response_model</span><span class="o">=</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_excel_sheet_names</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieves the sheet names from an Excel file.&quot;&quot;&quot;</span>
    <span class="n">sheet_names</span> <span class="o">=</span> <span class="n">excel_file_manager</span><span class="o">.</span><span class="n">get_sheet_names</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">sheet_names</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">sheet_names</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">404</span><span class="p">,</span> <span class="s1">&#39;File not found&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.get_expression_doc" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_expression_doc</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Retrieves documentation for available Polars expressions.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/editor/expression_doc&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;editor&#39;</span><span class="p">],</span> <span class="n">response_model</span><span class="o">=</span><span class="n">List</span><span class="p">[</span><span class="n">output_model</span><span class="o">.</span><span class="n">ExpressionsOverview</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_expression_doc</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">output_model</span><span class="o">.</span><span class="n">ExpressionsOverview</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieves documentation for available Polars expressions.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_expression_overview</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.get_expressions" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_expressions</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Retrieves a list of all available Flowfile expression names.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/editor/expressions&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;editor&#39;</span><span class="p">],</span> <span class="n">response_model</span><span class="o">=</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_expressions</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieves a list of all available Flowfile expression names.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_all_expressions</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.get_flow" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Retrieves the settings for a specific flow.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/editor/flow&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;editor&#39;</span><span class="p">],</span> <span class="n">response_model</span><span class="o">=</span><span class="n">schemas</span><span class="o">.</span><span class="n">FlowSettings</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieves the settings for a specific flow.&quot;&quot;&quot;</span>
    <span class="n">flow_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">get_flow_settings</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.get_flow_frontend_data" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_flow_frontend_data</span><span class="p">(</span><span class="n">flow_id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Retrieves the data needed to render the flow graph in the frontend.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/flow_data&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;manager&#39;</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_flow_frontend_data</span><span class="p">(</span><span class="n">flow_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieves the data needed to render the flow graph in the frontend.&quot;&quot;&quot;</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">flow_file_handler</span><span class="o">.</span><span class="n">get_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">flow</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">404</span><span class="p">,</span> <span class="s1">&#39;could not find the flow&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">flow</span><span class="o">.</span><span class="n">get_frontend_data</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.get_flow_settings" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_flow_settings</span><span class="p">(</span><span class="n">flow_id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Retrieves the main settings for a flow.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/flow_settings&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;manager&#39;</span><span class="p">],</span> <span class="n">response_model</span><span class="o">=</span><span class="n">schemas</span><span class="o">.</span><span class="n">FlowSettings</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_flow_settings</span><span class="p">(</span><span class="n">flow_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">schemas</span><span class="o">.</span><span class="n">FlowSettings</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieves the main settings for a flow.&quot;&quot;&quot;</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">flow_file_handler</span><span class="o">.</span><span class="n">get_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">flow</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">404</span><span class="p">,</span> <span class="s1">&#39;could not find the flow&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">flow</span><span class="o">.</span><span class="n">flow_settings</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.get_generated_code" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_generated_code</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Generates and returns a Python script with Polars code representing the flow.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/editor/code_to_polars&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[],</span> <span class="n">response_model</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_generated_code</span><span class="p">(</span><span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates and returns a Python script with Polars code representing the flow.&quot;&quot;&quot;</span>
    <span class="n">flow_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">flow_file_handler</span><span class="o">.</span><span class="n">get_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">flow</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">404</span><span class="p">,</span> <span class="s1">&#39;could not find the flow&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">export_flow_to_polars</span><span class="p">(</span><span class="n">flow</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.get_graphic_walker_input" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_graphic_walker_input</span><span class="p">(</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">node_id</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Gets the data and configuration for the Graphic Walker data exploration tool.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/analysis_data/graphic_walker_input&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;analysis&#39;</span><span class="p">],</span> <span class="n">response_model</span><span class="o">=</span><span class="n">input_schema</span><span class="o">.</span><span class="n">NodeExploreData</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_graphic_walker_input</span><span class="p">(</span><span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets the data and configuration for the Graphic Walker data exploration tool.&quot;&quot;&quot;</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">flow_file_handler</span><span class="o">.</span><span class="n">get_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span>
    <span class="n">node</span> <span class="o">=</span> <span class="n">flow</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">analysis_data_generator</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;The data is not refreshed and available for analysis&#39;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">422</span><span class="p">,</span> <span class="s1">&#39;The data is not refreshed and available for analysis&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">AnalyticsProcessor</span><span class="o">.</span><span class="n">process_graphic_walker_input</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.get_instant_function_result" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_instant_function_result</span><span class="p">(</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">node_id</span><span class="p">,</span> <span class="n">func_string</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Executes a simple, instant function on a node's data and returns the result.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/custom_functions/instant_result&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_instant_function_result</span><span class="p">(</span><span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">func_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Executes a simple, instant function on a node&#39;s data and returns the result.&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">flow_file_handler</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">node_id</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">to_thread</span><span class="p">(</span><span class="n">get_instant_func_results</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">func_string</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.get_list_of_saved_flows" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_list_of_saved_flows</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Scans a directory for saved flow files (<code>.flowfile</code>).</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/files/available_flow_files&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;editor&#39;</span><span class="p">],</span> <span class="n">response_model</span><span class="o">=</span><span class="n">List</span><span class="p">[</span><span class="n">FileInfo</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_list_of_saved_flows</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Scans a directory for saved flow files (`.flowfile`).&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">get_files_from_directory</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">types</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;flowfile&#39;</span><span class="p">])</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.get_local_files" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_local_files</span><span class="p">(</span><span class="n">directory</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Retrieves a list of files from a specified local directory.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>directory</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The absolute path of the directory to scan.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="flowfile_core.fileExplorer.funcs.FileInfo">FileInfo</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of <code>FileInfo</code> objects for each item in the directory.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>404 if the directory does not exist.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/files/files_in_local_directory/&#39;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">List</span><span class="p">[</span><span class="n">FileInfo</span><span class="p">],</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;file manager&#39;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_local_files</span><span class="p">(</span><span class="n">directory</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FileInfo</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieves a list of files from a specified local directory.</span>

<span class="sd">    Args:</span>
<span class="sd">        directory: The absolute path of the directory to scan.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of `FileInfo` objects for each item in the directory.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: 404 if the directory does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">files</span> <span class="o">=</span> <span class="n">get_files_from_directory</span><span class="p">(</span><span class="n">directory</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">files</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">404</span><span class="p">,</span> <span class="s1">&#39;Directory does not exist&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">files</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.get_node" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_node</span><span class="p">(</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">node_id</span><span class="p">,</span> <span class="n">get_data</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Retrieves the complete state and data preview for a single node.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/node&#39;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">output_model</span><span class="o">.</span><span class="n">NodeData</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;editor&#39;</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_node</span><span class="p">(</span><span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">get_data</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieves the complete state and data preview for a single node.&quot;&quot;&quot;</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Getting node </span><span class="si">{</span><span class="n">node_id</span><span class="si">}</span><span class="s1"> from flow </span><span class="si">{</span><span class="n">flow_id</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">flow_file_handler</span><span class="o">.</span><span class="n">get_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span>
    <span class="n">node</span> <span class="o">=</span> <span class="n">flow</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">node</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">422</span><span class="p">,</span> <span class="s1">&#39;Not found&#39;</span><span class="p">)</span>
    <span class="n">v</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">get_node_data</span><span class="p">(</span><span class="n">flow_id</span><span class="o">=</span><span class="n">flow</span><span class="o">.</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">include_example</span><span class="o">=</span><span class="n">get_data</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">v</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.get_node_list" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_node_list</span><span class="p">()</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Retrieves the list of all available node types and their templates.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/node_list&#39;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">List</span><span class="p">[</span><span class="n">schemas</span><span class="o">.</span><span class="n">NodeTemplate</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_node_list</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">schemas</span><span class="o">.</span><span class="n">NodeTemplate</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieves the list of all available node types and their templates.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">nodes_list</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.get_node_model" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_node_model</span><span class="p">(</span><span class="n">setting_name_ref</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>(Internal) Retrieves a node's Pydantic model from the input_schema module by its name.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_node_model</span><span class="p">(</span><span class="n">setting_name_ref</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;(Internal) Retrieves a node&#39;s Pydantic model from the input_schema module by its name.&quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Getting node model for: &quot;</span> <span class="o">+</span> <span class="n">setting_name_ref</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">ref_name</span><span class="p">,</span> <span class="n">ref</span> <span class="ow">in</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getmodule</span><span class="p">(</span><span class="n">input_schema</span><span class="p">)</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">ref_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">setting_name_ref</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ref</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not find node model for: </span><span class="si">{</span><span class="n">setting_name_ref</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.get_run_status" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_run_status</span><span class="p">(</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Retrieves the run status information for a specific flow.</p>
<p>Returns a 202 Accepted status while the flow is running, and 200 OK when finished.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/flow/run_status/&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;editor&#39;</span><span class="p">],</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">output_model</span><span class="o">.</span><span class="n">RunInformation</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_run_status</span><span class="p">(</span><span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="n">Response</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieves the run status information for a specific flow.</span>

<span class="sd">    Returns a 202 Accepted status while the flow is running, and 200 OK when finished.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">flow_file_handler</span><span class="o">.</span><span class="n">get_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">flow</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Flow not found&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">flow</span><span class="o">.</span><span class="n">latest_run_info</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;No run information available&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">flow</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
        <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">=</span> <span class="n">status</span><span class="o">.</span><span class="n">HTTP_202_ACCEPTED</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">=</span> <span class="n">status</span><span class="o">.</span><span class="n">HTTP_200_OK</span>
    <span class="k">return</span> <span class="n">flow</span><span class="o">.</span><span class="n">get_run_info</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.get_table_example" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_table_example</span><span class="p">(</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">node_id</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Retrieves a data preview (schema and sample rows) for a node's output.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/node/data&#39;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">output_model</span><span class="o">.</span><span class="n">TableExample</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;editor&#39;</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_table_example</span><span class="p">(</span><span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieves a data preview (schema and sample rows) for a node&#39;s output.&quot;&quot;&quot;</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">flow_file_handler</span><span class="o">.</span><span class="n">get_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span>
    <span class="n">node</span> <span class="o">=</span> <span class="n">flow</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">node</span><span class="o">.</span><span class="n">get_table_example</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.get_vue_flow_data" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_vue_flow_data</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Retrieves the flow data formatted for the Vue-based frontend.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/flow_data/v2&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;manager&#39;</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_vue_flow_data</span><span class="p">(</span><span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">schemas</span><span class="o">.</span><span class="n">VueFlowInput</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieves the flow data formatted for the Vue-based frontend.&quot;&quot;&quot;</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">flow_file_handler</span><span class="o">.</span><span class="n">get_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">flow</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">404</span><span class="p">,</span> <span class="s1">&#39;could not find the flow&#39;</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">flow</span><span class="o">.</span><span class="n">get_vue_flow_input</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">data</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.import_saved_flow" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">import_saved_flow</span><span class="p">(</span><span class="n">flow_path</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Imports a flow from a saved <code>.flowfile</code> and registers it as a new session.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/import_flow/&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;editor&#39;</span><span class="p">],</span> <span class="n">response_model</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">import_saved_flow</span><span class="p">(</span><span class="n">flow_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Imports a flow from a saved `.flowfile` and registers it as a new session.&quot;&quot;&quot;</span>
    <span class="n">flow_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">flow_path</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">flow_path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">404</span><span class="p">,</span> <span class="s1">&#39;File not found&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">flow_file_handler</span><span class="o">.</span><span class="n">import_flow</span><span class="p">(</span><span class="n">flow_path</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.navigate_into_directory" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">navigate_into_directory</span><span class="p">(</span><span class="n">directory_name</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Navigates the file explorer into a specified subdirectory.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;/files/navigate_into/&#39;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;file manager&#39;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">navigate_into_directory</span><span class="p">(</span><span class="n">directory_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Navigates the file explorer into a specified subdirectory.&quot;&quot;&quot;</span>
    <span class="n">file_explorer</span><span class="o">.</span><span class="n">navigate_into</span><span class="p">(</span><span class="n">directory_name</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">file_explorer</span><span class="o">.</span><span class="n">current_path</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.navigate_to_directory" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">navigate_to_directory</span><span class="p">(</span><span class="n">directory_name</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Navigates the file explorer to an absolute directory path.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;/files/navigate_to/&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;file manager&#39;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">navigate_to_directory</span><span class="p">(</span><span class="n">directory_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Navigates the file explorer to an absolute directory path.&quot;&quot;&quot;</span>
    <span class="n">file_explorer</span><span class="o">.</span><span class="n">navigate_to</span><span class="p">(</span><span class="n">directory_name</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">file_explorer</span><span class="o">.</span><span class="n">current_path</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.navigate_up" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">navigate_up</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Navigates the file explorer one directory level up.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;/files/navigate_up/&#39;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;file manager&#39;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">navigate_up</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Navigates the file explorer one directory level up.&quot;&quot;&quot;</span>
    <span class="n">file_explorer</span><span class="o">.</span><span class="n">navigate_up</span><span class="p">()</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">file_explorer</span><span class="o">.</span><span class="n">current_path</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.register_flow" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">register_flow</span><span class="p">(</span><span class="n">flow_data</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Registers a new flow session with the application.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>flow_data</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            FlowSettings (flowfile_core.schemas.schemas.FlowSettings)" href="#flowfile_core.schemas.schemas.FlowSettings">FlowSettings</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The <code>FlowSettings</code> for the new flow.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the newly registered flow.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;/flow/register/&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;editor&#39;</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">register_flow</span><span class="p">(</span><span class="n">flow_data</span><span class="p">:</span> <span class="n">schemas</span><span class="o">.</span><span class="n">FlowSettings</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Registers a new flow session with the application.</span>

<span class="sd">    Args:</span>
<span class="sd">        flow_data: The `FlowSettings` for the new flow.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The ID of the newly registered flow.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">flow_file_handler</span><span class="o">.</span><span class="n">register_flow</span><span class="p">(</span><span class="n">flow_data</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.run_flow" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">run_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">background_tasks</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Executes a flow in a background task.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>flow_id</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the flow to execute.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>background_tasks</code>
            </td>
            <td>
                  <code><span title="fastapi.BackgroundTasks">BackgroundTasks</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>FastAPI's background task runner.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.responses.JSONResponse">JSONResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A JSON response indicating that the flow has started.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;/flow/run/&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;editor&#39;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">run_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">background_tasks</span><span class="p">:</span> <span class="n">BackgroundTasks</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JSONResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Executes a flow in a background task.</span>

<span class="sd">    Args:</span>
<span class="sd">        flow_id: The ID of the flow to execute.</span>
<span class="sd">        background_tasks: FastAPI&#39;s background task runner.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A JSON response indicating that the flow has started.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;starting to run...&#39;</span><span class="p">)</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">flow_file_handler</span><span class="o">.</span><span class="n">get_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span>
    <span class="n">lock</span> <span class="o">=</span> <span class="n">get_flow_run_lock</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">lock</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">flow</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">422</span><span class="p">,</span> <span class="s1">&#39;Flow is already running&#39;</span><span class="p">)</span>
        <span class="n">background_tasks</span><span class="o">.</span><span class="n">add_task</span><span class="p">(</span><span class="n">flow</span><span class="o">.</span><span class="n">run_graph</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">JSONResponse</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Data started&quot;</span><span class="p">,</span> <span class="s2">&quot;flow_id&quot;</span><span class="p">:</span> <span class="n">flow_id</span><span class="p">},</span> <span class="n">status_code</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_200_OK</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.save_flow" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">save_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">flow_path</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Saves the current state of a flow to a <code>.flowfile</code>.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/save_flow&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;editor&#39;</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">save_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">flow_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Saves the current state of a flow to a `.flowfile`.&quot;&quot;&quot;</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">flow_file_handler</span><span class="o">.</span><span class="n">get_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">save_flow</span><span class="p">(</span><span class="n">flow_path</span><span class="o">=</span><span class="n">flow_path</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.trigger_fetch_node_data" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">trigger_fetch_node_data</span><span class="p">(</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">node_id</span><span class="p">,</span> <span class="n">background_tasks</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Fetches and refreshes the data for a specific node.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/node/trigger_fetch_data&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;editor&#39;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">trigger_fetch_node_data</span><span class="p">(</span><span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">background_tasks</span><span class="p">:</span> <span class="n">BackgroundTasks</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Fetches and refreshes the data for a specific node.&quot;&quot;&quot;</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">flow_file_handler</span><span class="o">.</span><span class="n">get_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span>
    <span class="n">lock</span> <span class="o">=</span> <span class="n">get_flow_run_lock</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">lock</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">flow</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">422</span><span class="p">,</span> <span class="s1">&#39;Flow is already running&#39;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">flow</span><span class="o">.</span><span class="n">validate_if_node_can_be_fetched</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">422</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
        <span class="n">background_tasks</span><span class="o">.</span><span class="n">add_task</span><span class="p">(</span><span class="n">flow</span><span class="o">.</span><span class="n">trigger_fetch_node</span><span class="p">,</span> <span class="n">node_id</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">JSONResponse</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Data started&quot;</span><span class="p">,</span>
                                 <span class="s2">&quot;flow_id&quot;</span><span class="p">:</span> <span class="n">flow_id</span><span class="p">,</span>
                                 <span class="s2">&quot;node_id&quot;</span><span class="p">:</span> <span class="n">node_id</span><span class="p">},</span> <span class="n">status_code</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_200_OK</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.update_description_node" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">update_description_node</span><span class="p">(</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">node_id</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="n">Body</span><span class="p">(</span><span class="o">...</span><span class="p">))</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Updates the description text for a specific node.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;/node/description/&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;editor&#39;</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">update_description_node</span><span class="p">(</span><span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Body</span><span class="p">(</span><span class="o">...</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates the description text for a specific node.&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">flow_file_handler</span><span class="o">.</span><span class="n">get_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">404</span><span class="p">,</span> <span class="s1">&#39;Could not find the node&#39;</span><span class="p">)</span>
    <span class="n">node</span><span class="o">.</span><span class="n">setting_input</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="n">description</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.update_flow_settings" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">update_flow_settings</span><span class="p">(</span><span class="n">flow_settings</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Updates the main settings for a flow.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;/flow_settings&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;manager&#39;</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">update_flow_settings</span><span class="p">(</span><span class="n">flow_settings</span><span class="p">:</span> <span class="n">schemas</span><span class="o">.</span><span class="n">FlowSettings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates the main settings for a flow.&quot;&quot;&quot;</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">flow_file_handler</span><span class="o">.</span><span class="n">get_flow</span><span class="p">(</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">flow_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">flow</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">404</span><span class="p">,</span> <span class="s1">&#39;could not find the flow&#39;</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">flow_settings</span> <span class="o">=</span> <span class="n">flow_settings</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.upload_file" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">upload_file</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="n">File</span><span class="p">(</span><span class="o">...</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Uploads a file to the server's 'uploads' directory.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>file</code>
            </td>
            <td>
                  <code><span title="fastapi.UploadFile">UploadFile</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The file to be uploaded.</p>
              </div>
            </td>
            <td>
                  <code><span title="fastapi.File">File</span>(...)</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.responses.JSONResponse">JSONResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A JSON response containing the filename and the path where it was saved.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/upload/&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">upload_file</span><span class="p">(</span><span class="n">file</span><span class="p">:</span> <span class="n">UploadFile</span> <span class="o">=</span> <span class="n">File</span><span class="p">(</span><span class="o">...</span><span class="p">))</span> <span class="o">-&gt;</span> <span class="n">JSONResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Uploads a file to the server&#39;s &#39;uploads&#39; directory.</span>

<span class="sd">    Args:</span>
<span class="sd">        file: The file to be uploaded.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A JSON response containing the filename and the path where it was saved.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">file_location</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;uploads/</span><span class="si">{</span><span class="n">file</span><span class="o">.</span><span class="n">filename</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_location</span><span class="p">,</span> <span class="s2">&quot;wb+&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_object</span><span class="p">:</span>
        <span class="n">file_object</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">JSONResponse</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;filename&quot;</span><span class="p">:</span> <span class="n">file</span><span class="o">.</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;filepath&quot;</span><span class="p">:</span> <span class="n">file_location</span><span class="p">})</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.routes.validate_db_settings" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">validate_db_settings</span><span class="p">(</span><span class="n">database_settings</span><span class="p">,</span> <span class="n">current_user</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_current_active_user</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Validates that a connection can be made to a database with the given settings.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/routes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/validate_db_settings&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">validate_db_settings</span><span class="p">(</span>
        <span class="n">database_settings</span><span class="p">:</span> <span class="n">input_schema</span><span class="o">.</span><span class="n">DatabaseSettings</span><span class="p">,</span>
        <span class="n">current_user</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_current_active_user</span><span class="p">)</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validates that a connection can be made to a database with the given settings.&quot;&quot;&quot;</span>
    <span class="c1"># Validate the query settings</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">sql_source</span> <span class="o">=</span> <span class="n">create_sql_source_from_db_settings</span><span class="p">(</span><span class="n">database_settings</span><span class="p">,</span> <span class="n">user_id</span><span class="o">=</span><span class="n">current_user</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
        <span class="n">sql_source</span><span class="o">.</span><span class="n">validate</span><span class="p">()</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Query settings are valid&quot;</span><span class="p">}</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">422</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h3 id="auth"><code>auth</code></h3>


<div class="doc doc-object doc-module">



<h4 id="flowfile_core.routes.auth" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <code>flowfile_core.routes.auth</code>


</h4>

    <div class="doc doc-contents first">















  <div class="doc doc-children">












  </div>

    </div>

</div><h3 id="cloud_connections"><code>cloud_connections</code></h3>


<div class="doc doc-object doc-module">



<h4 id="flowfile_core.routes.cloud_connections" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <code>flowfile_core.routes.cloud_connections</code>


</h4>

    <div class="doc doc-contents first">












<p><span class="doc-section-title">Functions:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            create_cloud_storage_connection(input_connection, current_user=Depends(get_current_active_user), db=Depends(get_db)) (flowfile_core.routes.cloud_connections.create_cloud_storage_connection)" href="#flowfile_core.routes.cloud_connections.create_cloud_storage_connection">create_cloud_storage_connection</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Create a new cloud storage connection.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            delete_cloud_connection_with_connection_name(connection_name, current_user=Depends(get_current_active_user), db=Depends(get_db)) (flowfile_core.routes.cloud_connections.delete_cloud_connection_with_connection_name)" href="#flowfile_core.routes.cloud_connections.delete_cloud_connection_with_connection_name">delete_cloud_connection_with_connection_name</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Delete a cloud connection.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_cloud_connections(db=Depends(get_db), current_user=Depends(get_current_active_user)) (flowfile_core.routes.cloud_connections.get_cloud_connections)" href="#flowfile_core.routes.cloud_connections.get_cloud_connections">get_cloud_connections</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Get all cloud storage connections for the current user.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>





  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.cloud_connections.create_cloud_storage_connection" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">create_cloud_storage_connection</span><span class="p">(</span><span class="n">input_connection</span><span class="p">,</span> <span class="n">current_user</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_current_active_user</span><span class="p">),</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Create a new cloud storage connection.
Parameters
    input_connection: FullCloudStorageConnection schema containing connection details
    current_user: User obtained from Depends(get_current_active_user)
    db: Session obtained from Depends(get_db)
Returns
    Dict with a success message</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/cloud_connections.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/cloud_connection&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;cloud_connections&#39;</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create_cloud_storage_connection</span><span class="p">(</span><span class="n">input_connection</span><span class="p">:</span> <span class="n">FullCloudStorageConnection</span><span class="p">,</span>
                                    <span class="n">current_user</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_current_active_user</span><span class="p">),</span>
                                    <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)</span>
                                    <span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new cloud storage connection.</span>
<span class="sd">    Parameters</span>
<span class="sd">        input_connection: FullCloudStorageConnection schema containing connection details</span>
<span class="sd">        current_user: User obtained from Depends(get_current_active_user)</span>
<span class="sd">        db: Session obtained from Depends(get_db)</span>
<span class="sd">    Returns</span>
<span class="sd">        Dict with a success message</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Create cloud connection </span><span class="si">{</span><span class="n">input_connection</span><span class="o">.</span><span class="n">connection_name</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">store_cloud_connection</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">input_connection</span><span class="p">,</span> <span class="n">current_user</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">422</span><span class="p">,</span> <span class="s1">&#39;Connection name already exists&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">422</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Cloud connection created successfully&quot;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.cloud_connections.delete_cloud_connection_with_connection_name" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">delete_cloud_connection_with_connection_name</span><span class="p">(</span><span class="n">connection_name</span><span class="p">,</span> <span class="n">current_user</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_current_active_user</span><span class="p">),</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Delete a cloud connection.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/cloud_connections.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s1">&#39;/cloud_connection&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;cloud_connections&#39;</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">delete_cloud_connection_with_connection_name</span><span class="p">(</span><span class="n">connection_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                                 <span class="n">current_user</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_current_active_user</span><span class="p">),</span>
                                                 <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)</span>
                                                 <span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Delete a cloud connection.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Deleting cloud connection </span><span class="si">{</span><span class="n">connection_name</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">cloud_storage_connection</span> <span class="o">=</span> <span class="n">get_cloud_connection_schema</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">connection_name</span><span class="p">,</span> <span class="n">current_user</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">cloud_storage_connection</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">404</span><span class="p">,</span> <span class="s1">&#39;Cloud connection connection not found&#39;</span><span class="p">)</span>
    <span class="n">delete_cloud_connection</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">connection_name</span><span class="p">,</span> <span class="n">current_user</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Cloud connection deleted successfully&quot;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.cloud_connections.get_cloud_connections" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_cloud_connections</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">),</span> <span class="n">current_user</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_current_active_user</span><span class="p">))</span></code>

</h5>


    <div class="doc doc-contents ">

        <p>Get all cloud storage connections for the current user.
Parameters
    db: Session obtained from Depends(get_db)
    current_user: User obtained from Depends(get_current_active_user)</p>
<p>Returns
    List[FullCloudStorageConnectionInterface]</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/cloud_connections.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/cloud_connections&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;cloud_connection&#39;</span><span class="p">],</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">List</span><span class="p">[</span><span class="n">FullCloudStorageConnectionInterface</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_cloud_connections</span><span class="p">(</span>
        <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">),</span>
        <span class="n">current_user</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_current_active_user</span><span class="p">))</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FullCloudStorageConnectionInterface</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get all cloud storage connections for the current user.</span>
<span class="sd">    Parameters</span>
<span class="sd">        db: Session obtained from Depends(get_db)</span>
<span class="sd">        current_user: User obtained from Depends(get_current_active_user)</span>

<span class="sd">    Returns</span>
<span class="sd">        List[FullCloudStorageConnectionInterface]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_all_cloud_connections_interface</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">current_user</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h3 id="logs"><code>logs</code></h3>


<div class="doc doc-object doc-module">



<h4 id="flowfile_core.routes.logs" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <code>flowfile_core.routes.logs</code>


</h4>

    <div class="doc doc-contents first">












<p><span class="doc-section-title">Functions:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_log(flow_id, log_message)

  
      async
   (flowfile_core.routes.logs.add_log)" href="#flowfile_core.routes.logs.add_log">add_log</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a log message to the log file for a given flow_id.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            add_raw_log(raw_log_input)

  
      async
   (flowfile_core.routes.logs.add_raw_log)" href="#flowfile_core.routes.logs.add_raw_log">add_raw_log</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Adds a log message to the log file for a given flow_id.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            format_sse_message(data)

  
      async
   (flowfile_core.routes.logs.format_sse_message)" href="#flowfile_core.routes.logs.format_sse_message">format_sse_message</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Format the data as a proper SSE message</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            stream_logs(flow_id, idle_timeout=300, current_user=Depends(get_current_user_from_query))

  
      async
   (flowfile_core.routes.logs.stream_logs)" href="#flowfile_core.routes.logs.stream_logs">stream_logs</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Streams logs for a given flow_id using Server-Sent Events.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>





  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.logs.add_log" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">add_log</span><span class="p">(</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">log_message</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a log message to the log file for a given flow_id.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/logs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/logs/</span><span class="si">{flow_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;flow_logging&#39;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">add_log</span><span class="p">(</span><span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">log_message</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a log message to the log file for a given flow_id.&quot;&quot;&quot;</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">flow_file_handler</span><span class="o">.</span><span class="n">get_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">flow</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Flow not found&quot;</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">log_message</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Log added successfully&quot;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.logs.add_raw_log" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">add_raw_log</span><span class="p">(</span><span class="n">raw_log_input</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Adds a log message to the log file for a given flow_id.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/logs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/raw_logs&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;flow_logging&#39;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">add_raw_log</span><span class="p">(</span><span class="n">raw_log_input</span><span class="p">:</span> <span class="n">schemas</span><span class="o">.</span><span class="n">RawLogInput</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a log message to the log file for a given flow_id.&quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Adding raw logs&#39;</span><span class="p">)</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">flow_file_handler</span><span class="o">.</span><span class="n">get_flow</span><span class="p">(</span><span class="n">raw_log_input</span><span class="o">.</span><span class="n">flowfile_flow_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">flow</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Flow not found&quot;</span><span class="p">)</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">get_log_filepath</span><span class="p">()</span>
    <span class="n">flow_logger</span> <span class="o">=</span> <span class="n">flow</span><span class="o">.</span><span class="n">flow_logger</span>
    <span class="n">flow_logger</span><span class="o">.</span><span class="n">get_log_filepath</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">raw_log_input</span><span class="o">.</span><span class="n">log_type</span> <span class="o">==</span> <span class="s1">&#39;INFO&#39;</span><span class="p">:</span>
        <span class="n">flow_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">raw_log_input</span><span class="o">.</span><span class="n">log_message</span><span class="p">,</span>
                         <span class="n">extra</span><span class="o">=</span><span class="n">raw_log_input</span><span class="o">.</span><span class="n">extra</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">raw_log_input</span><span class="o">.</span><span class="n">log_type</span> <span class="o">==</span> <span class="s1">&#39;ERROR&#39;</span><span class="p">:</span>
        <span class="n">flow_logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">raw_log_input</span><span class="o">.</span><span class="n">log_message</span><span class="p">,</span>
                          <span class="n">extra</span><span class="o">=</span><span class="n">raw_log_input</span><span class="o">.</span><span class="n">extra</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Log added successfully&quot;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.logs.format_sse_message" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">format_sse_message</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Format the data as a proper SSE message</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/logs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">format_sse_message</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Format the data as a proper SSE message&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;data: </span><span class="si">{</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.logs.stream_logs" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">stream_logs</span><span class="p">(</span><span class="n">flow_id</span><span class="p">,</span> <span class="n">idle_timeout</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">current_user</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_current_user_from_query</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Streams logs for a given flow_id using Server-Sent Events.
Requires authentication via token in query parameter.
The connection will close gracefully if the server shuts down.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/logs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/logs/</span><span class="si">{flow_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;flow_logging&#39;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">stream_logs</span><span class="p">(</span>
    <span class="n">flow_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">idle_timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">300</span><span class="p">,</span>
    <span class="n">current_user</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_current_user_from_query</span><span class="p">)</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Streams logs for a given flow_id using Server-Sent Events.</span>
<span class="sd">    Requires authentication via token in query parameter.</span>
<span class="sd">    The connection will close gracefully if the server shuts down.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Starting log stream for flow_id: </span><span class="si">{</span><span class="n">flow_id</span><span class="si">}</span><span class="s2"> by user: </span><span class="si">{</span><span class="n">current_user</span><span class="o">.</span><span class="n">username</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">.3</span><span class="p">)</span>
    <span class="n">flow</span> <span class="o">=</span> <span class="n">flow_file_handler</span><span class="o">.</span><span class="n">get_flow</span><span class="p">(</span><span class="n">flow_id</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Streaming logs&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">flow</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Flow not found&quot;</span><span class="p">)</span>

    <span class="n">log_file_path</span> <span class="o">=</span> <span class="n">flow</span><span class="o">.</span><span class="n">flow_logger</span><span class="o">.</span><span class="n">get_log_filepath</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">Path</span><span class="p">(</span><span class="n">log_file_path</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Log file not found&quot;</span><span class="p">)</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">RunningState</span><span class="p">:</span>
        <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">has_started</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">is_running</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">flow</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">has_started</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">return</span> <span class="n">flow</span><span class="o">.</span><span class="n">flow_settings</span><span class="o">.</span><span class="n">is_running</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_started</span>

    <span class="n">running_state</span> <span class="o">=</span> <span class="n">RunningState</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">StreamingResponse</span><span class="p">(</span>
        <span class="n">stream_log_file</span><span class="p">(</span><span class="n">log_file_path</span><span class="p">,</span> <span class="n">running_state</span><span class="o">.</span><span class="n">is_running</span><span class="p">,</span> <span class="n">idle_timeout</span><span class="p">),</span>
        <span class="n">media_type</span><span class="o">=</span><span class="s2">&quot;text/event-stream&quot;</span><span class="p">,</span>
        <span class="n">headers</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;Cache-Control&quot;</span><span class="p">:</span> <span class="s2">&quot;no-cache&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Connection&quot;</span><span class="p">:</span> <span class="s2">&quot;keep-alive&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Content-Type&quot;</span><span class="p">:</span> <span class="s2">&quot;text/event-stream&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h3 id="public"><code>public</code></h3>


<div class="doc doc-object doc-module">



<h4 id="flowfile_core.routes.public" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <code>flowfile_core.routes.public</code>


</h4>

    <div class="doc doc-contents first">












<p><span class="doc-section-title">Functions:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            docs_redirect()

  
      async
   (flowfile_core.routes.public.docs_redirect)" href="#flowfile_core.routes.public.docs_redirect">docs_redirect</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Redirects to the documentation page.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>





  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.public.docs_redirect" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">docs_redirect</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Redirects to the documentation page.</p>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/public.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;admin&#39;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">docs_redirect</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Redirects to the documentation page.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">RedirectResponse</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s1">&#39;/docs&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h3 id="secrets"><code>secrets</code></h3>


<div class="doc doc-object doc-module">



<h4 id="flowfile_core.routes.secrets" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <code>flowfile_core.routes.secrets</code>


</h4>

    <div class="doc doc-contents first">

        <p>Manages CRUD (Create, Read, Update, Delete) operations for secrets.</p>
<p>This router provides secure endpoints for creating, retrieving, and deleting
sensitive credentials for the authenticated user. Secrets are encrypted before
being stored and are associated with the user's ID.</p>












<p><span class="doc-section-title">Functions:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            create_secret(secret, current_user=Depends(get_current_active_user), db=Depends(get_db))

  
      async
   (flowfile_core.routes.secrets.create_secret)" href="#flowfile_core.routes.secrets.create_secret">create_secret</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Creates a new secret for the authenticated user.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            delete_secret(secret_name, current_user=Depends(get_current_active_user), db=Depends(get_db))

  
      async
   (flowfile_core.routes.secrets.delete_secret)" href="#flowfile_core.routes.secrets.delete_secret">delete_secret</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Deletes a secret by name for the authenticated user.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_secret(secret_name, current_user=Depends(get_current_active_user), db=Depends(get_db))

  
      async
   (flowfile_core.routes.secrets.get_secret)" href="#flowfile_core.routes.secrets.get_secret">get_secret</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Retrieves a specific secret by name for the authenticated user.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_secrets(current_user=Depends(get_current_active_user), db=Depends(get_db))

  
      async
   (flowfile_core.routes.secrets.get_secrets)" href="#flowfile_core.routes.secrets.get_secrets">get_secrets</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Retrieves all secret names for the currently authenticated user.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>





  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.secrets.create_secret" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">create_secret</span><span class="p">(</span><span class="n">secret</span><span class="p">,</span> <span class="n">current_user</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_current_active_user</span><span class="p">),</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Creates a new secret for the authenticated user.</p>
<p>The secret value is encrypted before being stored in the database. A secret
name must be unique for a given user.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>secret</code>
            </td>
            <td>
                  <code><span title="flowfile_core.auth.models.SecretInput">SecretInput</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>SecretInput</code> object containing the name and plaintext value of the secret.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>current_user</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The authenticated user object, injected by FastAPI.</p>
              </div>
            </td>
            <td>
                  <code><span title="fastapi.Depends">Depends</span>(<span title="flowfile_core.auth.jwt.get_current_active_user">get_current_active_user</span>)</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>db</code>
            </td>
            <td>
                  <code><span title="sqlalchemy.orm.Session">Session</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The database session, injected by FastAPI.</p>
              </div>
            </td>
            <td>
                  <code><span title="fastapi.Depends">Depends</span>(<span title="flowfile_core.database.connection.get_db">get_db</span>)</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>400 if a secret with the same name already exists for the user.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="flowfile_core.auth.models.Secret">Secret</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>Secret</code> object containing the name and the <em>encrypted</em> value.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/secrets.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/secrets&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">Secret</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">create_secret</span><span class="p">(</span><span class="n">secret</span><span class="p">:</span> <span class="n">SecretInput</span><span class="p">,</span> <span class="n">current_user</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_current_active_user</span><span class="p">),</span>
                        <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span> <span class="o">-&gt;</span> <span class="n">Secret</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new secret for the authenticated user.</span>

<span class="sd">    The secret value is encrypted before being stored in the database. A secret</span>
<span class="sd">    name must be unique for a given user.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret: A `SecretInput` object containing the name and plaintext value of the secret.</span>
<span class="sd">        current_user: The authenticated user object, injected by FastAPI.</span>
<span class="sd">        db: The database session, injected by FastAPI.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: 400 if a secret with the same name already exists for the user.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A `Secret` object containing the name and the *encrypted* value.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Get user ID</span>
    <span class="n">user_id</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;FLOWFILE_MODE&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;electron&quot;</span> <span class="k">else</span> <span class="n">current_user</span><span class="o">.</span><span class="n">id</span>

    <span class="n">existing_secret</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">db_models</span><span class="o">.</span><span class="n">Secret</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
        <span class="n">db_models</span><span class="o">.</span><span class="n">Secret</span><span class="o">.</span><span class="n">user_id</span> <span class="o">==</span> <span class="n">user_id</span><span class="p">,</span>
        <span class="n">db_models</span><span class="o">.</span><span class="n">Secret</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">secret</span><span class="o">.</span><span class="n">name</span>
    <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">existing_secret</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Secret with this name already exists&quot;</span><span class="p">)</span>

    <span class="c1"># The store_secret function handles encryption and DB storage</span>
    <span class="n">stored_secret</span> <span class="o">=</span> <span class="n">store_secret</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">secret</span><span class="p">,</span> <span class="n">user_id</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Secret</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">stored_secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">stored_secret</span><span class="o">.</span><span class="n">encrypted_value</span><span class="p">,</span> <span class="n">user_id</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">user_id</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.secrets.delete_secret" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">delete_secret</span><span class="p">(</span><span class="n">secret_name</span><span class="p">,</span> <span class="n">current_user</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_current_active_user</span><span class="p">),</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Deletes a secret by name for the authenticated user.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>secret_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the secret to delete.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>current_user</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The authenticated user object, injected by FastAPI.</p>
              </div>
            </td>
            <td>
                  <code><span title="fastapi.Depends">Depends</span>(<span title="flowfile_core.auth.jwt.get_current_active_user">get_current_active_user</span>)</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>db</code>
            </td>
            <td>
                  <code><span title="sqlalchemy.orm.Session">Session</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The database session, injected by FastAPI.</p>
              </div>
            </td>
            <td>
                  <code><span title="fastapi.Depends">Depends</span>(<span title="flowfile_core.database.connection.get_db">get_db</span>)</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An empty response with a 204 No Content status code upon success.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/secrets.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;/secrets/</span><span class="si">{secret_name}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">status_code</span><span class="o">=</span><span class="mi">204</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">delete_secret</span><span class="p">(</span><span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">current_user</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_current_active_user</span><span class="p">),</span>
                        <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a secret by name for the authenticated user.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_name: The name of the secret to delete.</span>
<span class="sd">        current_user: The authenticated user object, injected by FastAPI.</span>
<span class="sd">        db: The database session, injected by FastAPI.</span>

<span class="sd">    Returns:</span>
<span class="sd">        An empty response with a 204 No Content status code upon success.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Get user ID</span>
    <span class="n">user_id</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;FLOWFILE_MODE&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;electron&quot;</span> <span class="k">else</span> <span class="n">current_user</span><span class="o">.</span><span class="n">id</span>
    <span class="n">delete_secret_action</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">,</span> <span class="n">user_id</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.secrets.get_secret" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_secret</span><span class="p">(</span><span class="n">secret_name</span><span class="p">,</span> <span class="n">current_user</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_current_active_user</span><span class="p">),</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Retrieves a specific secret by name for the authenticated user.</p>
<p>Note: This endpoint returns the secret name and metadata but does not
expose the decrypted secret value.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>secret_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the secret to retrieve.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>current_user</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The authenticated user object, injected by FastAPI.</p>
              </div>
            </td>
            <td>
                  <code><span title="fastapi.Depends">Depends</span>(<span title="flowfile_core.auth.jwt.get_current_active_user">get_current_active_user</span>)</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>db</code>
            </td>
            <td>
                  <code><span title="sqlalchemy.orm.Session">Session</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The database session, injected by FastAPI.</p>
              </div>
            </td>
            <td>
                  <code><span title="fastapi.Depends">Depends</span>(<span title="flowfile_core.database.connection.get_db">get_db</span>)</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>404 if the secret is not found.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="flowfile_core.auth.models.Secret">Secret</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>Secret</code> object containing the name and encrypted value.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/secrets.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/secrets/</span><span class="si">{secret_name}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">Secret</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_secret</span><span class="p">(</span><span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                     <span class="n">current_user</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_current_active_user</span><span class="p">),</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span> <span class="o">-&gt;</span> <span class="n">Secret</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieves a specific secret by name for the authenticated user.</span>

<span class="sd">    Note: This endpoint returns the secret name and metadata but does not</span>
<span class="sd">    expose the decrypted secret value.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_name: The name of the secret to retrieve.</span>
<span class="sd">        current_user: The authenticated user object, injected by FastAPI.</span>
<span class="sd">        db: The database session, injected by FastAPI.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: 404 if the secret is not found.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A `Secret` object containing the name and encrypted value.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Get user ID</span>
    <span class="n">user_id</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;FLOWFILE_MODE&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;electron&quot;</span> <span class="k">else</span> <span class="n">current_user</span><span class="o">.</span><span class="n">id</span>

    <span class="c1"># Get secret from database</span>
    <span class="n">db_secret</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">db_models</span><span class="o">.</span><span class="n">Secret</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
        <span class="n">db_models</span><span class="o">.</span><span class="n">Secret</span><span class="o">.</span><span class="n">user_id</span> <span class="o">==</span> <span class="n">user_id</span><span class="p">,</span>
        <span class="n">db_models</span><span class="o">.</span><span class="n">Secret</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">secret_name</span>
    <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">db_secret</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Secret not found&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">Secret</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">db_secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="n">db_secret</span><span class="o">.</span><span class="n">encrypted_value</span><span class="p">,</span>
        <span class="n">user_id</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">db_secret</span><span class="o">.</span><span class="n">user_id</span><span class="p">)</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="flowfile_core.routes.secrets.get_secrets" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <code class="highlight language-python"><span class="n">get_secrets</span><span class="p">(</span><span class="n">current_user</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_current_active_user</span><span class="p">),</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

        <p>Retrieves all secret names for the currently authenticated user.</p>
<p>Note: This endpoint returns the secret names and metadata but does not
expose the decrypted secret values.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>current_user</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The authenticated user object, injected by FastAPI.</p>
              </div>
            </td>
            <td>
                  <code><span title="fastapi.Depends">Depends</span>(<span title="flowfile_core.auth.jwt.get_current_active_user">get_current_active_user</span>)</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>db</code>
            </td>
            <td>
                  <code><span title="sqlalchemy.orm.Session">Session</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The database session, injected by FastAPI.</p>
              </div>
            </td>
            <td>
                  <code><span title="fastapi.Depends">Depends</span>(<span title="flowfile_core.database.connection.get_db">get_db</span>)</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of <code>Secret</code> objects, each containing the name and encrypted value.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>flowfile_core/flowfile_core/routes/secrets.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/secrets&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">List</span><span class="p">[</span><span class="n">Secret</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_secrets</span><span class="p">(</span><span class="n">current_user</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_current_active_user</span><span class="p">),</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieves all secret names for the currently authenticated user.</span>

<span class="sd">    Note: This endpoint returns the secret names and metadata but does not</span>
<span class="sd">    expose the decrypted secret values.</span>

<span class="sd">    Args:</span>
<span class="sd">        current_user: The authenticated user object, injected by FastAPI.</span>
<span class="sd">        db: The database session, injected by FastAPI.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of `Secret` objects, each containing the name and encrypted value.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">user_id</span> <span class="o">=</span> <span class="n">current_user</span><span class="o">.</span><span class="n">id</span>

    <span class="c1"># Get secrets from database</span>
    <span class="n">db_secrets</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">db_models</span><span class="o">.</span><span class="n">Secret</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">db_models</span><span class="o">.</span><span class="n">Secret</span><span class="o">.</span><span class="n">user_id</span> <span class="o">==</span> <span class="n">user_id</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>

    <span class="c1"># Prepare response model (without decrypting)</span>
    <span class="n">secrets</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">db_secret</span> <span class="ow">in</span> <span class="n">db_secrets</span><span class="p">:</span>
        <span class="n">secrets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Secret</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">db_secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">db_secret</span><span class="o">.</span><span class="n">encrypted_value</span><span class="p">,</span>
            <span class="n">user_id</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">db_secret</span><span class="o">.</span><span class="n">user_id</span><span class="p">)</span>
        <span class="p">))</span>

    <span class="k">return</span> <span class="n">secrets</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><hr />












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.sections", "navigation.top", "search.suggest", "search.highlight", "content.code.copy"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>