flowfile_version: "1.0.0"
flowfile_id: 1
flowfile_name: "Sales Data Demo"
flowfile_settings:
  description: "Demo flow showing data transformation pipeline"
  execution_mode: "Development"
  execution_location: "local"
  auto_save: false
  show_detailed_progress: false

nodes:
  - id: 1
    type: read_csv
    is_start_node: true
    description: "Read Sales Data"
    x_position: 100
    y_position: 200
    input_ids: []
    outputs: [2]
    setting_input:
      flow_id: 1
      node_id: 1
      cache_results: false
      pos_x: 100
      pos_y: 200
      is_setup: true
      description: "Read Sales Data"
      file_name: "sample-data.csv"
      received_table:
        name: "sample-data.csv"
        file_type: "csv"
        table_settings:
          file_type: "csv"
          delimiter: ","
          has_headers: true
          encoding: "utf-8"

  - id: 2
    type: filter
    is_start_node: false
    description: "Filter Electronics"
    x_position: 350
    y_position: 200
    input_ids: [1]
    outputs: [3]
    setting_input:
      flow_id: 1
      node_id: 2
      cache_results: false
      pos_x: 350
      pos_y: 200
      is_setup: true
      description: "Filter Electronics"
      depending_on_id: 1
      filter_input:
        mode: "basic"
        basic_filter:
          field: "category"
          operator: "equals"
          value: "Electronics"
        advanced_filter: ""

  - id: 3
    type: group_by
    is_start_node: false
    description: "Group by Region"
    x_position: 600
    y_position: 200
    input_ids: [2]
    outputs: [4]
    setting_input:
      flow_id: 1
      node_id: 3
      cache_results: false
      pos_x: 600
      pos_y: 200
      is_setup: true
      description: "Group by Region"
      depending_on_id: 2
      groupby_input:
        agg_cols:
          - old_name: "region"
            agg: "groupby"
            new_name: "region"
          - old_name: "quantity"
            agg: "sum"
            new_name: "total_quantity"
          - old_name: "unit_price"
            agg: "mean"
            new_name: "avg_price"

  - id: 4
    type: sort
    is_start_node: false
    description: "Sort by Quantity"
    x_position: 850
    y_position: 200
    input_ids: [3]
    outputs: [5]
    setting_input:
      flow_id: 1
      node_id: 4
      cache_results: false
      pos_x: 850
      pos_y: 200
      is_setup: true
      description: "Sort by Quantity"
      depending_on_id: 3
      sort_input:
        sort_cols:
          - column: "total_quantity"
            descending: true

  - id: 5
    type: preview
    is_start_node: false
    description: "View Results"
    x_position: 1100
    y_position: 200
    input_ids: [4]
    outputs: []
    setting_input:
      flow_id: 1
      node_id: 5
      cache_results: false
      pos_x: 1100
      pos_y: 200
      is_setup: true
      description: "View Results"
      depending_on_id: 4

connections:
  - from_node: 1
    to_node: 2
    from_handle: "output-0"
    to_handle: "input-0"
  - from_node: 2
    to_node: 3
    from_handle: "output-0"
    to_handle: "input-0"
  - from_node: 3
    to_node: 4
    from_handle: "output-0"
    to_handle: "input-0"
  - from_node: 4
    to_node: 5
    from_handle: "output-0"
    to_handle: "input-0"
